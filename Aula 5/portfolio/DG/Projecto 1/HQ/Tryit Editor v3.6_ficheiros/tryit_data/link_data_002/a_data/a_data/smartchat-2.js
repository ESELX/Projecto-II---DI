/* sockjs-client v1.1.5 | http://sockjs.org | MIT license */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SockJS=t()}}(function(){var t;return function(){function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return i(e[s][1][t]||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return t}()({1:[function(t,e,n){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){"use strict";function r(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var i=t("inherits"),o=t("./event");i(r,o),e.exports=r},{"./event":4,"inherits":54}],3:[function(t,e,n){"use strict";function r(){o.call(this)}var i=t("inherits"),o=t("./eventtarget");i(r,o),r.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},r.prototype.once=function(t,e){function n(){r.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}var r=this,i=!1;this.on(t,n)},r.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},r.prototype.on=r.prototype.addListener=o.prototype.addEventListener,r.prototype.removeListener=o.prototype.removeEventListener,e.exports.EventEmitter=r},{"./eventtarget":5,"inherits":54}],4:[function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},{}],5:[function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},{}],6:[function(t,e,n){"use strict";function r(t){o.call(this),this.initEvent("message",!1,!1),this.data=t}var i=t("inherits"),o=t("./event");i(r,o),e.exports=r},{"./event":4,"inherits":54}],7:[function(t,e,n){"use strict";function r(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var i=t("json3"),o=t("./utils/iframe");r.prototype._transportClose=function(t,e){o.postMessage("c",i.stringify([t,e]))},r.prototype._transportMessage=function(t){o.postMessage("t",t)},r.prototype._send=function(t){this._transport.send(t)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=r},{"./utils/iframe":47,"json3":55}],8:[function(t,e,n){"use strict";var r=t("./utils/url"),i=t("./utils/event"),o=t("json3"),s=t("./facade"),a=t("./info-iframe-receiver"),l=t("./utils/iframe"),u=t("./location");e.exports=function(t,e){var n={};e.forEach(function(t){t.facadeTransport&&(n[t.facadeTransport.transportName]=t.facadeTransport)}),n[a.transportName]=a;var c;t.bootstrap_iframe=function(){var e;l.currentWindowId=u.hash.slice(1);var a=function(i){if(i.source===parent&&(void 0===c&&(c=i.origin),i.origin===c)){var a;try{a=o.parse(i.data)}catch(t){return void i.data}if(a.windowId===l.currentWindowId)switch(a.type){case"s":var f;try{f=o.parse(a.data)}catch(t){a.data;break}var h=f[0],d=f[1],p=f[2],v=f[3];if(h!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(p,u.href)||!r.isOriginEqual(v,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+p+", "+v+")");e=new s(new n[d](p,v));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}};i.attachEvent("message",a),l.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,"debug":void 0,"json3":55}],9:[function(t,e,n){"use strict";function r(t,e){i.call(this);var n=this,r=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var i,o;if(200===t){if(o=+new Date-r,e)try{i=s.parse(e)}catch(t){}a.isObject(i)||(i={})}n.emit("finish",i,o),n.removeAllListeners()})}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/object");o(r,i),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=r},{"./utils/object":49,"debug":void 0,"events":3,"inherits":54,"json3":55}],10:[function(t,e,n){"use strict";function r(t){var e=this;o.call(this),this.ir=new l(t,a),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",s.stringify([t,n]))})}var i=t("inherits"),o=t("events").EventEmitter,s=t("json3"),a=t("./transport/sender/xhr-local"),l=t("./info-ajax");i(r,o),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=r},{"./info-ajax":9,"./transport/sender/xhr-local":37,"events":3,"inherits":54,"json3":55}],11:[function(t,e,n){(function(n){"use strict";function r(t,e){var r=this;i.call(this);var o=function(){var n=r.ifr=new l(u.transportName,e,t);n.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(t){return r.emit("finish"),void r.close()}var n=e[0],i=e[1];r.emit("finish",n,i)}r.close()}),n.once("close",function(){r.emit("finish"),r.close()})};n.document.body?o():a.attachEvent("load",o)}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/event"),l=t("./transport/iframe"),u=t("./info-iframe-receiver");o(r,i),r.enabled=function(){return l.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,"debug":void 0,"events":3,"inherits":54,"json3":55}],12:[function(t,e,n){"use strict";function r(t,e){var n=this;i.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("./utils/url"),a=t("./transport/sender/xdr"),l=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),c=t("./transport/sender/xhr-fake"),f=t("./info-iframe"),h=t("./info-ajax");o(r,i),r._getReceiver=function(t,e,n){return n.sameOrigin?new h(e,u):l.enabled?new h(e,l):a.enabled&&n.sameScheme?new h(e,a):f.enabled()?new f(t,e):new h(e,c)},r.prototype.doXhr=function(t,e){var n=this,i=s.addPath(t,"/info");this.xo=r._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},r.timeout),this.xo.once("finish",function(t,e){n._cleanup(!0),n.emit("finish",t,e)})},r.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},r.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},r.timeout=8e3,e.exports=r},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,"debug":void 0,"events":3,"inherits":54}],13:[function(t,e,n){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&m.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return u.string(i)}}this._server=n.server||u.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===g.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var l=e.sort();l.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<l.length-1&&t===l[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var c=f.getOrigin(g.href);this._origin=c?c.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this.url,this._urlInfo={nullOrigin:!v.hasDomain(),sameOrigin:f.isOriginEqual(this.url,g.href),sameScheme:f.isSchemeEqual(this.url,g.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&t<=4999}t("./shims");var o,s=t("url-parse"),a=t("inherits"),l=t("json3"),u=t("./utils/random"),c=t("./utils/escape"),f=t("./utils/url"),h=t("./utils/event"),d=t("./utils/transport"),p=t("./utils/object"),v=t("./utils/browser"),m=t("./utils/log"),b=t("./event/event"),y=t("./event/eventtarget"),g=t("./location"),w=t("./event/close"),x=t("./event/trans-message"),_=t("./info-receiver");a(r,y),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(c.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=p.extend(t,this._urlInfo);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._transports.length,this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.transportName,t.needBody&&(!n.document.body||void 0!==n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName],o=new t(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){this.readyState===r.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},r.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new b("heartbeat")),void this.transport}if(i)try{e=l.parse(i)}catch(t){}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){n.transport,n.dispatchEvent(new x(t))});break;case"m":this.transport,this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){if(this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!i(t)&&2e3!==t&&this.readyState===r.CONNECTING)return void this._connect();this._close(t,e)},r.prototype._open=function(){this._transport.transportName,this.readyState,this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new b("open")),this.transport):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){this.transport,this.readyState;var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new b("error"));var o=new w("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return o=d(e),t("./iframe-bootstrap")(r,e),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,"debug":void 0,"inherits":54,"json3":55,"url-parse":58}],15:[function(t,e,n){"use strict";function r(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function i(t){return t>>>0}function o(){}var s,a=Array.prototype,l=Object.prototype,u=Function.prototype,c=String.prototype,f=a.slice,h=l.toString,d=function(t){return"[object Function]"===l.toString.call(t)},p=function(t){return"[object Array]"===h.call(t)},v=function(t){return"[object String]"===h.call(t)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();s=m?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var b=function(t,e,n){for(var r in e)l.hasOwnProperty.call(e,r)&&s(t,r,e[r],n)},y=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};b(u,{bind:function(t){var e=this;if(!d(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=f.call(arguments,1),r=function(){if(this instanceof l){var r=e.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(f.call(arguments)))},i=Math.max(0,e.length-n.length),s=[],a=0;a<i;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(o.prototype=e.prototype,l.prototype=new o,o.prototype=null),l}}),b(Array,{isArray:p});var g=Object("a"),w="a"!==g[0]||!(0 in g);b(a,{forEach:function(t){var e=y(this),n=w&&v(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!d(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n}(a.forEach));var x=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);b(a,{indexOf:function(t){var e=w&&v(this)?this.split(""):y(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=r(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}},x);var _=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];c.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==h.call(e))return _.call(this,e,n);var o,s,l,u,c=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),d=0;for(e=new RegExp(e.source,f+"g"),r+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",f)),n=void 0===n?-1>>>0:i(n);(s=e.exec(r))&&!((l=s.index+s[0].length)>d&&(c.push(r.slice(d,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<r.length&&a.push.apply(c,s.slice(1)),u=s[0].length,d=l,c.length>=n));)e.lastIndex===s.index&&e.lastIndex++;return d===r.length?!u&&e.test("")||c.push(""):c.push(r.slice(d)),c.length>n?c.slice(0,n):c}}():"0".split(void 0,0).length&&(c.split=function(t,e){return void 0===t&&0===e?[]:_.call(this,t,e)});var E=c.substr,j="".substr&&"b"!=="0b".substr(-1);b(c,{substr:function(t,e){return E.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},j)},{}],16:[function(t,e,n){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e,n){(function(n){"use strict";function r(t,e,n,r){var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),l=n.XMLHttpRequest;o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new l}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(this.xhr.withCredentials=!0),i&&i.headers)for(var u in i.headers)this.xhr.setRequestHeader(u,i.headers[u]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(n.readyState,n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&t.length>0&&o.emit("chunk",e,t);break;case 4:e=n.status,1223===e&&(e=204),12005!==e&&12029!==e||(e=0),n.responseText,o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(t){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!!l;var u=["Active"].concat("Object").join("X");!r.enabled&&u in n&&(l=function(){try{return new n[u]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new l);var c=!1;try{c="withCredentials"in new l}catch(t){}r.supportsCORS=c,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,"debug":void 0,"events":3,"inherits":54}],18:[function(t,e,n){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){(function(t){"use strict";var n=t.WebSocket||t.MozWebSocket;e.exports=n?function(t){return new n(t)}:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/eventsource",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/eventsource"),a=t("./sender/xhr-cors"),l=t("eventsource");i(r,o),r.enabled=function(){return!!l},r.transportName="eventsource",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,"eventsource":18,"inherits":54}],21:[function(t,e,n){"use strict";function r(t){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",o,s)}var i=t("inherits"),o=t("./receiver/htmlfile"),s=t("./sender/xhr-local"),a=t("./lib/ajax-based");i(r,a),r.enabled=function(t){return o.enabled&&t.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,"inherits":54}],22:[function(t,e,n){"use strict";function r(t,e,n){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this);var i=this;this.origin=l.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=f.string(8);var o=l.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(o,function(t){i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}var i=t("inherits"),o=t("json3"),s=t("events").EventEmitter,a=t("../version"),l=t("../utils/url"),u=t("../utils/iframe"),c=t("../utils/event"),f=t("../utils/random");i(r,s),r.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},r.prototype._message=function(t){if(t.data,!l.isOriginEqual(t.origin,this.origin))return t.origin,void this.origin;var e;try{e=o.parse(t.data)}catch(e){return void t.data}if(e.windowId!==this.windowId)return e.windowId,void this.windowId;switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=o.parse(e.data)}catch(t){return void e.data}this.emit("close",n[0],n[1]),this.close()}},r.prototype.postMessage=function(t,e){this.iframeObj.post(o.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},r.prototype.send=function(t){this.postMessage("m",t)},r.enabled=function(){return u.iframeEnabled},r.transportName="iframe",r.roundTrips=2,e.exports=r},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,"debug":void 0,"events":3,"inherits":54,"json3":55}],23:[function(t,e,n){(function(n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,"inherits":54}],24:[function(t,e,n){"use strict";function r(t){return function(e,n,r){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var o=s.addPath(e,"/xhr_send"),a=new t("POST",o,n,i);return a.once("finish",function(t){if(a=null,200!==t&&204!==t)return r(new Error("http status "+t));r()}),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function i(t,e,n,i){a.call(this,t,e,r(i),n,i)}var o=t("inherits"),s=t("../../utils/url"),a=t("./sender-receiver");o(i,a),e.exports=i},{"../../utils/url":52,"./sender-receiver":28,"debug":void 0,"inherits":54}],25:[function(t,e,n){"use strict";function r(t,e){o.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)},r.prototype.sendSchedule=function(){this.sendBuffer.length;var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=r},{"debug":void 0,"events":3,"inherits":54}],26:[function(t,e,n){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,"inherits":54}],27:[function(t,e,n){"use strict";function r(t,e,n){o.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){t.emit("message",e)}),e.once("close",function(n,r){t.pollIsClosing,t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=r},{"debug":void 0,"events":3,"inherits":54}],28:[function(t,e,n){"use strict";function r(t,e,n,r,i){var l=o.addPath(t,e),u=this;s.call(this,t,n),this.poll=new a(r,l,i),this.poll.on("message",function(t){u.emit("message",t)}),this.poll.once("close",function(t,e){u.poll=null,u.emit("close",t,e),u.close()})}var i=t("inherits"),o=t("../../utils/url"),s=t("./buffered-sender"),a=t("./polling");i(r,s),r.prototype.close=function(){s.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=r},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,"debug":void 0,"inherits":54}],29:[function(t,e,n){"use strict";function r(t){o.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){t.data,e.emit("message",decodeURI(t.data))},n.onerror=function(t){n.readyState;var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var i=t("inherits"),o=t("events").EventEmitter,s=t("eventsource");i(r,o),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},r.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=r},{"debug":void 0,"events":3,"eventsource":18,"inherits":54}],30:[function(t,e,n){(function(n){"use strict";function r(t){a.call(this);var e=this;o.polluteGlobalNamespace(),this.id="a"+l.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),r.htmlfileEnabled;var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=i(t,function(){e._cleanup(),e._close("permanent")})}var i=t("inherits"),o=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,l=t("../../utils/random");i(r,a),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},r.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in n)try{r.htmlfileEnabled=!!new n[u]("htmlfile")}catch(t){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":void 0,"events":3,"inherits":54}],31:[function(t,e,n){(function(n){"use strict";function r(t){var e=this;u.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=t("../../utils/iframe"),o=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),l=t("inherits"),u=t("events").EventEmitter;l(r,u),r.prototype.abort=function(){if(n[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},r.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){var e,r=this,i=this.script=n.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",
		i.onerror=this._scriptError.bind(this),i.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(i.readyState,/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&n.document.attachEvent)if(s.isOpera())e=this.script2=n.document.createElement("script"),e.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(t){}i.async=!0}void 0!==i.async&&(i.async=!0);var a=n.document.getElementsByTagName("head")[0];a.insertBefore(i,a.firstChild),e&&a.insertBefore(e,a.firstChild)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":void 0,"events":3,"inherits":54}],32:[function(t,e,n){"use strict";function r(t,e){o.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()})}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=r},{"debug":void 0,"events":3,"inherits":54}],33:[function(t,e,n){(function(n){"use strict";function r(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(r){var e=n.document.createElement("iframe");return e.name=t,e}}function i(){o=n.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=n.document.createElement("textarea"),s.name="d",o.appendChild(s),n.document.body.appendChild(o)}var o,s,a=t("../../utils/random"),l=t("../../utils/url");e.exports=function(t,e,n){o||i();var u="a"+a.string(8);o.target=u,o.action=l.addQuery(l.addPath(t,"/jsonp_send"),"i="+u);var c=r(u);c.id=u,c.style.display="none",o.appendChild(c);try{s.value=e}catch(t){}o.submit();var f=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),s.value="",n(t))};return c.onerror=function(){f()},c.onload=function(){f()},c.onreadystatechange=function(t){c.readyState,"complete"===c.readyState&&f()},function(){f(new Error("Aborted"))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,"debug":void 0}],34:[function(t,e,n){(function(n){"use strict";function r(t,e,n){var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),l=t("../../utils/url");o(r,i),r.prototype._start=function(t,e,r){var i=this,o=new n.XDomainRequest;e=l.addQuery(e,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){o.responseText,i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,"debug":void 0,"events":3,"inherits":54}],35:[function(t,e,n){"use strict";function r(t,e,n,r){o.call(this,t,e,n,r)}var i=t("inherits"),o=t("../driver/xhr");i(r,o),r.enabled=o.enabled&&o.supportsCORS,e.exports=r},{"../driver/xhr":17,"inherits":54}],36:[function(t,e,n){"use strict";function r(){var t=this;i.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},r.timeout)}var i=t("events").EventEmitter;t("inherits")(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,e.exports=r},{"events":3,"inherits":54}],37:[function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n,{noCredentials:!0})}var i=t("inherits"),o=t("../driver/xhr");i(r,o),r.enabled=o.enabled,e.exports=r},{"../driver/xhr":17,"inherits":54}],38:[function(t,e,n){"use strict";function r(t,e,n){if(!r.enabled())throw new Error("Transport created when disabled");a.call(this);var s=this,u=o.addPath(t,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new l(this.url,[],n),this.ws.onmessage=function(t){t.data,s.emit("message",t.data)},this.unloadRef=i.unloadAdd(function(){s.ws.close()}),this.ws.onclose=function(t){t.code,t.reason,s.emit("close",t.code,t.reason),s._cleanup()},this.ws.onerror=function(t){s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}var i=t("../utils/event"),o=t("../utils/url"),s=t("inherits"),a=t("events").EventEmitter,l=t("./driver/websocket");s(r,a),r.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},r.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},r.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},r.enabled=function(){return!!l},r.transportName="websocket",r.roundTrips=2,e.exports=r},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,"debug":void 0,"events":3,"inherits":54}],39:[function(t,e,n){"use strict";function r(t){if(!l.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",a,l)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./xdr-streaming"),a=t("./receiver/xhr"),l=t("./sender/xdr");i(r,o),r.enabled=s.enabled,r.transportName="xdr-polling",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,"inherits":54}],40:[function(t,e,n){"use strict";function r(t){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xdr");i(r,o),r.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},r.transportName="xdr-streaming",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"inherits":54}],41:[function(t,e,n){"use strict";function r(t){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),l=t("./sender/xhr-local");i(r,o),r.enabled=function(t){return!t.nullOrigin&&(!(!l.enabled||!t.sameOrigin)||a.enabled)},r.transportName="xhr-polling",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":54}],42:[function(t,e,n){(function(n){"use strict";function r(t){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),l=t("./sender/xhr-local"),u=t("../utils/browser");i(r,o),r.enabled=function(t){return!t.nullOrigin&&(!u.isOpera()&&a.enabled)},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":54}],43:[function(t,e,n){(function(t){"use strict";t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(t){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){"use strict";var r,i=t("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};e.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=s(o)),e.replace(o,function(t){return r[t]})):e}}},{"json3":55}],46:[function(t,e,n){(function(n){"use strict";var r=t("./random"),i={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};var a=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e,n){(function(n){"use strict";var r=t("./event"),i=t("json3"),o=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,o,s=n.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},l=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},u=function(t){s&&(l(),e(t))},c=function(t,e){setTimeout(function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(t){}},0)};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){u("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){u("onload timeout")},2e3)},n.document.body.appendChild(s),i=setTimeout(function(){u("timeout")},15e3),o=r.unloadAdd(l),{post:c,cleanup:l,loaded:a}},createHtmlfile:function(t,i){var o,s,a,l=["Active"].concat("Object").join("X"),u=new n[l]("htmlfile"),c=function(){clearTimeout(o),a.onerror=null},f=function(){u&&(c(),r.unloadDel(s),a.parentNode.removeChild(a),a=u=null,CollectGarbage())},h=function(t){u&&(f(),i(t))},d=function(t,e){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(t){}};u.open(),u.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var p=u.createElement("div");return u.body.appendChild(p),a=u.createElement("iframe"),p.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},o=setTimeout(function(){h("timeout")},15e3),s=r.unloadAdd(f),{post:d,cleanup:f,loaded:c}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,"debug":void 0,"json3":55}],48:[function(t,e,n){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r;try{r=t.console&&t.console[e]&&t.console[e].apply}catch(t){}n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},{}],50:[function(t,e,n){"use strict";var r=t("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=i.length,n=r.randomBytes(t),o=[],s=0;s<t;s++)o.push(i.substr(n[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},{"crypto":43}],51:[function(t,e,n){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){if(t&&("websocket"!==t.transportName||!1!==n.websocket))return e.length&&-1===e.indexOf(t.transportName)?void t.transportName:void(t.enabled(n)?(t.transportName,r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):t.transportName)}),r}}}},{"debug":void 0}],52:[function(t,e,n){"use strict";var r=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{"debug":void 0,"url-parse":58}],53:[function(t,e,n){e.exports="1.1.5"},{}],54:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(e,n,r){(function(e){(function(){function i(t,e){function n(t){if(n[t]!==m)return n[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l=e.stringify,c="function"==typeof l&&g;if(c){(s=function(){return 1}).toJSON=s;try{c="0"===l(0)&&"0"===l(new r)&&'""'==l(new o)&&l(y)===m&&l(m)===m&&l()===m&&"1"===l(s)&&"[1]"==l([s])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,y,null])&&l({"a":[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===l(null,s)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new u(-1))}catch(t){c=!1}}i=c}if("json-parse"==t){var f=e.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){s=f(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!f('"\t"')}catch(t){}if(h)try{h=1!==f("01")}catch(t){}if(h)try{h=1!==f("1.")}catch(t){}}}}catch(t){h=!1}i=h}}return n[t]=!!i}t||(t=l.Object()),e||(e=l.Object());var r=t.Number||l.Number,o=t.String||l.String,a=t.Object||l.Object,u=t.Date||l.Date,c=t.SyntaxError||l.SyntaxError,f=t.TypeError||l.TypeError,h=t.Math||l.Math,d=t.JSON||l.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p,v,m,b=a.prototype,y=b.toString,g=new u(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(t){}if(!n("json")){var w=n("bug-string-char-index");if(!g)var x=h.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(t,e){return _[e]+365*(t-1970)+x((t-1969+(e=+(e>1)))/4)-x((t-1901+e)/100)+x((t-1601+e)/400)};if((p=b.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={"toString":1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),v=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&o++;return n=r=null,o?v=2==o?function(t,e){var n,r={},i="[object Function]"==y.call(t);for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i="[object Function]"==y.call(t);for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(t,e){var n,i,o="[object Function]"==y.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),v(t,e)},!n("json-stringify")){var j={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(t,e){return("000000"+(e||0)).slice(-t)},T=function(t){for(var e='"',n=0,r=t.length,i=!w||r>10,o=i&&(w?t.split(""):t);n<r;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=j[s];break;default:if(s<32){e+="\\u00"+S(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},O=function(t,e,n,r,i,o,s){var a,l,u,c,h,d,b,g,w,_,j,C,N,A,k,I;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(l=y.call(a))||p.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(E){for(h=x(a/864e5),u=x(h/365.2425)+1970-1;E(u+1,0)<=h;u++);for(c=x((h-E(u,0))/30.42);E(u,c+1)<=h;c++);h=1+h-E(u,c),d=(a%864e5+864e5)%864e5,b=x(d/36e5)%24,g=x(d/6e4)%60,w=x(d/1e3)%60,_=d%1e3}else u=a.getUTCFullYear(),c=a.getUTCMonth(),h=a.getUTCDate(),b=a.getUTCHours(),g=a.getUTCMinutes(),w=a.getUTCSeconds(),_=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+S(6,u<0?-u:u):S(4,u))+"-"+S(2,c+1)+"-"+S(2,h)+"T"+S(2,b)+":"+S(2,g)+":"+S(2,w)+"."+S(3,_)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(l=y.call(a)))return""+a;if("[object Number]"==l)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==l)return T(""+a);if("object"==typeof a){for(A=s.length;A--;)if(s[A]===a)throw f();if(s.push(a),j=[],k=o,o+=i,"[object Array]"==l){for(N=0,A=a.length;N<A;N++)C=O(N,a,n,r,i,o,s),j.push(C===m?"null":C);I=j.length?i?"[\n"+o+j.join(",\n"+o)+"\n"+k+"]":"["+j.join(",")+"]":"[]"}else v(r||a,function(t){var e=O(t,a,n,r,i,o,s);e!==m&&j.push(T(t)+":"+(i?" ":"")+e)}),I=j.length?i?"{\n"+o+j.join(",\n"+o)+"\n"+k+"}":"{"+j.join(",")+"}":"{}";return s.pop(),I}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=y.call(e)))i=e;else if("[object Array]"==a){o={};for(var l,u=0,c=e.length;u<c;l=e[u++],("[object String]"==(a=y.call(l))||"[object Number]"==a)&&(o[l]=1));}if(n)if("[object Number]"==(a=y.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return O("",(l={},l[""]=t,l),i,o,r,"",[])}}if(!n("json-parse")){var C,N,A=o.fromCharCode,k={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw C=N=null,c()},P=function(){for(var t,e,n,r,i,o=N,s=o.length;C<s;)switch(i=o.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?o.charAt(C):o[C],C++,t;case 34:for(t="@",C++;C<s;)if((i=o.charCodeAt(C))<32)I();else if(92==i)switch(i=o.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=k[i],C++;break;case 117:for(e=++C,n=C+4;C<n;C++)(i=o.charCodeAt(C))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||I();t+=A("0x"+o.slice(e,C));break;default:I()}else{if(34==i)break;for(i=o.charCodeAt(C),e=C;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++C);t+=o.slice(e,C)}if(34==o.charCodeAt(C))return C++,t;I();default:if(e=C,45==i&&(r=!0,i=o.charCodeAt(++C)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(C+1))>=48&&i<=57&&I(),r=!1;C<s&&(i=o.charCodeAt(C))>=48&&i<=57;C++);if(46==o.charCodeAt(C)){for(n=++C;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==C&&I(),C=n}if(101==(i=o.charCodeAt(C))||69==i){for(i=o.charCodeAt(++C),43!=i&&45!=i||C++,n=C;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==C&&I(),C=n}return+o.slice(e,C)}if(r&&I(),"true"==o.slice(C,C+4))return C+=4,!0;if("false"==o.slice(C,C+5))return C+=5,!1;if("null"==o.slice(C,C+4))return C+=4,null;I()}return"$"},L=function(t){var e,n;if("$"==t&&I(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=P());n||(n=!0))n&&(","==t?"]"==(t=P())&&I():I()),","==t&&I(),e.push(L(t));return e}if("{"==t){for(e={};"}"!=(t=P());n||(n=!0))n&&(","==t?"}"==(t=P())&&I():I()),","!=t&&"string"==typeof t&&"@"==(w?t.charAt(0):t[0])&&":"==P()||I(),e[t.slice(1)]=L(P());return e}I()}return t},R=function(t,e,n){var r=U(t,e,n);r===m?delete t[e]:t[e]=r},U=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==y.call(i))for(r=i.length;r--;)R(i,r,n);else v(i,function(t){R(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return C=0,N=""+t,n=L(P()),"$"!=P()&&I(),C=N=null,e&&"[object Function]"==y.call(e)?U((r={},r[""]=n,r),"",e):n}}}return e.runInContext=i,e}var o="function"==typeof t&&t.amd,s={"function":!0,"object":!0},a=s[typeof r]&&r&&!r.nodeType&&r,l=s[typeof window]&&window||this,u=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),a&&!o)i(l,a);else{var c=l.JSON,f=l.JSON3,h=!1,d=i(l,l.JSON3={"noConflict":function(){return h||(h=!0,l.JSON=c,l.JSON3=f,c=f=null),d}});l.JSON={"parse":d.parse,"stringify":d.stringify}}o&&t(function(){return d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e,n){"use strict";function r(t){return decodeURIComponent(t.replace(/\+/g," "))}function i(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,i={};e=n.exec(t);){var o=r(e[1]),s=r(e[2]);o in i||(i[o]=s)}return i}function o(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var r in t)s.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}var s=Object.prototype.hasOwnProperty;n.stringify=o,n.parse=i},{}],57:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],58:[function(t,e,n){(function(n){"use strict";function r(t){t=t||n.location||{};var e,r={},i=typeof t;if("blob:"===t.protocol)r=new s(unescape(t.pathname),{});else if("string"===i){r=new s(t,{});for(e in p)delete r[e]}else if("object"===i){for(e in t)e in p||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=h.test(t.href))}return r}function i(t){var e=f.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function o(t,e){for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);var a,l,f,h,p,v,m=d.slice(),b=typeof e,y=this,g=0;for("object"!==b&&"string"!==b&&(n=e,e=null),n&&"function"!=typeof n&&(n=c.parse),e=r(e),l=i(t||""),a=!l.protocol&&!l.slashes,y.slashes=l.slashes||a&&e.slashes,y.protocol=l.protocol||e.protocol||"",t=l.rest,l.slashes||(m[2]=[/(.*)/,"pathname"]);g<m.length;g++)h=m[g],f=h[0],v=h[1],f!==f?y[v]=t:"string"==typeof f?~(p=t.indexOf(f))&&("number"==typeof h[2]?(y[v]=t.slice(0,p),t=t.slice(p+h[2])):(y[v]=t.slice(p),t=t.slice(0,p))):(p=f.exec(t))&&(y[v]=p[1],t=t.slice(0,p.index)),y[v]=y[v]||(a&&h[3]?e[v]||"":""),h[4]&&(y[v]=y[v].toLowerCase());n&&(y.query=n(y.query)),a&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=o(y.pathname,e.pathname)),u(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function a(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||c.parse)(e)),r[t]=e;break;case"port":r[t]=e,u(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var i="pathname"===t?"/":"#";r[t]=e.charAt(0)!==i?i+e:e}else r[t]=e;break;default:r[t]=e}for(var o=0;o<d.length;o++){var s=d[o];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function l(t){t&&"function"==typeof t||(t=c.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,e="object"==typeof n.query?t(n.query):n.query,e&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}var u=t("requires-port"),c=t("querystringify"),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};s.prototype={set:a,toString:l},s.extractProtocol=i,s.location=r,s.qs=c,e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"querystringify":56,"requires-port":57}]},{},[1])(1)});


/* MooTools: the javascript framework. license: MIT-style license. copyright: Copyright (c) 2006-2018 [Valerio Proietti](https://mootools.net/).*/
/*!
Web Build: https://mootools.net/core/builder/b7c3eeae94f1c893ddb863093e8282ef
*/
!function(){function t(t,e,i){if(r)for(var s=r.length;s--;){var o=r[s];n.call(t,o)&&e.call(i,o,t[o])}}this.MooTools={version:"1.6.0",build:"529422872adfff401b901b8b6c7ca5114ee95e2b"};var e=this.typeOf=function(t){if(null==t)return"null";if(null!=t.$family)return t.$family();if(t.nodeName){if(1==t.nodeType)return"element";if(3==t.nodeType)return/\S/.test(t.nodeValue)?"textnode":"whitespace"}else if("number"==typeof t.length){if("callee"in t)return"arguments";if("item"in t)return"collection"}return typeof t},n=(this.instanceOf=function(t,e){if(null==t)return!1;for(var n=t.$constructor||t.constructor;n;){if(n===e)return!0;n=n.parent}return!!t.hasOwnProperty&&t instanceof e},Object.prototype.hasOwnProperty),r=!0;for(var i in{toString:1})r=null;r&&(r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var s=this.Function;s.prototype.overloadSetter=function(e){var n=this;return function(r,i){if(null==r)return this;if(e||"string"!=typeof r){for(var s in r)n.call(this,s,r[s]);t(r,n,this)}else n.call(this,r,i);return this}},s.prototype.overloadGetter=function(t){var e=this;return function(n){var r,i;if("string"!=typeof n?r=n:arguments.length>1?r=arguments:t&&(r=[n]),r){i={};for(var s=0;s<r.length;s++)i[r[s]]=e.call(this,r[s])}else i=e.call(this,n);return i}},s.prototype.extend=function(t,e){this[t]=e}.overloadSetter(),s.prototype.implement=function(t,e){this.prototype[t]=e}.overloadSetter();var o=Array.prototype.slice;Array.convert=function(t){return null==t?[]:a.isEnumerable(t)&&"string"!=typeof t?"array"==e(t)?t:o.call(t):[t]},s.convert=function(t){return"function"==e(t)?t:function(){return t}},Number.convert=function(t){var e=parseFloat(t);return isFinite(e)?e:null},String.convert=function(t){return t+""},s.from=s.convert,Number.from=Number.convert,String.from=String.convert,s.implement({hide:function(){return this.$hidden=!0,this},protect:function(){return this.$protected=!0,this}});var a=this.Type=function(t,n){if(t){var r=t.toLowerCase(),i=function(t){return e(t)==r};a["is"+t]=i,null!=n&&(n.prototype.$family=function(){return r}.hide())}return null==n?null:(n.extend(this),n.$constructor=a,n.prototype.$constructor=n,n)},u=Object.prototype.toString;a.isEnumerable=function(t){return null!=t&&"number"==typeof t.length&&"[object Function]"!=u.call(t)};var c={},l=function(t){var n=e(t.prototype);return c[n]||(c[n]=[])},h=function(t,n){if(!n||!n.$hidden){for(var r=l(this),i=0;i<r.length;i++){var s=r[i];"type"==e(s)?h.call(s,t,n):s.call(this,t,n)}var a=this.prototype[t];null!=a&&a.$protected||(this.prototype[t]=n),null==this[t]&&"function"==e(n)&&f.call(this,t,function(t){return n.apply(t,o.call(arguments,1))})}},f=function(t,e){if(!e||!e.$hidden){var n=this[t];null!=n&&n.$protected||(this[t]=e)}};a.implement({implement:h.overloadSetter(),extend:f.overloadSetter(),alias:function(t,e){h.call(this,t,this.prototype[e])}.overloadSetter(),mirror:function(t){return l(this).push(t),this}}),new a("Type",a);var p=function(t,e,n){var r=e!=Object,i=e.prototype;r&&(e=new a(t,e));for(var s=0,o=n.length;s<o;s++){var u=n[s],c=e[u],l=i[u];c&&c.protect(),r&&l&&e.implement(u,l.protect())}if(r){var h=i.propertyIsEnumerable(n[0]);e.forEachMethod=function(t){if(!h)for(var e=0,r=n.length;e<r;e++)t.call(i,i[n[e]],n[e]);for(var s in i)t.call(i,i[s],s)}}return p};p("String",String,["charAt","charCodeAt","concat","contains","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","trim","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight","contains"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",s,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]),Object.extend=f.overloadSetter(),Date.extend("now",function(){return+new Date}),new a("Boolean",Boolean),Number.prototype.$family=function(){return isFinite(this)?"number":"null"}.hide(),Number.extend("random",function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}),Array.implement({forEach:function(t,e){for(var n=0,r=this.length;n<r;n++)n in this&&t.call(e,this[n],n,this)},each:function(t,e){return Array.forEach(this,t,e),this}}),Object.extend({keys:function(e){var r=[];for(var i in e)n.call(e,i)&&r.push(i);return t(e,function(t){r.push(t)}),r},forEach:function(t,e,n){Object.keys(t).forEach(function(r){e.call(n,t[r],r,t)})}}),Object.each=Object.forEach;var d=function(t){switch(e(t)){case"array":return t.clone();case"object":return Object.clone(t);default:return t}};Array.implement("clone",function(){for(var t=this.length,e=new Array(t);t--;)e[t]=d(this[t]);return e});var m=function(t,n,r){switch(e(r)){case"object":"object"==e(t[n])?Object.merge(t[n],r):t[n]=Object.clone(r);break;case"array":t[n]=r.clone();break;default:t[n]=r}return t};Object.extend({merge:function(t,n,r){if("string"==e(n))return m(t,n,r);for(var i=1,s=arguments.length;i<s;i++){var o=arguments[i];for(var a in o)m(t,a,o[a])}return t},clone:function(t){var e={};for(var n in t)e[n]=d(t[n]);return e},append:function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e]||{};for(var i in r)t[i]=r[i]}return t}}),["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(t){new a(t)});var v=Date.now();String.extend("uniqueID",function(){return(v++).toString(36)})}(),Array.implement({every:function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0},filter:function(t,e){for(var n,r=[],i=0,s=this.length>>>0;i<s;i++)i in this&&(n=this[i],t.call(e,n,i,this)&&r.push(n));return r},indexOf:function(t,e){for(var n=this.length>>>0,r=e<0?Math.max(0,n+e):e||0;r<n;r++)if(this[r]===t)return r;return-1},map:function(t,e){for(var n=this.length>>>0,r=Array(n),i=0;i<n;i++)i in this&&(r[i]=t.call(e,this[i],i,this));return r},some:function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1},clean:function(){return this.filter(function(t){return null!=t})},invoke:function(t){var e=Array.slice(arguments,1);return this.map(function(n){return n[t].apply(n,e)})},associate:function(t){for(var e={},n=Math.min(this.length,t.length),r=0;r<n;r++)e[t[r]]=this[r];return e},link:function(t){for(var e={},n=0,r=this.length;n<r;n++)for(var i in t)if(t[i](this[n])){e[i]=this[n],delete t[i];break}return e},contains:function(t,e){return-1!=this.indexOf(t,e)},append:function(t){return this.push.apply(this,t),this},getLast:function(){return this.length?this[this.length-1]:null},getRandom:function(){return this.length?this[Number.random(0,this.length-1)]:null},include:function(t){return this.contains(t)||this.push(t),this},combine:function(t){for(var e=0,n=t.length;e<n;e++)this.include(t[e]);return this},erase:function(t){for(var e=this.length;e--;)this[e]===t&&this.splice(e,1);return this},empty:function(){return this.length=0,this},flatten:function(){for(var t=[],e=0,n=this.length;e<n;e++){var r=typeOf(this[e]);"null"!=r&&(t=t.concat("array"==r||"collection"==r||"arguments"==r||instanceOf(this[e],Array)?Array.flatten(this[e]):this[e]))}return t},pick:function(){for(var t=0,e=this.length;t<e;t++)if(null!=this[t])return this[t];return null},hexToRgb:function(t){if(3!=this.length)return null;var e=this.map(function(t){return 1==t.length&&(t+=t),parseInt(t,16)});return t?e:"rgb("+e+")"},rgbToHex:function(t){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!t)return"transparent";for(var e=[],n=0;n<3;n++){var r=(this[n]-0).toString(16);e.push(1==r.length?"0"+r:r)}return t?e:"#"+e.join("")}}),Function.extend({attempt:function(){for(var t=0,e=arguments.length;t<e;t++)try{return arguments[t]()}catch(t){}return null}}),Function.implement({attempt:function(t,e){try{return this.apply(e,Array.convert(t))}catch(t){}return null},bind:function(t){var e=this,n=arguments.length>1?Array.slice(arguments,1):null,r=function(){},i=function(){var s=t,o=arguments.length;this instanceof i&&(r.prototype=e.prototype,s=new r);var a=n||o?e.apply(s,n&&o?n.concat(Array.slice(arguments)):n||arguments):e.call(s);return s==t?a:s};return i},pass:function(t,e){var n=this;return null!=t&&(t=Array.convert(t)),function(){return n.apply(e,t||arguments)}},delay:function(t,e,n){return setTimeout(this.pass(null==n?[]:n,e),t)},periodical:function(t,e,n){return setInterval(this.pass(null==n?[]:n,e),t)}}),Number.implement({limit:function(t,e){return Math.min(e,Math.max(t,this))},round:function(t){return t=Math.pow(10,t||0).toFixed(t<0?-t:0),Math.round(this*t)/t},times:function(t,e){for(var n=0;n<this;n++)t.call(e,n,this)},toFloat:function(){return parseFloat(this)},toInt:function(t){return parseInt(this,t||10)}}),Number.alias("each","times"),function(t){var e={};t.each(function(t){Number[t]||(e[t]=function(){return Math[t].apply(null,[this].concat(Array.convert(arguments)))})}),Number.implement(e)}(["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"]),String.implement({contains:function(t,e){return(e?String(this).slice(e):String(this)).indexOf(t)>-1},test:function(t,e){return("regexp"==typeOf(t)?t:new RegExp(""+t,e)).test(this)},trim:function(){return String(this).replace(/^\s+|\s+$/g,"")},clean:function(){return String(this).replace(/\s+/g," ").trim()},camelCase:function(){return String(this).replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(t){return"-"+t.charAt(0).toLowerCase()})},capitalize:function(){return String(this).replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},escapeRegExp:function(){return String(this).replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(t){return parseInt(this,t||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(t){var e=String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return e?e.slice(1).hexToRgb(t):null},rgbToHex:function(t){var e=String(this).match(/\d{1,3}/g);return e?e.rgbToHex(t):null},substitute:function(t,e){return String(this).replace(e||/\\?\{([^{}]+)\}/g,function(e,n){return"\\"==e.charAt(0)?e.slice(1):null!=t[n]?t[n]:""})}}),function(){var t=this.document,e=t.window=this,n=function(t,e){t=t.toLowerCase(),e=e?e.toLowerCase():"";var n=t.match(/(edge)[\s\/:]([\w\d\.]+)/);return n||(n=t.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0]),"trident"==n[1]?(n[1]="ie",n[4]&&(n[2]=n[4])):"crios"==n[1]&&(n[1]="chrome"),e=t.match(/ip(?:ad|od|hone)/)?"ios":(t.match(/(?:webos|android)/)||t.match(/mac|win|linux/)||["other"])[0],"win"==e&&(e="windows"),{extend:Function.prototype.extend,name:"version"==n[1]?n[3]:n[1],version:parseFloat("opera"==n[1]&&n[4]?n[4]:n[2]),platform:e}},r=this.Browser=n(navigator.userAgent,navigator.platform);if("ie"==r.name&&t.documentMode&&(r.version=t.documentMode),r.extend({Features:{xpath:!!t.evaluate,air:!!e.runtime,query:!!t.querySelector,json:!!e.JSON},parseUA:n}),r.Request=function(){var t=function(){return new XMLHttpRequest},e=function(){return new ActiveXObject("MSXML2.XMLHTTP")},n=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Function.attempt(function(){return t(),t},function(){return e(),e},function(){return n(),n})}(),r.Features.xhr=!!r.Request,r.exec=function(n){if(!n)return n;if(e.execScript)e.execScript(n);else{var r=t.createElement("script");r.setAttribute("type","text/javascript"),r.text=n,t.head.appendChild(r),t.head.removeChild(r)}return n},String.implement("stripScripts",function(t){var e="",n=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(t,n){return e+=n+"\n",""});return!0===t?r.exec(e):"function"==typeOf(t)&&t(e,n),n}),r.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event}),this.Window=this.$constructor=new Type("Window",function(){}),this.$family=Function.convert("window").hide(),Window.mirror(function(t,n){e[t]=n}),this.Document=t.$constructor=new Type("Document",function(){}),t.$family=Function.convert("document").hide(),Document.mirror(function(e,n){t[e]=n}),t.html=t.documentElement,t.head||(t.head=t.getElementsByTagName("head")[0]),t.execCommand)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(t){}if(this.attachEvent&&!this.addEventListener){var i=function(){this.detachEvent("onunload",i),t.head=t.html=t.window=null,e=this.Window=t=null};this.attachEvent("onunload",i)}var s=Array.convert;try{s(t.html.childNodes)}catch(t){Array.convert=function(t){if("string"!=typeof t&&Type.isEnumerable(t)&&"array"!=typeOf(t)){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}return s(t)};var o=Array.prototype,a=o.slice;["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(t){var e=o[t];Array[t]=function(t){return e.apply(Array.convert(t),a.call(arguments,1))}})}}(),function(){var t=this.Class=new Type("Class",function(r){instanceOf(r,Function)&&(r={initialize:r});var i=function(){if(n(this),i.$prototyping)return this;this.$caller=null,this.$family=null;var t=this.initialize?this.initialize.apply(this,arguments):this;return this.$caller=this.caller=null,t}.extend(this).implement(r);return i.$constructor=t,i.prototype.$constructor=i,i.prototype.parent=e,i}),e=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var t=this.$caller.$name,e=this.$caller.$owner.parent,n=e?e.prototype[t]:null;if(!n)throw new Error('The method "'+t+'" has no parent.');return n.apply(this,arguments)},n=function(t){for(var e in t){var r=t[e];switch(typeOf(r)){case"object":var i=function(){};i.prototype=r,t[e]=n(new i);break;case"array":t[e]=r.clone()}}return t},r=function(t,e,n){n.$origin&&(n=n.$origin);var r=function(){if(n.$protected&&null==this.$caller)throw new Error('The method "'+e+'" cannot be called.');var t=this.caller,i=this.$caller;this.caller=i,this.$caller=r;var s=n.apply(this,arguments);return this.$caller=i,this.caller=t,s}.extend({$owner:t,$origin:n,$name:e});return r},i=function(e,n,i){if(t.Mutators.hasOwnProperty(e)&&null==(n=t.Mutators[e].call(this,n)))return this;if("function"==typeOf(n)){if(n.$hidden)return this;this.prototype[e]=i?n:r(this,e,n)}else Object.merge(this.prototype,e,n);return this},s=function(t){t.$prototyping=!0;var e=new t;return delete t.$prototyping,e};t.implement("implement",i.overloadSetter()),t.Mutators={Extends:function(t){this.parent=t,this.prototype=s(t)},Implements:function(t){Array.convert(t).each(function(t){var e=new t;for(var n in e)i.call(this,n,e[n],!0)},this)}}}(),function(){this.Chain=new Class({$chain:[],chain:function(){return this.$chain.append(Array.flatten(arguments)),this},callChain:function(){return!!this.$chain.length&&this.$chain.shift().apply(this,arguments)},clearChain:function(){return this.$chain.empty(),this}});var t=function(t){return t.replace(/^on([A-Z])/,function(t,e){return e.toLowerCase()})};this.Events=new Class({$events:{},addEvent:function(e,n,r){return e=t(e),this.$events[e]=(this.$events[e]||[]).include(n),r&&(n.internal=!0),this},addEvents:function(t){for(var e in t)this.addEvent(e,t[e]);return this},fireEvent:function(e,n,r){e=t(e);var i=this.$events[e];return i?(n=Array.convert(n),i.each(function(t){r?t.delay(r,this,n):t.apply(this,n)},this),this):this},removeEvent:function(e,n){e=t(e);var r=this.$events[e];if(r&&!n.internal){var i=r.indexOf(n);-1!=i&&delete r[i]}return this},removeEvents:function(e){var n;if("object"==typeOf(e)){for(n in e)this.removeEvent(n,e[n]);return this}e&&(e=t(e));for(n in this.$events)if(!e||e==n)for(var r=this.$events[n],i=r.length;i--;)i in r&&this.removeEvent(n,r[i]);return this}}),this.Options=new Class({setOptions:function(){var t=this.options=Object.merge.apply(null,[{},this.options].append(arguments));if(this.addEvent)for(var e in t)"function"==typeOf(t[e])&&/^on[A-Z]/.test(e)&&(this.addEvent(e,t[e]),delete t[e]);return this}})}(),function(){function t(r,i){if(r.$thenableState===o)if(r===i)n(r,new TypeError("Tried to resolve a thenable with itself."));else if(!i||"object"!=typeof i&&"function"!=typeof i)e(r,i);else{var s;try{s=i.then}catch(t){n(r,t)}if("function"==typeof s){var a=!1;l(function(){try{s.call(i,function(e){a||(a=!0,t(r,e))},function(t){a||(a=!0,n(r,t))})}catch(t){a||(a=!0,n(r,t))}})}else e(r,i)}}function e(t,e){t.$thenableState===o&&(t.$thenableResult=e,t.$thenableState=a,i(t))}function n(t,e){t.$thenableState===o&&(t.$thenableResult=e,t.$thenableState=u,i(t))}function r(t){t.$thenableState!==o&&(t.$thenableResult=null,t.$thenableState=o)}function i(t){var e,n=t.$thenableState,r=t.$thenableResult,i=t.$thenableReactions;n===a?(t.$thenableReactions=[],e="fulfillHandler"):n==u&&(t.$thenableReactions=[],e="rejectHandler"),e&&l(s.pass([r,i,e]))}function s(e,r,i){for(var s=0,o=r.length;s<o;++s){var a=r[s],u=a[i];if("Identity"===u)t(a.thenable,e);else if("Thrower"===u)n(a.thenable,e);else try{t(a.thenable,u(e))}catch(t){n(a.thenable,t)}}}var o=0,a=1,u=2,c=Class.Thenable=new Class({$thenableState:o,$thenableResult:null,$thenableReactions:[],resolve:function(e){return t(this,e),this},reject:function(t){return n(this,t),this},getThenableState:function(){switch(this.$thenableState){case o:return"pending";case a:return"fulfilled";case u:return"rejected"}},resetThenable:function(t){return n(this,t),r(this),this},then:function(t,e){"function"!=typeof t&&(t="Identity"),"function"!=typeof e&&(e="Thrower");var n=new c;return this.$thenableReactions.push({thenable:n,fulfillHandler:t,rejectHandler:e}),this.$thenableState!==o&&i(this),n},catch:function(t){return this.then(null,t)}});c.extend({resolve:function(e){var n;return e instanceof c?n=e:(n=new c,t(n,e)),n},reject:function(t){var e=new c;return n(e,t),e}});var l;l="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick:"undefined"!=typeof setImmediate?setImmediate:function(t){setTimeout(t,0)}}(),function(){Object.extend({subset:function(t,e){for(var n={},r=0,i=e.length;r<i;r++){var s=e[r];s in t&&(n[s]=t[s])}return n},map:function(t,e,n){for(var r={},i=Object.keys(t),s=0;s<i.length;s++){var o=i[s];r[o]=e.call(n,t[o],o,t)}return r},filter:function(t,e,n){for(var r={},i=Object.keys(t),s=0;s<i.length;s++){var o=i[s],a=t[o];e.call(n,a,o,t)&&(r[o]=a)}return r},every:function(t,e,n){for(var r=Object.keys(t),i=0;i<r.length;i++){var s=r[i];if(!e.call(n,t[s],s))return!1}return!0},some:function(t,e,n){for(var r=Object.keys(t),i=0;i<r.length;i++){var s=r[i];if(e.call(n,t[s],s))return!0}return!1},values:function(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e.push(t[i])}return e},getLength:function(t){return Object.keys(t).length},keyOf:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(t[i]===e)return i}return null},contains:function(t,e){return null!=Object.keyOf(t,e)},toQueryString:function(t,e){var n=[];return Object.each(t,function(t,r){e&&(r=e+"["+r+"]");var i;switch(typeOf(t)){case"object":i=Object.toQueryString(t,r);break;case"array":var s={};t.each(function(t,e){s[e]=t}),i=Object.toQueryString(s,r);break;default:i=r+"="+encodeURIComponent(t)}null!=t&&n.push(i)}),n.join("&")}})}(),function(){function t(t,s,o,u,l,f,p,d,m,v,g,y,b,x,E,S){if((s||-1===n)&&(e.expressions[++n]=[],r=-1,s))return"";if(o||u||-1===r){o=o||" ";var w=e.expressions[n];i&&w[r]&&(w[r].reverseCombinator=c(o)),w[++r]={combinator:o,tag:"*"}}var k=e.expressions[n][r];if(l)k.tag=l.replace(a,"");else if(f)k.id=f.replace(a,"");else if(p)p=p.replace(a,""),k.classList||(k.classList=[]),k.classes||(k.classes=[]),k.classList.push(p),k.classes.push({value:p,regexp:new RegExp("(^|\\s)"+h(p)+"(\\s|$)")});else if(b)S=S||E,S=S?S.replace(a,""):null,k.pseudos||(k.pseudos=[]),k.pseudos.push({key:b.replace(a,""),value:S,type:1==y.length?"class":"element"});else if(d){d=d.replace(a,""),g=(g||"").replace(a,"");var T,C;switch(m){case"^=":C=new RegExp("^"+h(g));break;case"$=":C=new RegExp(h(g)+"$");break;case"~=":C=new RegExp("(^|\\s)"+h(g)+"(\\s|$)");break;case"|=":C=new RegExp("^"+h(g)+"(-|$)");break;case"=":T=function(t){return g==t};break;case"*=":T=function(t){return t&&t.indexOf(g)>-1};break;case"!=":T=function(t){return g!=t};break;default:T=function(t){return!!t}}""==g&&/^[*$^]=$/.test(m)&&(T=function(){return!1}),T||(T=function(t){return t&&C.test(t)}),k.attributes||(k.attributes=[]),k.attributes.push({key:d,operator:m,value:g,test:T})}return""}var e,n,r,i,s={},o={},a=/\\/g,u=function(r,a){if(null==r)return null;if(!0===r.Slick)return r;r=(""+r).replace(/^\s+|\s+$/g,""),i=!!a;var c=i?o:s;if(c[r])return c[r];for(e={Slick:!0,expressions:[],raw:r,reverse:function(){return u(this.raw,!0)}},n=-1;r!=(r=r.replace(f,t)););return e.length=e.expressions.length,c[e.raw]=i?l(e):e},c=function(t){return"!"===t?" ":" "===t?"!":/^!/.test(t)?t.replace(/^!/,""):"!"+t},l=function(t){for(var e=t.expressions,n=0;n<e.length;n++){for(var r=e[n],i={parts:[],tag:"*",combinator:c(r[0].combinator)},s=0;s<r.length;s++){var o=r[s];o.reverseCombinator||(o.reverseCombinator=" "),o.combinator=o.reverseCombinator,delete o.reverseCombinator}r.reverse().push(i)}return t},h=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(t){return"\\"+t})},f=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+h(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),p=this.Slick||{};p.parse=function(t){return u(t)},p.escapeRegExp=h,this.Slick||(this.Slick=p)}.apply("undefined"!=typeof exports?exports:this),function(){var t={},e={},n=Object.prototype.toString;t.isNativeCode=function(t){return/\{\s*\[native code\]\s*\}/.test(""+t)},t.isXML=function(t){return!!t.xmlVersion||!!t.xml||"[object XMLDocument]"==n.call(t)||9==t.nodeType&&"HTML"!=t.documentElement.nodeName},t.setDocument=function(t){var n=t.nodeType;if(9==n);else if(n)t=t.ownerDocument;else{if(!t.navigator)return;t=t.document}if(this.document!==t){this.document=t;var r,i=t.documentElement,s=this.getUIDXML(i),o=e[s];if(o)for(r in o)this[r]=o[r];else{o=e[s]={},o.root=i,o.isXMLDocument=this.isXML(t),o.brokenStarGEBTN=o.starSelectsClosedQSA=o.idGetsName=o.brokenMixedCaseQSA=o.brokenGEBCN=o.brokenCheckedQSA=o.brokenEmptyAttributeQSA=o.isHTMLDocument=o.nativeMatchesSelector=!1;var a,u,c,l,h,f,p="slick_uniqueid",d=t.createElement("div"),m=t.body||t.getElementsByTagName("body")[0]||i;m.appendChild(d);try{d.innerHTML='<a id="'+p+'"></a>',o.isHTMLDocument=!!t.getElementById(p)}catch(t){}if(o.isHTMLDocument){d.style.display="none",d.appendChild(t.createComment("")),u=d.getElementsByTagName("*").length>1;try{d.innerHTML="foo</foo>",f=d.getElementsByTagName("*"),a=f&&!!f.length&&"/"==f[0].nodeName.charAt(0)}catch(t){}o.brokenStarGEBTN=u||a;try{d.innerHTML='<a name="'+p+'"></a><b id="'+p+'"></b>',o.idGetsName=t.getElementById(p)===d.firstChild}catch(t){}if(d.getElementsByClassName){try{d.innerHTML='<a class="f"></a><a class="b"></a>',d.getElementsByClassName("b").length,d.firstChild.className="b",l=2!=d.getElementsByClassName("b").length}catch(t){}try{d.innerHTML='<a class="a"></a><a class="f b a"></a>',c=2!=d.getElementsByClassName("a").length}catch(t){}o.brokenGEBCN=l||c}if(d.querySelectorAll){try{d.innerHTML="foo</foo>",f=d.querySelectorAll("*"),o.starSelectsClosedQSA=f&&!!f.length&&"/"==f[0].nodeName.charAt(0)}catch(t){}try{d.innerHTML='<a class="MiX"></a>',o.brokenMixedCaseQSA=!d.querySelectorAll(".MiX").length}catch(t){}try{d.innerHTML='<select><option selected="selected">a</option></select>',o.brokenCheckedQSA=0==d.querySelectorAll(":checked").length}catch(t){}try{d.innerHTML='<a class=""></a>',o.brokenEmptyAttributeQSA=0!=d.querySelectorAll('[class*=""]').length}catch(t){}}try{d.innerHTML='<form action="s"><input id="action"/></form>',h="s"!=d.firstChild.getAttribute("action")}catch(t){}if(o.nativeMatchesSelector=i.matches||i.mozMatchesSelector||i.webkitMatchesSelector,o.nativeMatchesSelector)try{o.nativeMatchesSelector.call(i,":slick"),o.nativeMatchesSelector=null}catch(t){}}try{i.slick_expando=1,delete i.slick_expando,o.getUID=this.getUIDHTML}catch(t){o.getUID=this.getUIDXML}m.removeChild(d),d=f=m=null,o.getAttribute=o.isHTMLDocument&&h?function(t,e){var n=this.attributeGetters[e];if(n)return n.call(t);var r=t.getAttributeNode(e);return r?r.nodeValue:null}:function(t,e){var n=this.attributeGetters[e];return n?n.call(t):t.getAttribute(e)},o.hasAttribute=i&&this.isNativeCode(i.hasAttribute)?function(t,e){return t.hasAttribute(e)}:function(t,e){return!(!(t=t.getAttributeNode(e))||!t.specified&&!t.nodeValue)};var v=i&&this.isNativeCode(i.contains),g=t&&this.isNativeCode(t.contains);o.contains=v&&g?function(t,e){return t.contains(e)}:v&&!g?function(e,n){return e===n||(e===t?t.documentElement:e).contains(n)}:i&&i.compareDocumentPosition?function(t,e){return t===e||!!(16&t.compareDocumentPosition(e))}:function(t,e){if(e)do{if(e===t)return!0}while(e=e.parentNode);return!1},o.documentSorter=i.compareDocumentPosition?function(t,e){return t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:t===e?0:1:0}:"sourceIndex"in i?function(t,e){return t.sourceIndex&&e.sourceIndex?t.sourceIndex-e.sourceIndex:0}:t.createRange?function(t,e){if(!t.ownerDocument||!e.ownerDocument)return 0;var n=t.ownerDocument.createRange(),r=e.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,0),r.setStart(e,0),r.setEnd(e,0),n.compareBoundaryPoints(Range.START_TO_END,r)}:null,i=null;for(r in o)this[r]=o[r]}}};var r=/^([#.]?)((?:[\w-]+|\*))$/,i=/\[.+[*$^]=(?:""|'')?\]/,s={};t.search=function(t,e,n,o){var a=this.found=o?null:n||[];if(!t)return a;if(t.navigator)t=t.document;else if(!t.nodeType)return a;var u,c,l,f,p=this.uniques={},d=!(!n||!n.length),m=9==t.nodeType;if(this.document!==(m?t:t.ownerDocument)&&this.setDocument(t),d)for(c=a.length;c--;)p[this.getUID(a[c])]=!0;if("string"==typeof e){var v=e.match(r);t:if(v){var g=v[1],y=v[2];if(g){if("#"==g){if(!this.isHTMLDocument||!m)break t;if(!(l=t.getElementById(y)))return a;if(this.idGetsName&&l.getAttributeNode("id").nodeValue!=y)break t;if(o)return l||null;d&&p[this.getUID(l)]||a.push(l)}else if("."==g){if(!this.isHTMLDocument||(!t.getElementsByClassName||this.brokenGEBCN)&&t.querySelectorAll)break t;if(t.getElementsByClassName&&!this.brokenGEBCN){if(f=t.getElementsByClassName(y),o)return f[0]||null;for(c=0;l=f[c++];)d&&p[this.getUID(l)]||a.push(l)}else{var b=new RegExp("(^|\\s)"+h.escapeRegExp(y)+"(\\s|$)");for(f=t.getElementsByTagName("*"),c=0;l=f[c++];)if(className=l.className,className&&b.test(className)){if(o)return l;d&&p[this.getUID(l)]||a.push(l)}}}}else{if("*"==y&&this.brokenStarGEBTN)break t;if(f=t.getElementsByTagName(y),o)return f[0]||null;for(c=0;l=f[c++];)d&&p[this.getUID(l)]||a.push(l)}return d&&this.sort(a),o?null:a}t:if(t.querySelectorAll){if(!this.isHTMLDocument||s[e]||this.brokenMixedCaseQSA||this.brokenCheckedQSA&&e.indexOf(":checked")>-1||this.brokenEmptyAttributeQSA&&i.test(e)||!m&&e.indexOf(",")>-1||h.disableQSA)break t;var x,E=e,S=t;m||(x=S.getAttribute("id"),slickid="slickid__",S.setAttribute("id",slickid),E="#"+slickid+" "+E,t=S.parentNode);try{if(o)return t.querySelector(E)||null;f=t.querySelectorAll(E)}catch(t){s[e]=1;break t}finally{m||(x?S.setAttribute("id",x):S.removeAttribute("id"),t=S)}if(this.starSelectsClosedQSA)for(c=0;l=f[c++];)!(l.nodeName>"@")||d&&p[this.getUID(l)]||a.push(l);else for(c=0;l=f[c++];)d&&p[this.getUID(l)]||a.push(l);return d&&this.sort(a),a}if(u=this.Slick.parse(e),!u.length)return a}else{if(null==e)return a;if(!e.Slick)return this.contains(t.documentElement||t,e)?(a?a.push(e):a=e,a):a;u=e}this.posNTH={},this.posNTHLast={},this.posNTHType={},this.posNTHTypeLast={},this.push=!d&&(o||1==u.length&&1==u.expressions[0].length)?this.pushArray:this.pushUID,null==a&&(a=[]);var w,k,T,C,N,O,A,L,M,$,j,D,P,H,F=u.expressions;t:for(c=0;D=F[c];c++)for(w=0;P=D[w];w++){if(C="combinator:"+P.combinator,!this[C])continue t;if(N=this.isXMLDocument?P.tag:P.tag.toUpperCase(),O=P.id,A=P.classList,L=P.classes,M=P.attributes,$=P.pseudos,H=w===D.length-1,this.bitUniques={},H?(this.uniques=p,this.found=a):(this.uniques={},this.found=[]),0===w){if(this[C](t,N,O,L,M,$,A),o&&H&&a.length)break t}else if(o&&H){for(k=0,T=j.length;k<T;k++)if(this[C](j[k],N,O,L,M,$,A),a.length)break t}else for(k=0,T=j.length;k<T;k++)this[C](j[k],N,O,L,M,$,A);j=this.found}return(d||u.expressions.length>1)&&this.sort(a),o?a[0]||null:a},t.uidx=1,t.uidk="slick-uniqueid",t.getUIDXML=function(t){var e=t.getAttribute(this.uidk);return e||(e=this.uidx++,t.setAttribute(this.uidk,e)),e},t.getUIDHTML=function(t){return t.uniqueNumber||(t.uniqueNumber=this.uidx++)},t.sort=function(t){return this.documentSorter?(t.sort(this.documentSorter),t):t},t.cacheNTH={},t.matchNTH=/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/,t.parseNTHArgument=function(t){var e=t.match(this.matchNTH);if(!e)return!1;var n=e[2]||!1,r=e[1]||1;"-"==r&&(r=-1);var i=+e[3]||0;return e="n"==n?{a:r,b:i}:"odd"==n?{a:2,b:1}:"even"==n?{a:2,b:0}:{a:0,b:r},this.cacheNTH[t]=e},t.createNTHPseudo=function(t,e,n,r){return function(i,s){var o=this.getUID(i);if(!this[n][o]){var a=i.parentNode;if(!a)return!1;var u=a[t],c=1;if(r){var l=i.nodeName;do{u.nodeName==l&&(this[n][this.getUID(u)]=c++)}while(u=u[e])}else do{1==u.nodeType&&(this[n][this.getUID(u)]=c++)}while(u=u[e])}s=s||"n";var h=this.cacheNTH[s]||this.parseNTHArgument(s);if(!h)return!1;var f=h.a,p=h.b,d=this[n][o];if(0==f)return p==d;if(f>0){if(d<p)return!1}else if(p<d)return!1;return(d-p)%f==0}},t.pushArray=function(t,e,n,r,i,s){this.matchSelector(t,e,n,r,i,s)&&this.found.push(t)},t.pushUID=function(t,e,n,r,i,s){var o=this.getUID(t);!this.uniques[o]&&this.matchSelector(t,e,n,r,i,s)&&(this.uniques[o]=!0,this.found.push(t))},t.matchNode=function(t,e){if(this.isHTMLDocument&&this.nativeMatchesSelector)try{return this.nativeMatchesSelector.call(t,e.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(t){}var n=this.Slick.parse(e);if(!n)return!0;var r,i,s=n.expressions,o=0;for(r=0;i=s[r];r++)if(1==i.length){var a=i[0];if(this.matchSelector(t,this.isXMLDocument?a.tag:a.tag.toUpperCase(),a.id,a.classes,a.attributes,a.pseudos))return!0;o++}if(o==n.length)return!1;var u,c=this.search(this.document,n);for(r=0;u=c[r++];)if(u===t)return!0;return!1},t.matchPseudo=function(t,e,n){var r="pseudo:"+e;if(this[r])return this[r](t,n);var i=this.getAttribute(t,e);return n?n==i:!!i},t.matchSelector=function(t,e,n,r,i,s){if(e){var o=this.isXMLDocument?t.nodeName:t.nodeName.toUpperCase();if("*"==e){if(o<"@")return!1}else if(o!=e)return!1}if(n&&t.getAttribute("id")!=n)return!1;var a,u,c;if(r)for(a=r.length;a--;)if(!(c=this.getAttribute(t,"class"))||!r[a].regexp.test(c))return!1;if(i)for(a=i.length;a--;)if(u=i[a],u.operator?!u.test(this.getAttribute(t,u.key)):!this.hasAttribute(t,u.key))return!1;if(s)for(a=s.length;a--;)if(u=s[a],!this.matchPseudo(t,u.key,u.value))return!1;return!0};var o={" ":function(t,e,n,r,i,s,o){var a,u,c;if(this.isHTMLDocument){t:if(n){if(!(u=this.document.getElementById(n))&&t.all||this.idGetsName&&u&&u.getAttributeNode("id").nodeValue!=n){if(!(c=t.all[n]))return;for(c[0]||(c=[c]),a=0;u=c[a++];){var l=u.getAttributeNode("id");if(l&&l.nodeValue==n){this.push(u,e,null,r,i,s);break}}return}if(!u){if(this.contains(this.root,t))return;break t}if(this.document!==t&&!this.contains(t,u))return;return void this.push(u,e,null,r,i,s)}t:if(r&&t.getElementsByClassName&&!this.brokenGEBCN){
		if(!(c=t.getElementsByClassName(o.join(" ")))||!c.length)break t;for(a=0;u=c[a++];)this.push(u,e,n,null,i,s);return}}if((c=t.getElementsByTagName(e))&&c.length)for(this.brokenStarGEBTN||(e=null),a=0;u=c[a++];)this.push(u,e,n,r,i,s)},">":function(t,e,n,r,i,s){if(t=t.firstChild)do{1==t.nodeType&&this.push(t,e,n,r,i,s)}while(t=t.nextSibling)},"+":function(t,e,n,r,i,s){for(;t=t.nextSibling;)if(1==t.nodeType){this.push(t,e,n,r,i,s);break}},"^":function(t,e,n,r,i,s){(t=t.firstChild)&&(1==t.nodeType?this.push(t,e,n,r,i,s):this["combinator:+"](t,e,n,r,i,s))},"~":function(t,e,n,r,i,s){for(;t=t.nextSibling;)if(1==t.nodeType){var o=this.getUID(t);if(this.bitUniques[o])break;this.bitUniques[o]=!0,this.push(t,e,n,r,i,s)}},"++":function(t,e,n,r,i,s){this["combinator:+"](t,e,n,r,i,s),this["combinator:!+"](t,e,n,r,i,s)},"~~":function(t,e,n,r,i,s){this["combinator:~"](t,e,n,r,i,s),this["combinator:!~"](t,e,n,r,i,s)},"!":function(t,e,n,r,i,s){for(;t=t.parentNode;)t!==this.document&&this.push(t,e,n,r,i,s)},"!>":function(t,e,n,r,i,s){(t=t.parentNode)!==this.document&&this.push(t,e,n,r,i,s)},"!+":function(t,e,n,r,i,s){for(;t=t.previousSibling;)if(1==t.nodeType){this.push(t,e,n,r,i,s);break}},"!^":function(t,e,n,r,i,s){(t=t.lastChild)&&(1==t.nodeType?this.push(t,e,n,r,i,s):this["combinator:!+"](t,e,n,r,i,s))},"!~":function(t,e,n,r,i,s){for(;t=t.previousSibling;)if(1==t.nodeType){var o=this.getUID(t);if(this.bitUniques[o])break;this.bitUniques[o]=!0,this.push(t,e,n,r,i,s)}}};for(var a in o)t["combinator:"+a]=o[a];var u={empty:function(t){var e=t.firstChild;return!(e&&1==e.nodeType||(t.innerText||t.textContent||"").length)},not:function(t,e){return!this.matchNode(t,e)},contains:function(t,e){return(t.innerText||t.textContent||"").indexOf(e)>-1},"first-child":function(t){for(;t=t.previousSibling;)if(1==t.nodeType)return!1;return!0},"last-child":function(t){for(;t=t.nextSibling;)if(1==t.nodeType)return!1;return!0},"only-child":function(t){for(var e=t;e=e.previousSibling;)if(1==e.nodeType)return!1;for(var n=t;n=n.nextSibling;)if(1==n.nodeType)return!1;return!0},"nth-child":t.createNTHPseudo("firstChild","nextSibling","posNTH"),"nth-last-child":t.createNTHPseudo("lastChild","previousSibling","posNTHLast"),"nth-of-type":t.createNTHPseudo("firstChild","nextSibling","posNTHType",!0),"nth-last-of-type":t.createNTHPseudo("lastChild","previousSibling","posNTHTypeLast",!0),index:function(t,e){return this["pseudo:nth-child"](t,""+(e+1))},even:function(t){return this["pseudo:nth-child"](t,"2n")},odd:function(t){return this["pseudo:nth-child"](t,"2n+1")},"first-of-type":function(t){for(var e=t.nodeName;t=t.previousSibling;)if(t.nodeName==e)return!1;return!0},"last-of-type":function(t){for(var e=t.nodeName;t=t.nextSibling;)if(t.nodeName==e)return!1;return!0},"only-of-type":function(t){for(var e=t,n=t.nodeName;e=e.previousSibling;)if(e.nodeName==n)return!1;for(var r=t;r=r.nextSibling;)if(r.nodeName==n)return!1;return!0},enabled:function(t){return!t.disabled},disabled:function(t){return t.disabled},checked:function(t){return t.checked||t.selected},focus:function(t){return this.isHTMLDocument&&this.document.activeElement===t&&(t.href||t.type||this.hasAttribute(t,"tabindex"))},root:function(t){return t===this.root},selected:function(t){return t.selected}};for(var c in u)t["pseudo:"+c]=u[c];var l=t.attributeGetters={for:function(){return"htmlFor"in this?this.htmlFor:this.getAttribute("for")},href:function(){return"href"in this?this.getAttribute("href",2):this.getAttribute("href")},style:function(){return this.style?this.style.cssText:this.getAttribute("style")},tabindex:function(){var t=this.getAttributeNode("tabindex");return t&&t.specified?t.nodeValue:null},type:function(){return this.getAttribute("type")},maxlength:function(){var t=this.getAttributeNode("maxLength");return t&&t.specified?t.nodeValue:null}};l.MAXLENGTH=l.maxLength=l.maxlength;var h=t.Slick=this.Slick||{};h.version="1.1.7",h.search=function(e,n,r){return t.search(e,n,r)},h.find=function(e,n){return t.search(e,n,null,!0)},h.contains=function(e,n){return t.setDocument(e),t.contains(e,n)},h.getAttribute=function(e,n){return t.setDocument(e),t.getAttribute(e,n)},h.hasAttribute=function(e,n){return t.setDocument(e),t.hasAttribute(e,n)},h.match=function(e,n){return!(!e||!n)&&(!n||n===e||(t.setDocument(e),t.matchNode(e,n)))},h.defineAttributeGetter=function(e,n){return t.attributeGetters[e]=n,this},h.lookupAttributeGetter=function(e){return t.attributeGetters[e]},h.definePseudo=function(e,n){return t["pseudo:"+e]=function(t,e){return n.call(t,e)},this},h.lookupPseudo=function(e){var n=t["pseudo:"+e];return n?function(t){return n.call(this,t)}:null},h.override=function(e,n){return t.override(e,n),this},h.isXML=t.isXML,h.uidOf=function(e){return t.getUIDHTML(e)},this.Slick||(this.Slick=h)}.apply("undefined"!=typeof exports?exports:this);var Element=this.Element=function(t,e){var n=Element.Constructors[t];if(n)return n(e);if("string"!=typeof t)return document.id(t).set(e);if(e||(e={}),!/^[\w-]+$/.test(t)){var r=Slick.parse(t).expressions[0][0];t="*"==r.tag?"div":r.tag,r.id&&null==e.id&&(e.id=r.id);var i=r.attributes;if(i)for(var s,o=0,a=i.length;o<a;o++)s=i[o],null==e[s.key]&&(null!=s.value&&"="==s.operator?e[s.key]=s.value:s.value||s.operator||(e[s.key]=!0));r.classList&&null==e.class&&(e.class=r.classList.join(" "))}return document.newElement(t,e)};Browser.Element&&(Element.prototype=Browser.Element.prototype,Element.prototype._fireEvent=function(t){return function(e,n){return t.call(this,e,n)}}(Element.prototype.fireEvent)),new Type("Element",Element).mirror(function(t){if(!Array.prototype[t]){var e={};e[t]=function(){for(var e=[],n=arguments,r=!0,i=0,s=this.length;i<s;i++){var o=this[i],a=e[i]=o[t].apply(o,n);r=r&&"element"==typeOf(a)}return r?new Elements(e):e},Elements.implement(e)}}),Browser.Element||(Element.parent=Object,Element.Prototype={$constructor:Element,$family:Function.convert("element").hide()},Element.mirror(function(t,e){Element.Prototype[t]=e})),Element.Constructors={};var IFrame=new Type("IFrame",function(){var t,e=Array.link(arguments,{properties:Type.isObject,iframe:function(t){return null!=t}}),n=e.properties||{};e.iframe&&(t=document.id(e.iframe));var r=n.onload||function(){};delete n.onload,n.id=n.name=[n.id,n.name,t?t.id||t.name:"IFrame_"+String.uniqueID()].pick(),t=new Element(t||"iframe",n);var i=function(){r.call(t.contentWindow)};return window.frames[n.id]?i():t.addListener("load",i),t}),Elements=this.Elements=function(t){if(t&&t.length)for(var e,n={},r=0;e=t[r++];){var i=Slick.uidOf(e);n[i]||(n[i]=!0,this.push(e))}};Elements.prototype={length:0},Elements.parent=Array,new Type("Elements",Elements).implement({filter:function(t,e){return t?new Elements(Array.filter(this,"string"==typeOf(t)?function(e){return e.match(t)}:t,e)):this}.protect(),push:function(){for(var t=this.length,e=0,n=arguments.length;e<n;e++){var r=document.id(arguments[e]);r&&(this[t++]=r)}return this.length=t}.protect(),unshift:function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var r=document.id(arguments[e]);r&&t.push(r)}return Array.prototype.unshift.apply(this,t)}.protect(),concat:function(){for(var t=new Elements(this),e=0,n=arguments.length;e<n;e++){var r=arguments[e];Type.isEnumerable(r)?t.append(r):t.push(r)}return t}.protect(),append:function(t){for(var e=0,n=t.length;e<n;e++)this.push(t[e]);return this}.protect(),empty:function(){for(;this.length;)delete this[--this.length];return this}.protect()}),function(){var t=Array.prototype.splice,e={0:0,1:1,length:2};t.call(e,1,1),1==e[1]&&Elements.implement("splice",function(){for(var e=this.length,n=t.apply(this,arguments);e>=this.length;)delete this[e--];return n}.protect()),Array.forEachMethod(function(t,e){Elements.implement(e,t)}),Array.mirror(Elements);var n;try{n="x"==document.createElement("<input name=x>").name}catch(t){}var r=function(t){return(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},i=function(){var t=document.createElement("style"),e=!1;try{t.innerHTML="#justTesing{margin: 0px;}",e=!!t.innerHTML}catch(t){}return e}();Document.implement({newElement:function(t,e){if(e){if(null!=e.checked&&(e.defaultChecked=e.checked),"checkbox"!=e.type&&"radio"!=e.type||null!=e.value||(e.value="on"),!i&&"style"==t){var s=document.createElement("style");return s.setAttribute("type","text/css"),e.type&&delete e.type,this.id(s).set(e)}n&&(t="<"+t,e.name&&(t+=' name="'+r(e.name)+'"'),e.type&&(t+=' type="'+r(e.type)+'"'),t+=">",delete e.name,delete e.type)}return this.id(this.createElement(t)).set(e)}})}(),function(){Slick.uidOf(window),Slick.uidOf(document),Document.implement({newTextNode:function(t){return this.createTextNode(t)},getDocument:function(){return this},getWindow:function(){return this.window},id:function(){var t={string:function(e,n,r){return e=Slick.find(r,"#"+e.replace(/(\W)/g,"\\$1")),e?t.element(e,n):null},element:function(t,e){if(Slick.uidOf(t),!e&&!t.$family&&!/^(?:object|embed)$/i.test(t.tagName)){var n=t.fireEvent;t._fireEvent=function(t,e){return n(t,e)},Object.append(t,Element.Prototype)}return t},object:function(e,n,r){return e.toElement?t.element(e.toElement(r),n):null}};return t.textnode=t.whitespace=t.window=t.document=function(t){return t},function(e,n,r){if(e&&e.$family&&e.uniqueNumber)return e;var i=typeOf(e);return t[i]?t[i](e,n,r||document):null}}()}),null==window.$&&Window.implement("$",function(t,e){return document.id(t,e,this.document)}),Window.implement({getDocument:function(){return this.document},getWindow:function(){return this}}),[Document,Element].invoke("implement",{getElements:function(t){return Slick.search(this,t,new Elements)},getElement:function(t){return document.id(Slick.find(this,t))}});var t={contains:function(t){return Slick.contains(this,t)}};document.contains||Document.implement(t),document.createElement("div").contains||Element.implement(t);var e=function(t,e){if(!t)return e;t=Object.clone(Slick.parse(t));for(var n=t.expressions,r=n.length;r--;)n[r][0].combinator=e;return t};Object.forEach({getNext:"~",getPrevious:"!~",getParent:"!"},function(t,n){Element.implement(n,function(n){return this.getElement(e(n,t))})}),Object.forEach({getAllNext:"~",getAllPrevious:"!~",getSiblings:"~~",getChildren:">",getParents:"!"},function(t,n){Element.implement(n,function(n){return this.getElements(e(n,t))})}),Element.implement({getFirst:function(t){return document.id(Slick.search(this,e(t,">"))[0])},getLast:function(t){return document.id(Slick.search(this,e(t,">")).getLast())},getWindow:function(){return this.ownerDocument.window},getDocument:function(){return this.ownerDocument},getElementById:function(t){return document.id(Slick.find(this,"#"+(""+t).replace(/(\W)/g,"\\$1")))},match:function(t){return!t||Slick.match(this,t)}}),null==window.$$&&Window.implement("$$",function(t){if(1==arguments.length){if("string"==typeof t)return Slick.search(this.document,t,new Elements);if(Type.isEnumerable(t))return new Elements(t)}return new Elements(arguments)});var n={before:function(t,e){var n=e.parentNode;n&&n.insertBefore(t,e)},after:function(t,e){var n=e.parentNode;n&&n.insertBefore(t,e.nextSibling)},bottom:function(t,e){e.appendChild(t)},top:function(t,e){e.insertBefore(t,e.firstChild)}};n.inside=n.bottom;var r={},i={},s={};Array.forEach(["type","value","defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","rowSpan","tabIndex","useMap"],function(t){s[t.toLowerCase()]=t}),s.html="innerHTML",s.text=null==document.createElement("div").textContent?"innerText":"textContent",Object.forEach(s,function(t,e){i[e]=function(e,n){e[t]=n},r[e]=function(e){return e[t]}}),i.text=function(){return function(t,e){"style"==t.get("tag")?t.set("html",e):t[s.text]=e}}(i.text),r.text=function(t){return function(e){return"style"==e.get("tag")?e.innerHTML:t(e)}}(r.text);var o=["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"],a={};Array.forEach(o,function(t){var e=t.toLowerCase();a[e]=t,i[e]=function(e,n){e[t]=!!n},r[e]=function(e){return!!e[t]}}),Object.append(i,{class:function(t,e){"className"in t?t.className=e||"":t.setAttribute("class",e)},for:function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(t,e){t.value=null!=e?e:""}}),r.class=function(t){return"className"in t?t.className||null:t.getAttribute("class")};var u=document.createElement("button");try{u.type="button"}catch(t){}"button"!=u.type&&(i.type=function(t,e){t.setAttribute("type",e)}),u=null;var c,h,f=function(){var t=document.createElement("style"),e=!1;try{t.innerHTML="#justTesing{margin: 0px;}",e=!!t.innerHTML}catch(t){}return e}(),p=document.createElement("input");p.value="t",p.type="submit",c="t"!=p.value;try{p.value="",p.type="email",h="email"==p.type}catch(t){}p=null,!c&&h||(i.type=function(t,e){try{var n=t.value;t.type=e,t.value=n}catch(t){}});var d=function(t){return t.random="attribute","attribute"==t.getAttribute("random")}(document.createElement("div")),m=function(t){return t.innerHTML='<object><param name="should_fix" value="the unknown" /></object>',1!=t.cloneNode(!0).firstChild.childNodes.length}(document.createElement("div")),v=!!document.createElement("div").classList,g=function(t){var e=(t||"").clean().split(" "),n={};return e.filter(function(t){if(""!==t&&!n[t])return n[t]=t})},y=function(t){this.classList.add(t)},b=function(t){this.classList.remove(t)};Element.implement({setProperty:function(t,e){var n=i[t.toLowerCase()];if(n)n(this,e);else{var r;d&&(r=this.retrieve("$attributeWhiteList",{})),null==e?(this.removeAttribute(t),d&&delete r[t]):(this.setAttribute(t,""+e),d&&(r[t]=!0))}return this},setProperties:function(t){for(var e in t)this.setProperty(e,t[e]);return this},getProperty:function(t){var e=r[t.toLowerCase()];if(e)return e(this);if(d){var n=this.getAttributeNode(t),i=this.retrieve("$attributeWhiteList",{});if(!n)return null;if(n.expando&&!i[t]){var s=this.outerHTML;if(s.substr(0,s.search(/\/?['"]?>(?![^<]*<['"])/)).indexOf(t)<0)return null;i[t]=!0}}var o=Slick.getAttribute(this,t);return o||Slick.hasAttribute(this,t)?o:null},getProperties:function(){var t=Array.convert(arguments);return t.map(this.getProperty,this).associate(t)},removeProperty:function(t){return this.setProperty(t,null)},removeProperties:function(){return Array.each(arguments,this.removeProperty,this),this},set:function(t,e){var n=Element.Properties[t];n&&n.set?n.set.call(this,e):this.setProperty(t,e)}.overloadSetter(),get:function(t){var e=Element.Properties[t];return e&&e.get?e.get.apply(this):this.getProperty(t)}.overloadGetter(),erase:function(t){var e=Element.Properties[t];return e&&e.erase?e.erase.apply(this):this.removeProperty(t),this},hasClass:v?function(t){return this.classList.contains(t)}:function(t){return g(this.className).contains(t)},addClass:v?function(t){return g(t).forEach(y,this),this}:function(t){return this.className=g(t+" "+this.className).join(" "),this},removeClass:v?function(t){return g(t).forEach(b,this),this}:function(t){var e=g(this.className);return g(t).forEach(e.erase,e),this.className=e.join(" "),this},toggleClass:function(t,e){return null==e&&(e=!this.hasClass(t)),e?this.addClass(t):this.removeClass(t)},adopt:function(){var t,e=this,n=Array.flatten(arguments),r=n.length;r>1&&(e=t=document.createDocumentFragment());for(var i=0;i<r;i++){var s=document.id(n[i],!0);s&&e.appendChild(s)}return t&&this.appendChild(t),this},appendText:function(t,e){return this.grab(this.getDocument().newTextNode(t),e)},grab:function(t,e){return n[e||"bottom"](document.id(t,!0),this),this},inject:function(t,e){return n[e||"bottom"](this,document.id(t,!0)),this},replaces:function(t){return t=document.id(t,!0),t.parentNode.replaceChild(this,t),this},wraps:function(t,e){return t=document.id(t,!0),this.replaces(t).grab(t,e)},getSelected:function(){return this.selectedIndex,new Elements(Array.convert(this.options).filter(function(t){return t.selected}))},toQueryString:function(){var t=[];return this.getElements("input, select, textarea").each(function(e){var n=e.type;if(e.name&&!e.disabled&&"submit"!=n&&"reset"!=n&&"file"!=n&&"image"!=n){var r="select"==e.get("tag")?e.getSelected().map(function(t){return document.id(t).get("value")}):"radio"!=n&&"checkbox"!=n||e.checked?e.get("value"):null;Array.convert(r).each(function(n){void 0!==n&&t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(n))})}}),t.join("&")}});var x={before:"beforeBegin",after:"afterEnd",bottom:"beforeEnd",top:"afterBegin",inside:"beforeEnd"};Element.implement("appendHTML","insertAdjacentHTML"in document.createElement("div")?function(t,e){return this.insertAdjacentHTML(x[e||"bottom"],t),this}:function(t,e){var r=new Element("div",{html:t}),i=r.childNodes,s=r.firstChild;if(!s)return this;if(i.length>1){s=document.createDocumentFragment();for(var o=0,a=i.length;o<a;o++)s.appendChild(i[o])}return n[e||"bottom"](s,this),this});var E={},S={},w=function(t){return S[t]||(S[t]={})},k=function(t){var e=t.uniqueNumber;return t.removeEvents&&t.removeEvents(),t.clearAttributes&&t.clearAttributes(),null!=e&&(delete E[e],delete S[e]),t},T={input:"checked",option:"selected",textarea:"value"};if(Element.implement({destroy:function(){var t=k(this).getElementsByTagName("*");return Array.each(t,k),Element.dispose(this),null},empty:function(){return Array.convert(this.childNodes).each(Element.dispose),this},dispose:function(){return this.parentNode?this.parentNode.removeChild(this):this},clone:function(t,e){t=!1!==t;var n,r=this.cloneNode(t),i=[r],s=[this];for(t&&(i.append(Array.convert(r.getElementsByTagName("*"))),s.append(Array.convert(this.getElementsByTagName("*")))),n=i.length;n--;){var o=i[n],a=s[n];if(e||o.removeAttribute("id"),o.clearAttributes&&(o.clearAttributes(),o.mergeAttributes(a),o.removeAttribute("uniqueNumber"),o.options))for(var u=o.options,c=a.options,l=u.length;l--;)u[l].selected=c[l].selected;var h=T[a.tagName.toLowerCase()];h&&a[h]&&(o[h]=a[h])}if(m){var f=r.getElementsByTagName("object"),p=this.getElementsByTagName("object");for(n=f.length;n--;)f[n].outerHTML=p[n].outerHTML}return document.id(r)}}),[Element,Window,Document].invoke("implement",{addListener:function(t,e){return window.attachEvent&&!window.addEventListener&&(E[Slick.uidOf(this)]=this),this.addEventListener?this.addEventListener(t,e,!!arguments[2]):this.attachEvent("on"+t,e),this},removeListener:function(t,e){return this.removeEventListener?this.removeEventListener(t,e,!!arguments[2]):this.detachEvent("on"+t,e),this},retrieve:function(t,e){var n=w(Slick.uidOf(this)),r=n[t];return null!=e&&null==r&&(r=n[t]=e),null!=r?r:null},store:function(t,e){return w(Slick.uidOf(this))[t]=e,this},eliminate:function(t){return delete w(Slick.uidOf(this))[t],this}}),window.attachEvent&&!window.addEventListener){var C=function(){Object.each(E,k),window.CollectGarbage&&CollectGarbage(),window.removeListener("unload",C)};window.addListener("unload",C)}Element.Properties={},Element.Properties.style={set:function(t){this.style.cssText=t},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}},Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}},Element.Properties.html={set:function(t){null==t?t="":"array"==typeOf(t)&&(t=t.join("")),this.styleSheet&&!f?this.styleSheet.cssText=t:this.innerHTML=t},erase:function(){this.set("html","")}};var N,O=!0,A=!0,L=!0,M=document.createElement("div");if(M.innerHTML="<nav></nav>",!(O=1==M.childNodes.length)){var $="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");for(N=document.createDocumentFragment(),l=$.length;l--;)N.createElement($[l])}M=null,A=Function.attempt(function(){return document.createElement("table").innerHTML="<tr><td></td></tr>",!0});var j=document.createElement("tr");j.innerHTML="<td></td>",L="<td></td>"==j.innerHTML,j=null,A&&L&&O||(Element.Properties.html.set=function(t){var e={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};return e.thead=e.tfoot=e.tbody,function(n){if(this.styleSheet)return t.call(this,n);var r=e[this.get("tag")];if(r||O||(r=[0,"",""]),!r)return t.call(this,n);var i=r[0],s=document.createElement("div"),o=s;for(O||N.appendChild(s),s.innerHTML=[r[1],n,r[2]].flatten().join("");i--;)o=o.firstChild;this.empty().adopt(o.childNodes),O||N.removeChild(s),s=null}}(Element.Properties.html.set));var D=document.createElement("form");D.innerHTML="<select><option>s</option></select>","s"!=D.firstChild.value&&(Element.Properties.value={set:function(t){if("select"!=this.get("tag"))return this.setProperty("value",t);var e=this.getElements("option");t=String(t);for(var n=0;n<e.length;n++){var r=e[n],i=r.getAttributeNode("value");if((i&&i.specified?r.value:r.get("text"))===t)return r.selected=!0}},get:function(){var t=this,e=t.get("tag");if("select"!=e&&"option"!=e)return this.getProperty("value");if("select"==e&&!(t=t.getSelected()[0]))return"";var n=t.getAttributeNode("value");return n&&n.specified?t.value:t.get("text")}}),D=null,document.createElement("div").getAttributeNode("id")&&(Element.Properties.id={set:function(t){this.id=this.getAttributeNode("id").value=t},get:function(){return this.id||null},erase:function(){this.id=this.getAttributeNode("id").value=""}})}(),function(){var t={},e=function(t){var e;if(t.wheelDelta)e=t.wheelDelta%120==0?t.wheelDelta/120:t.wheelDelta/12;else{var n=t.deltaY||t.detail||0;e=-(n%3==0?n/3:10*n)}return e},n=this.DOMEvent=new Type("DOMEvent",function(n,r){if(r||(r=window),n=n||r.event,n.$extended)return n;this.event=n,this.$extended=!0,this.shift=n.shiftKey,this.control=n.ctrlKey,this.alt=n.altKey,this.meta=n.metaKey;for(var i=this.type=n.type,s=n.target||n.srcElement;s&&3==s.nodeType;)s=s.parentNode;if(this.target=document.id(s),0==i.indexOf("key")){var o=this.code=n.which||n.keyCode;this.shift&&"keypress"==i||(this.key=t[o]),"keydown"!=i&&"keyup"!=i||(o>111&&o<124?this.key="f"+(o-111):o>95&&o<106&&(this.key=o-96)),null==this.key&&(this.key=String.fromCharCode(o).toLowerCase())}else if("click"==i||"dblclick"==i||"contextmenu"==i||"wheel"==i||"DOMMouseScroll"==i||0==i.indexOf("mouse")){var a=r.document;if(a=a.compatMode&&"CSS1Compat"!=a.compatMode?a.body:a.html,this.page={x:null!=n.pageX?n.pageX:n.clientX+a.scrollLeft,y:null!=n.pageY?n.pageY:n.clientY+a.scrollTop},this.client={x:null!=n.pageX?n.pageX-r.pageXOffset:n.clientX,y:null!=n.pageY?n.pageY-r.pageYOffset:n.clientY},"DOMMouseScroll"!=i&&"wheel"!=i&&"mousewheel"!=i||(this.wheel=e(n)),this.rightClick=3==n.which||2==n.button,"mouseover"==i||"mouseout"==i||"mouseenter"==i||"mouseleave"==i){for(var u="mouseover"==i||"mouseenter"==i,c=n.relatedTarget||n[(u?"from":"to")+"Element"];c&&3==c.nodeType;)c=c.parentNode;this.relatedTarget=document.id(c)}}else if(0==i.indexOf("touch")||0==i.indexOf("gesture")){this.rotation=n.rotation,this.scale=n.scale,this.targetTouches=n.targetTouches,this.changedTouches=n.changedTouches;var l=this.touches=n.touches;if(l&&l[0]){var h=l[0];this.page={x:h.pageX,y:h.pageY},this.client={x:h.clientX,y:h.clientY}}}this.client||(this.client={}),this.page||(this.page={})});n.implement({stop:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this}}),n.defineKey=function(e,n){return t[e]=n,this},n.defineKeys=n.defineKey.overloadSetter(!0),n.defineKeys({38:"up",40:"down",37:"left",39:"right",27:"esc",32:"space",8:"backspace",9:"tab",46:"delete",13:"enter"})}(),function(){Element.Properties.events={set:function(t){this.addEvents(t)}},[Element,Window,Document].invoke("implement",{addEvent:function(t,e){var n=this.retrieve("events",{});if(n[t]||(n[t]={keys:[],values:[]}),n[t].keys.contains(e))return this;n[t].keys.push(e);var r=t,i=Element.Events[t],s=e,o=this;i&&(i.onAdd&&i.onAdd.call(this,e,t),i.condition&&(s=function(n){return!i.condition.call(this,n,t)||e.call(this,n)}),i.base&&(r=Function.convert(i.base).call(this,t)));var a=function(){return e.call(o)},u=Element.NativeEvents[r];return u&&(2==u&&(a=function(t){t=new DOMEvent(t,o.getWindow()),!1===s.call(o,t)&&t.stop()}),this.addListener(r,a,arguments[2])),n[t].values.push(a),this},removeEvent:function(t,e){var n=this.retrieve("events");if(!n||!n[t])return this;var r=n[t],i=r.keys.indexOf(e);if(-1==i)return this;var s=r.values[i];delete r.keys[i],delete r.values[i];var o=Element.Events[t];return o&&(o.onRemove&&o.onRemove.call(this,e,t),o.base&&(t=Function.convert(o.base).call(this,t))),Element.NativeEvents[t]?this.removeListener(t,s,arguments[2]):this},addEvents:function(t){for(var e in t)this.addEvent(e,t[e]);return this},removeEvents:function(t){var e;if("object"==typeOf(t)){for(e in t)this.removeEvent(e,t[e]);return this}var n=this.retrieve("events");if(!n)return this;if(t)n[t]&&(n[t].keys.each(function(e){this.removeEvent(t,e)},this),delete n[t]);else{for(e in n)this.removeEvents(e);this.eliminate("events")}return this},fireEvent:function(t,e,n){var r=this.retrieve("events");return r&&r[t]?(e=Array.convert(e),r[t].keys.each(function(t){n?t.delay(n,this,e):t.apply(this,e)},this),this):this},cloneEvents:function(t,e){t=document.id(t);var n=t.retrieve("events");if(!n)return this;if(e)n[e]&&n[e].keys.each(function(t){this.addEvent(e,t)},this);else for(var r in n)this.cloneEvents(t,r);return this}}),Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,wheel:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,input:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,hashchange:1,popstate:2,pageshow:2,pagehide:2,error:1,abort:1,scroll:1,message:2},Element.Events={mousewheel:{base:"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"}};var t=function(t){var e=t.relatedTarget;return null==e||!!e&&(e!=this&&"xul"!=e.prefix&&"document"!=typeOf(this)&&!this.contains(e))};"onmouseenter"in document.documentElement?(Element.NativeEvents.mouseenter=Element.NativeEvents.mouseleave=2,Element.MouseenterCheck=t):(Element.Events.mouseenter={base:"mouseover",condition:t},Element.Events.mouseleave={base:"mouseout",condition:t}),window.addEventListener||(Element.NativeEvents.propertychange=2,Element.Events.change={base:function(){var t=this.type;return"input"!=this.get("tag")||"radio"!=t&&"checkbox"!=t?"change":"propertychange"},condition:function(t){return"propertychange"!=t.type||"checked"==t.event.propertyName}})}(),function(){var t=!!window.addEventListener;Element.NativeEvents.focusin=Element.NativeEvents.focusout=2;var e=function(t,e,n,r,i){for(;i&&i!=t;){if(e(i,r))return n.call(i,r,i);i=document.id(i.parentNode)}},n={mouseenter:{base:"mouseover",condition:Element.MouseenterCheck},mouseleave:{base:"mouseout",condition:Element.MouseenterCheck},focus:{base:"focus"+(t?"":"in"),capture:!0},blur:{base:t?"blur":"focusout",capture:!0}},r="$delegation:",i=function(t){return{base:"focusin",remove:function(e,n){var i=e.retrieve(r+t+"listeners",{})[n];if(i&&i.forms)for(var s=i.forms.length;s--;)i.forms[s].removeEvent&&i.forms[s].removeEvent(t,i.fns[s])},listen:function(n,i,s,o,a,u){var c="form"==a.get("tag")?a:o.target.getParent("form");if(c){var l=n.retrieve(r+t+"listeners",{}),h=l[u]||{forms:[],fns:[]},f=h.forms,p=h.fns;if(-1==f.indexOf(c)){f.push(c);var d=function(t){e(n,i,s,t,a)};c.addEvent(t,d),p.push(d),l[u]=h,n.store(r+t+"listeners",l)}}}}},s=function(t){return{base:"focusin",listen:function(n,r,i,s,o){var a={blur:function(){this.removeEvents(a)}};a[t]=function(t){e(n,r,i,t,o)},s.target.addEvents(a)}}};t||Object.append(n,{submit:i("submit"),reset:i("reset"),change:s("change"),select:s("select")});var o=Element.prototype,a=o.addEvent,u=o.removeEvent,c=function(t,e){return function(n,r,i){if(-1==n.indexOf(":relay"))return t.call(this,n,r,i);var s=Slick.parse(n).expressions[0][0];if("relay"!=s.pseudos[0].key)return t.call(this,n,r,i);var o=s.tag;return s.pseudos.slice(1).each(function(t){o+=":"+t.key+(t.value?"("+t.value+")":"")}),t.call(this,n,r),e.call(this,o,s.pseudos[0].value,r)}},l={addEvent:function(t,r,i){var s=this.retrieve("$delegates",{}),o=s[t];if(o)for(var u in o)if(o[u].fn==i&&o[u].match==r)return this;var c=t,l=r,h=i,f=n[t]||{};t=f.base||c,r=function(t){return Slick.match(t,l)};var p=Element.Events[c];if(f.condition||p&&p.condition){var d=r,m=f.condition||p.condition;r=function(e,n){return d(e,n)&&m.call(e,n,t)}}var v=this,g=String.uniqueID(),y=f.listen?function(t,e){!e&&t&&t.target&&(e=t.target),e&&f.listen(v,r,i,t,e,g)}:function(t,n){!n&&t&&t.target&&(n=t.target),n&&e(v,r,i,t,n)};return o||(o={}),o[g]={match:l,fn:h,delegator:y},s[c]=o,a.call(this,t,y,f.capture)},removeEvent:function(t,e,r,i){var s=this.retrieve("$delegates",{}),o=s[t];if(!o)return this;if(i){var a=t,c=o[i].delegator,h=n[t]||{};return t=h.base||a,h.remove&&h.remove(this,i),delete o[i],s[a]=o,u.call(this,t,c,h.capture)}var f,p;if(r){for(f in o)if(p=o[f],p.match==e&&p.fn==r)return l.removeEvent.call(this,t,e,r,f)}else for(f in o)p=o[f],p.match==e&&l.removeEvent.call(this,t,e,p.fn,f);return this}};[Element,Window,Document].invoke("implement",{addEvent:c(a,l.addEvent),removeEvent:c(u,l.removeEvent)})}(),function(){var t,e=document.html;t=document.createElement("div"),t.style.color="red",t.style.color=null;var n="red"==t.style.color;t.style.border="1px solid #123abc";var r="1px solid #123abc"!=t.style.border;t=null;var i=!!window.getComputedStyle,s=null!=document.createElement("div").style.borderRadius;Element.Properties.styles={set:function(t){this.setStyles(t)}};var o=null!=e.style.opacity,a=null!=e.style.filter,u=/alpha\(opacity=([\d.]+)\)/i,c=function(t,e){t.store("$opacity",e),t.style.visibility=e>0||null==e?"visible":"hidden"},l=function(t,e,n){var r=t.style,i=r.filter||t.getComputedStyle("filter")||"";r.filter=(e.test(i)?i.replace(e,n):i+" "+n).trim(),r.filter||r.removeAttribute("filter")},h=o?function(t,e){t.style.opacity=e}:a?function(t,e){t.currentStyle&&t.currentStyle.hasLayout||(t.style.zoom=1),null==e||1==e?(l(t,u,""),1==e&&1!=f(t)&&l(t,u,"alpha(opacity=100)")):l(t,u,"alpha(opacity="+(100*e).limit(0,100).round()+")")}:c,f=o?function(t){var e=t.style.opacity||t.getComputedStyle("opacity");return""==e?1:e.toFloat()}:a?function(t){var e,n=t.style.filter||t.getComputedStyle("filter");return n&&(e=n.match(u)),null==e||null==n?1:e[1]/100}:function(t){var e=t.retrieve("$opacity");return null==e&&(e="hidden"==t.style.visibility?0:1),e},p=null==e.style.cssFloat?"styleFloat":"cssFloat",d={left:"0%",top:"0%",center:"50%",right:"100%",bottom:"100%"},m=null!=e.style.backgroundPositionX,v=/^-(ms)-/,g=function(t){return t.replace(v,"$1-").camelCase()},y=function(t,e){"backgroundPosition"==e&&(t.removeAttribute(e+"X"),e+="Y"),t.removeAttribute(e)};Element.implement({getComputedStyle:function(t){if(!i&&this.currentStyle)return this.currentStyle[g(t)];var e=Element.getDocument(this).defaultView,n=e?e.getComputedStyle(this,null):null;return n?n.getPropertyValue(t==p?"float":t.hyphenate()):""},setStyle:function(t,e){if("opacity"==t)return null!=e&&(e=parseFloat(e)),h(this,e),this;if(t=g("float"==t?p:t),"string"!=typeOf(e)){var r=(Element.Styles[t]||"@").split(" ");e=Array.convert(e).map(function(t,e){return r[e]?"number"==typeOf(t)?r[e].replace("@",Math.round(t)):t:""}).join(" ")}else e==String(Number(e))&&(e=Math.round(e));return this.style[t]=e,
	(""==e||null==e)&&n&&this.style.removeAttribute&&y(this.style,t),this},getStyle:function(t){if("opacity"==t)return f(this);if(t=g("float"==t?p:t),s&&-1!=t.indexOf("borderRadius"))return["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"].map(function(t){return this.style[t]||"0px"},this).join(" ");var e=this.style[t];if(!e||"zIndex"==t){if(Element.ShortStyles.hasOwnProperty(t)){e=[];for(var n in Element.ShortStyles[t])e.push(this.getStyle(n));return e.join(" ")}e=this.getComputedStyle(t)}if(m&&/^backgroundPosition[XY]?$/.test(t))return e.replace(/(top|right|bottom|left)/g,function(t){return d[t]})||"0px";if(!e&&"backgroundPosition"==t)return"0px 0px";if(e){e=String(e);var o=e.match(/rgba?\([\d\s,]+\)/);o&&(e=e.replace(o[0],o[0].rgbToHex()))}if(!i&&!this.style[t]){if(/^(height|width)$/.test(t)&&!/px$/.test(e)){var a="width"==t?["left","right"]:["top","bottom"],u=0;return a.each(function(t){u+=this.getStyle("border-"+t+"-width").toInt()+this.getStyle("padding-"+t).toInt()},this),this["offset"+t.capitalize()]-u+"px"}if(/^border(.+)Width|margin|padding/.test(t)&&isNaN(parseFloat(e)))return"0px"}return r&&/^border(Top|Right|Bottom|Left)?$/.test(t)&&/^#/.test(e)?e.replace(/^(.+)\s(.+)\s(.+)$/,"$2 $3 $1"):e},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},getStyles:function(){var t={};return Array.flatten(arguments).each(function(e){t[e]=this.getStyle(e)},this),t}}),Element.Styles={left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundSize:"@px",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@",borderRadius:"@px @px @px @px"},Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}},["Top","Right","Bottom","Left"].each(function(t){var e=Element.ShortStyles,n=Element.Styles;["margin","padding"].each(function(r){var i=r+t;e[r][i]=n[i]="@px"});var r="border"+t;e.border[r]=n[r]="@px @ rgb(@, @, @)";var i=r+"Width",s=r+"Style",o=r+"Color";e[r]={},e.borderWidth[i]=e[r][i]=n[i]="@px",e.borderStyle[s]=e[r][s]=n[s]="@",e.borderColor[o]=e[r][o]=n[o]="rgb(@, @, @)"}),m&&(Element.ShortStyles.backgroundPosition={backgroundPositionX:"@",backgroundPositionY:"@"})}(),function(){function t(t,e){return p(t,e).toInt()||0}function e(e){return t(e,"border-top-width")}function n(e){return t(e,"border-left-width")}function r(t){return/^(?:body|html)$/i.test(t.tagName)}function i(t){var e=t.getDocument();return e.compatMode&&"CSS1Compat"!=e.compatMode?e.body:e.html}var s=document.createElement("div"),o=document.createElement("div");s.style.height="0",s.appendChild(o);var a=o.offsetParent===s;s=o=null;var u=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],c=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],l=function(t){var e=window.getComputedStyle(t),n={x:0,y:0};return u.each(function(t){n.y+=parseFloat(e[t])}),c.each(function(t){n.x+=parseFloat(e[t])}),n},h=function(t){return"static"!=p(t,"position")||r(t)},f=function(t){return h(t)||/^(?:table|td|th)$/i.test(t.tagName)};Element.implement({scrollTo:function(t,e){return r(this)?this.getWindow().scrollTo(t,e):(this.scrollLeft=t,this.scrollTop=e),this},getSize:function(){if(r(this))return this.getWindow().getSize();if(!window.getComputedStyle)return{x:this.offsetWidth,y:this.offsetHeight};if("svg"==this.get("tag"))return l(this);try{var t=this.getBoundingClientRect();return{x:t.width,y:t.height}}catch(t){return{x:0,y:0}}},getScrollSize:function(){return r(this)?this.getWindow().getScrollSize():{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){return r(this)?this.getWindow().getScroll():{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){for(var t=this.parentNode,e={x:0,y:0};t&&!r(t);)e.x+=t.scrollLeft,e.y+=t.scrollTop,t=t.parentNode;return e},getOffsetParent:a?function(){var t=this;if(r(t)||"fixed"==p(t,"position"))return null;for(var e="static"==p(t,"position")?f:h;t=t.parentNode;)if(e(t))return t;return null}:function(){var t=this;if(r(t)||"fixed"==p(t,"position"))return null;try{return t.offsetParent}catch(t){}return null},getOffsets:function(){if(this.getBoundingClientRect){var t=this.getBoundingClientRect(),e=document.id(this.getDocument().documentElement),n=e.getScroll(),i=this.getScrolls(),s="fixed"==p(this,"position");return{x:t.left.toFloat()+i.x+(s?0:n.x)-e.clientLeft,y:t.top.toFloat()+i.y+(s?0:n.y)-e.clientTop}}var o=this,a={x:0,y:0};if(r(this))return a;for(;o&&!r(o);)a.x+=o.offsetLeft,a.y+=o.offsetTop,o=o.offsetParent;return a},getPosition:function(t){var r=this.getOffsets(),i=this.getScrolls(),s={x:r.x-i.x,y:r.y-i.y};if(t&&(t=document.id(t))){var o=t.getPosition();return{x:s.x-o.x-n(t),y:s.y-o.y-e(t)}}return s},getCoordinates:function(t){if(r(this))return this.getWindow().getCoordinates();var e=this.getPosition(t),n=this.getSize(),i={left:e.x,top:e.y,width:n.x,height:n.y};return i.right=i.left+i.width,i.bottom=i.top+i.height,i},computePosition:function(e){return{left:e.x-t(this,"margin-left"),top:e.y-t(this,"margin-top")}},setPosition:function(t){return this.setStyles(this.computePosition(t))}}),[Document,Window].invoke("implement",{getSize:function(){var t=i(this);return{x:t.clientWidth,y:t.clientHeight}},getScroll:function(){var t=this.getWindow(),e=i(this);return{x:t.pageXOffset||e.scrollLeft,y:t.pageYOffset||e.scrollTop}},getScrollSize:function(){var t=i(this),e=this.getSize(),n=this.getDocument().body;return{x:Math.max(t.scrollWidth,n.scrollWidth,e.x),y:Math.max(t.scrollHeight,n.scrollHeight,e.y)}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var t=this.getSize();return{top:0,left:0,bottom:t.y,right:t.x,height:t.y,width:t.x}}});var p=Element.getComputedStyle}(),Element.alias({position:"setPosition"}),[Window,Document,Element].invoke("implement",{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}}),function(){var t=this.Fx=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{fps:60,unit:!1,duration:500,frames:null,frameSkip:!0,link:"ignore"},initialize:function(t){this.subject=this.subject||this,this.setOptions(t)},getTransition:function(){return function(t){return-(Math.cos(Math.PI*t)-1)/2}},step:function(t){if(this.options.frameSkip){var e=null!=this.time?t-this.time:0,n=e/this.frameInterval;this.time=t,this.frame+=n}else this.frame++;if(this.frame<this.frames){var r=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,r))}else this.frame=this.frames,this.set(this.compute(this.from,this.to,1)),this.stop()},set:function(t){return t},compute:function(e,n,r){return t.compute(e,n,r)},check:function(){if(!this.isRunning())return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},start:function(e,n){if(!this.check(e,n))return this;this.from=e,this.to=n,this.frame=this.options.frameSkip?0:-1,this.time=null,this.transition=this.getTransition();var r=this.options.frames,s=this.options.fps,o=this.options.duration;return this.duration=t.Durations[o]||o.toInt(),this.frameInterval=1e3/s,this.frames=r||Math.round(this.duration/this.frameInterval),"pending"!==this.getThenableState()&&this.resetThenable(this.subject),this.fireEvent("start",this.subject),i.call(this,s),this},stop:function(){return this.isRunning()&&(this.time=null,s.call(this,this.options.fps),this.frames==this.frame?(this.fireEvent("complete",this.subject),this.callChain()||this.fireEvent("chainComplete",this.subject)):this.fireEvent("stop",this.subject),this.resolve(this.subject===this?null:this.subject)),this},cancel:function(){return this.isRunning()&&(this.time=null,s.call(this,this.options.fps),this.frame=this.frames,this.fireEvent("cancel",this.subject).clearChain(),this.reject(this.subject)),this},pause:function(){return this.isRunning()&&(this.time=null,s.call(this,this.options.fps)),this},resume:function(){return this.isPaused()&&i.call(this,this.options.fps),this},isRunning:function(){var t=e[this.options.fps];return t&&t.contains(this)},isPaused:function(){return this.frame<this.frames&&!this.isRunning()}});t.compute=function(t,e,n){return(e-t)*n+t},t.Durations={short:250,normal:500,long:1e3};var e={},n={},r=function(){for(var t=Date.now(),e=this.length;e--;){var n=this[e];n&&n.step(t)}},i=function(t){var i=e[t]||(e[t]=[]);i.push(this),n[t]||(n[t]=r.periodical(Math.round(1e3/t),i))},s=function(t){var r=e[t];r&&(r.erase(this),!r.length&&n[t]&&(delete e[t],n[t]=clearInterval(n[t])))}}(),Fx.CSS=new Class({Extends:Fx,prepare:function(t,e,n){n=Array.convert(n);var r=n[0],i=n[1];if(null==i){i=r,r=t.getStyle(e);var s=this.options.unit;if(s&&r&&"string"==typeof r&&r.slice(-s.length)!=s&&0!=parseFloat(r)){t.setStyle(e,i+s);var o=t.getComputedStyle(e);if(!/px$/.test(o)&&null==(o=t.style[("pixel-"+e).camelCase()])){var a=t.style.left;t.style.left=i+s,o=t.style.pixelLeft,t.style.left=a}r=(i||1)/(parseFloat(o)||1)*(parseFloat(r)||0),t.setStyle(e,r+s)}}return{from:this.parse(r),to:this.parse(i)}},parse:function(t){return t=Function.convert(t)(),t="string"==typeof t?t.split(" "):Array.convert(t),t.map(function(t){t=String(t);var e=!1;return Object.each(Fx.CSS.Parsers,function(n){if(!e){var r=n.parse(t);(r||0===r)&&(e={value:r,parser:n})}}),e=e||{value:t,parser:Fx.CSS.Parsers.String}})},compute:function(t,e,n){var r=[];return Math.min(t.length,e.length).times(function(i){r.push({value:t[i].parser.compute(t[i].value,e[i].value,n),parser:t[i].parser})}),r.$family=Function.convert("fx:css:value"),r},serve:function(t,e){"fx:css:value"!=typeOf(t)&&(t=this.parse(t));var n=[];return t.each(function(t){n=n.concat(t.parser.serve(t.value,e))}),n},render:function(t,e,n,r){t.setStyle(e,this.serve(n,r))},search:function(t){if(Fx.CSS.Cache[t])return Fx.CSS.Cache[t];var e={},n=new RegExp("^"+t.escapeRegExp()+"$"),r=function(t){Array.each(t,function(t){if(t.media)return void r(t.rules||t.cssRules);if(t.style){var i=t.selectorText?t.selectorText.replace(/^\w+/,function(t){return t.toLowerCase()}):null;i&&n.test(i)&&Object.each(Element.Styles,function(n,r){t.style[r]&&!Element.ShortStyles[r]&&(n=String(t.style[r]),e[r]=/^rgb/.test(n)?n.rgbToHex():n)})}})};return Array.each(document.styleSheets,function(t){var e=t.href;if(!(e&&e.indexOf("://")>-1&&-1==e.indexOf(document.domain))){var n=t.rules||t.cssRules;r(n)}}),Fx.CSS.Cache[t]=e}}),Fx.CSS.Cache={},Fx.CSS.Parsers={Color:{parse:function(t){return t.match(/^#[0-9a-f]{3,6}$/i)?t.hexToRgb(!0):!!(t=t.match(/(\d+),\s*(\d+),\s*(\d+)/))&&[t[1],t[2],t[3]]},compute:function(t,e,n){return t.map(function(r,i){return Math.round(Fx.compute(t[i],e[i],n))})},serve:function(t){return t.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(t,e){return e?t+e:t}},String:{parse:Function.convert(!1),compute:function(t,e){return e},serve:function(t){return t}}},Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(t,e){this.element=this.subject=document.id(t),this.parent(e)},set:function(t){"string"==typeof t&&(t=this.search(t));for(var e in t)this.render(this.element,e,t[e],this.options.unit);return this},compute:function(t,e,n){var r={};for(var i in t)r[i]=this.parent(t[i],e[i],n);return r},start:function(t){if(!this.check(t))return this;"string"==typeof t&&(t=this.search(t));var e={},n={};for(var r in t){var i=this.prepare(this.element,r,t[r]);e[r]=i.from,n[r]=i.to}return this.parent(e,n)}}),Element.Properties.morph={set:function(t){return this.get("morph").cancel().setOptions(t),this},get:function(){var t=this.retrieve("morph");return t||(t=new Fx.Morph(this,{link:"cancel"}),this.store("morph",t)),t}},Element.implement({morph:function(t){return this.get("morph").start(t),this}}),Fx.implement({getTransition:function(){var t=this.options.transition||Fx.Transitions.Sine.easeInOut;if("string"==typeof t){var e=t.split(":");t=Fx.Transitions,t=t[e[0]]||t[e[0].capitalize()],e[1]&&(t=t["ease"+e[1].capitalize()+(e[2]?e[2].capitalize():"")])}return t}}),Fx.Transition=function(t,e){e=Array.convert(e);var n=function(n){return t(n,e)};return Object.append(n,{easeIn:n,easeOut:function(n){return 1-t(1-n,e)},easeInOut:function(n){return(n<=.5?t(2*n,e):2-t(2*(1-n),e))/2}})},Fx.Transitions={linear:function(t){return t}},Fx.Transitions.extend=function(t){for(var e in t)Fx.Transitions[e]=new Fx.Transition(t[e])},Fx.Transitions.extend({Pow:function(t,e){return Math.pow(t,e&&e[0]||6)},Expo:function(t){return Math.pow(2,8*(t-1))},Circ:function(t){return 1-Math.sin(Math.acos(t))},Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Back:function(t,e){return e=e&&e[0]||1.618,Math.pow(t,2)*((e+1)*t-e)},Bounce:function(t){for(var e,n=0,r=1;1;n+=r,r/=2)if(t>=(7-4*n)/11){e=r*r-Math.pow((11-6*n-11*t)/4,2);break}return e},Elastic:function(t,e){return Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e&&e[0]||1)/3)}}),["Quad","Cubic","Quart","Quint"].each(function(t,e){Fx.Transitions[t]=new Fx.Transition(function(t){return Math.pow(t,e+2)})}),Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(t,e){this.element=this.subject=document.id(t),this.parent(e)},set:function(t,e){return 1==arguments.length&&(e=t,t=this.property||this.options.property),this.render(this.element,t,e,this.options.unit),this},start:function(t,e,n){if(!this.check(t,e,n))return this;var r=Array.flatten(arguments);this.property=this.options.property||r.shift();var i=this.prepare(this.element,this.property,r);return this.parent(i.from,i.to)}}),Element.Properties.tween={set:function(t){return this.get("tween").cancel().setOptions(t),this},get:function(){var t=this.retrieve("tween");return t||(t=new Fx.Tween(this,{link:"cancel"}),this.store("tween",t)),t}},Element.implement({tween:function(t,e,n){return this.get("tween").start(t,e,n),this},fade:function(){var t,e,n=this.get("tween"),r=["opacity"].append(arguments);switch(null==r[1]&&(r[1]="toggle"),r[1]){case"in":t="start",r[1]=1;break;case"out":t="start",r[1]=0;break;case"show":t="set",r[1]=1;break;case"hide":t="set",r[1]=0;break;case"toggle":var i=this.retrieve("fade:flag",1==this.getStyle("opacity"));t="start",r[1]=i?0:1,this.store("fade:flag",!i),e=!0;break;default:t="start"}e||this.eliminate("fade:flag"),n[t].apply(n,r);var s=r[r.length-1];return"set"==t?this.setStyle("visibility",0==s?"hidden":"visible"):0!=s?n.$chain.length?n.chain(function(){this.element.setStyle("visibility","visible"),this.callChain()}):this.setStyle("visibility","visible"):n.chain(function(){this.element.getStyle("opacity")||(this.element.setStyle("visibility","hidden"),this.callChain())}),this},highlight:function(t,e){e||(e=this.retrieve("highlight:original",this.getStyle("background-color")),e="transparent"==e?"#fff":e);var n=this.get("tween");return n.start("background-color",t||"#ffff88",e).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original")),n.callChain()}.bind(this)),this}}),function(){var t=function(){},e="onprogress"in new Browser.Request,n=this.Request=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,format:!1,method:"post",link:"ignore",isSuccess:null,emulation:!0,urlEncoded:!0,encoding:"utf-8",evalScripts:!1,evalResponse:!1,timeout:0,noCache:!1},initialize:function(t){this.xhr=new Browser.Request,this.setOptions(t),this.headers=this.options.headers},onStateChange:function(){var n=this.xhr;4==n.readyState&&this.running&&(this.running=!1,this.status=0,Function.attempt(function(){var t=n.status;this.status=1223==t?204:t}.bind(this)),n.onreadystatechange=t,e&&(n.onprogress=n.onloadstart=t),this.timer&&(clearTimeout(this.timer),delete this.timer),this.response={text:this.xhr.responseText||"",xml:this.xhr.responseXML},this.options.isSuccess.call(this,this.status)?this.success(this.response.text,this.response.xml):this.failure())},isSuccess:function(){var t=this.status;return t>=200&&t<300},isRunning:function(){return!!this.running},processScripts:function(t){return this.options.evalResponse||/(ecma|java)script/.test(this.getHeader("Content-type"))?Browser.exec(t):t.stripScripts(this.options.evalScripts)},success:function(t,e){this.onSuccess(this.processScripts(t),e),this.resolve({text:t,xml:e})},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure(),this.reject({reason:"failure",xhr:this.xhr})},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},loadstart:function(t){this.fireEvent("loadstart",[t,this.xhr])},progress:function(t){this.fireEvent("progress",[t,this.xhr])},timeout:function(){this.fireEvent("timeout",this.xhr),this.reject({reason:"timeout",xhr:this.xhr})},setHeader:function(t,e){return this.headers[t]=e,this},getHeader:function(t){return Function.attempt(function(){return this.xhr.getResponseHeader(t)}.bind(this))},check:function(){if(!this.running)return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},send:function(t){if(!this.check(t))return this;this.options.isSuccess=this.options.isSuccess||this.isSuccess,this.running=!0;var n=typeOf(t);"string"!=n&&"element"!=n||(t={data:t});var r=this.options;t=Object.append({data:r.data,url:r.url,method:r.method},t);var i=t.data,s=String(t.url),o=t.method.toLowerCase();switch(typeOf(i)){case"element":i=document.id(i).toQueryString();break;case"object":case"hash":i=Object.toQueryString(i)}if(this.options.format){var a="format="+this.options.format;i=i?a+"&"+i:a}if(this.options.emulation&&!["get","post"].contains(o)){var u="_method="+o;i=i?u+"&"+i:u,o="post"}if(this.options.urlEncoded&&["post","put"].contains(o)){var c=this.options.encoding?"; charset="+this.options.encoding:"";this.headers["Content-type"]="application/x-www-form-urlencoded"+c}s||(s=document.location.pathname);var l=s.lastIndexOf("/");l>-1&&(l=s.indexOf("#"))>-1&&(s=s.substr(0,l)),this.options.noCache&&(s+=(s.indexOf("?")>-1?"&":"?")+String.uniqueID()),!i||"get"!=o&&"delete"!=o||(s+=(s.indexOf("?")>-1?"&":"?")+i,i=null);var h=this.xhr;return e&&(h.onloadstart=this.loadstart.bind(this),h.onprogress=this.progress.bind(this)),h.open(o.toUpperCase(),s,this.options.async,this.options.user,this.options.password),this.options.withCredentials&&"withCredentials"in h&&(h.withCredentials=!0),h.onreadystatechange=this.onStateChange.bind(this),Object.each(this.headers,function(t,e){try{h.setRequestHeader(e,t)}catch(n){this.fireEvent("exception",[e,t]),this.reject({reason:"exception",xhr:h,exception:n})}},this),"pending"!==this.getThenableState()&&this.resetThenable({reason:"send"}),this.fireEvent("request"),h.send(i),this.options.async?this.options.timeout&&(this.timer=this.timeout.delay(this.options.timeout,this)):this.onStateChange(),this},cancel:function(){if(!this.running)return this;this.running=!1;var n=this.xhr;return n.abort(),this.timer&&(clearTimeout(this.timer),delete this.timer),n.onreadystatechange=t,e&&(n.onprogress=n.onloadstart=t),this.xhr=new Browser.Request,this.fireEvent("cancel"),this.reject({reason:"cancel",xhr:n}),this}}),r={};["get","post","put","delete","patch","head","GET","POST","PUT","DELETE","PATCH","HEAD"].each(function(t){r[t]=function(e){var n={method:t};return null!=e&&(n.data=e),this.send(n)}}),n.implement(r),Element.Properties.send={set:function(t){return this.get("send").cancel().setOptions(t),this},get:function(){var t=this.retrieve("send");return t||(t=new n({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")}),this.store("send",t)),t}},Element.implement({send:function(t){var e=this.get("send");return e.send({data:this,url:t||e.options.url}),this}})}(),Request.HTML=new Class({Extends:Request,options:{update:!1,append:!1,evalScripts:!0,filter:!1,headers:{Accept:"text/html, application/xml, text/xml, */*"}},success:function(t){var e=this.options,n=this.response;n.html=t.stripScripts(function(t){n.javascript=t});var r=n.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);r&&(n.html=r[1]);var i=new Element("div").set("html",n.html);if(n.tree=i.childNodes,n.elements=i.getElements(e.filter||"*"),e.filter&&(n.tree=n.elements),e.update){var s=document.id(e.update).empty();e.filter?s.adopt(n.elements):s.set("html",n.html)}else if(e.append){var o=document.id(e.append);e.filter?n.elements.reverse().inject(o):o.adopt(i.getChildren())}e.evalScripts&&Browser.exec(n.javascript),this.onSuccess(n.tree,n.elements,n.html,n.javascript),this.resolve({tree:n.tree,elements:n.elements,html:n.html,javascript:n.javascript})}}),Element.Properties.load={set:function(t){return this.get("load").cancel().setOptions(t),this},get:function(){var t=this.retrieve("load");return t||(t=new Request.HTML({data:this,link:"cancel",update:this,method:"get"}),this.store("load",t)),t}},Element.implement({load:function(){return this.get("load").send(Array.link(arguments,{data:Type.isObject,url:Type.isString})),this}}),"undefined"==typeof JSON&&(this.JSON={}),function(){var special={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(t){return special[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)};JSON.validate=function(t){return t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t)},JSON.encode=JSON.stringify?function(t){return JSON.stringify(t)}:function(t){switch(t&&t.toJSON&&(t=t.toJSON()),typeOf(t)){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+t.map(JSON.encode).clean()+"]";case"object":case"hash":var e=[];return Object.each(t,function(t,n){var r=JSON.encode(t);r&&e.push(JSON.encode(n)+":"+r)}),"{"+e+"}";case"number":case"boolean":return""+t;case"null":return"null"}return null},JSON.secure=!0,JSON.decode=function(string,secure){if(!string||"string"!=typeOf(string))return null;if(null==secure&&(secure=JSON.secure),secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")}}(),Request.JSON=new Class({Extends:Request,options:{secure:!0},initialize:function(t){this.parent(t),Object.append(this.headers,{Accept:"application/json","X-Request":"JSON"})},success:function(t){var e;try{e=this.response.json=JSON.decode(t,this.options.secure)}catch(e){return void this.fireEvent("error",[t,e])}null==e?this.failure():(this.onSuccess(e,t),this.resolve({json:e,text:t}))}});var Cookie=new Class({Implements:Options,options:{path:"/",domain:!1,duration:!1,secure:!1,document:document,encode:!0,httpOnly:!1},initialize:function(t,e){this.key=t,this.setOptions(e)},write:function(t){if(this.options.encode&&(t=encodeURIComponent(t)),this.options.domain&&(t+="; domain="+this.options.domain),this.options.path&&(t+="; path="+this.options.path),this.options.duration){var e=new Date;e.setTime(e.getTime()+24*this.options.duration*60*60*1e3),t+="; expires="+e.toGMTString()}return this.options.secure&&(t+="; secure"),this.options.httpOnly&&(t+="; HttpOnly"),this.options.document.cookie=this.key+"="+t,this},read:function(){var t=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return t?decodeURIComponent(t[1]):null},dispose:function(){return new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write(""),this}});Cookie.write=function(t,e,n){return new Cookie(t,n).write(e)},Cookie.read=function(t){return new Cookie(t).read()},Cookie.dispose=function(t,e){return new Cookie(t,e).dispose()},function(t,e){var n,r,i,s,o=[],a=e.createElement("div"),u=function(){clearTimeout(s),n||(Browser.loaded=n=!0,e.removeListener("DOMContentLoaded",u).removeListener("readystatechange",c),e.fireEvent("domready"),t.fireEvent("domready")),e=t=a=null},c=function(){for(var t=o.length;t--;)if(o[t]())return u(),!0;return!1},l=function(){clearTimeout(s),c()||(s=setTimeout(l,10))};e.addListener("DOMContentLoaded",u);var h=function(){try{return a.doScroll(),!0}catch(t){}return!1};a.doScroll&&!h()&&(o.push(h),i=!0),e.readyState&&o.push(function(){var t=e.readyState;return"loaded"==t||"complete"==t}),"onreadystatechange"in e?e.addListener("readystatechange",c):i=!0,i&&l(),Element.Events.domready={onAdd:function(t){n&&t.call(this)}},Element.Events.load={base:"load",onAdd:function(e){r&&this==t&&e.call(this)},condition:function(){return this==t&&(u(),delete Element.Events.load),!0}},t.addEvent("load",function(){r=!0})}(window,document);

/*! smartchat - v2.3.20 - 2018-12-12 */
function log(){window.console.log.apply(window.console,arguments)}MooTools.More={version:"1.4.0.1",build:"a4244edf2aa97ac8a196fc96082dd35af1abab87"},function(){Events.Pseudos=function(a,b,c){var d="_monitorEvents:",e=function(a){return{store:a.store?function(b,c){a.store(d+b,c)}:function(b,c){(a._monitorEvents||(a._monitorEvents={}))[b]=c},retrieve:a.retrieve?function(b,c){return a.retrieve(d+b,c)}:function(b,c){return a._monitorEvents?a._monitorEvents[b]||c:c}}},f=function(b){if(-1==b.indexOf(":")||!a)return null;for(var c=Slick.parse(b).expressions[0][0],d=c.pseudos,e=d.length,f=[];e--;){var g=d[e].key,h=a[g];null!=h&&f.push({event:c.tag,value:d[e].value,pseudo:g,original:b,listener:h})}return f.length?f:null};return{addEvent:function(a,c,d){var g=f(a);if(!g)return b.call(this,a,c,d);var h=e(this),i=h.retrieve(a,[]),j=g[0].event,k=Array.slice(arguments,2),l=c,m=this;return g.each(function(a){var b=a.listener,c=l;0==b?j+=":"+a.pseudo+"("+a.value+")":l=function(){b.call(m,a,c,arguments,l);
}}),i.include({type:j,event:c,monitor:l}),h.store(a,i),a!=j&&b.apply(this,[a,c].concat(k)),b.apply(this,[j,l].concat(k))},removeEvent:function(a,b){var d=f(a);if(!d)return c.call(this,a,b);var g=e(this),h=g.retrieve(a);if(!h)return this;var i=Array.slice(arguments,2);return c.apply(this,[a,b].concat(i)),h.each(function(a,d){b&&a.event!=b||c.apply(this,[a.type,a.monitor].concat(i)),delete h[d]},this),g.store(a,h),this}}};var a={once:function(a,b,c,d){b.apply(this,c),this.removeEvent(a.event,d).removeEvent(a.original,b)},throttle:function(a,b,c){b._throttled||(b.apply(this,c),b._throttled=setTimeout(function(){b._throttled=!1},a.value||250))},pause:function(a,b,c){clearTimeout(b._pause),b._pause=b.delay(a.value||250,this,c)}};Events.definePseudo=function(b,c){return a[b]=c,this},Events.lookupPseudo=function(b){return a[b]};var b=Events.prototype;Events.implement(Events.Pseudos(a,b.addEvent,b.removeEvent)),["Request","Fx"].each(function(a){this[a]&&this[a].implement(Events.prototype)})}(),
function(){for(var a={relay:!1},b=["once","throttle","pause"],c=b.length;c--;)a[b[c]]=Events.lookupPseudo(b[c]);DOMEvent.definePseudo=function(b,c){return a[b]=c,this};var d=Element.prototype;[Element,Window,Document].invoke("implement",Events.Pseudos(a,d.addEvent,d.removeEvent))}(),function(){var a="$moo:keys-pressed",b="$moo:keys-keyup";DOMEvent.definePseudo("keys",function(c,d,e){var f=e[0],g=[],h=this.retrieve(a,[]);if(g.append(c.value.replace("++",function(){return g.push("+"),""}).split("+")),h.include(f.key),g.every(function(a){return h.contains(a)})&&d.apply(this,e),this.store(a,h),!this.retrieve(b)){var i=function(b){(function(){h=this.retrieve(a,[]).erase(b.key),this.store(a,h)}).delay(0,this)};this.store(b,i).addEvent("keyup",i)}}),DOMEvent.defineKeys({16:"shift",17:"control",18:"alt",20:"capslock",33:"pageup",34:"pagedown",35:"end",36:"home",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",107:"+"}).defineKey(Browser.firefox?109:189,"-");
}(),function(){var a=function(a,b){var c=[];return Object.each(b,function(b){Object.each(b,function(b){a.each(function(a){c.push(a+"-"+b+("border"==a?"-width":""))})})}),c},b=function(a,b){var c=0;return Object.each(b,function(b,d){d.test(a)&&(c+=b.toInt())}),c},c=function(a){return!(a&&!a.offsetHeight&&!a.offsetWidth)};Element.implement({measure:function(a){if(c(this))return a.call(this);for(var b=this.getParent(),d=[];!c(b)&&b!=document.body;)d.push(b.expose()),b=b.getParent();var e=this.expose(),f=a.call(this);return e(),d.each(function(a){a()}),f},expose:function(){if("none"!=this.getStyle("display"))return function(){};var a=this.style.cssText;return this.setStyles({display:"block",position:"absolute",visibility:"hidden"}),function(){this.style.cssText=a}.bind(this)},getDimensions:function(a){a=Object.merge({computeSize:!1},a);var b={x:0,y:0},c=function(a,b){return b.computeSize?a.getComputedSize(b):a.getSize()},d=this.getParent("body");if(d&&"none"==this.getStyle("display"))b=this.measure(function(){
return c(this,a)});else if(d)try{b=c(this,a)}catch(e){}return Object.append(b,b.x||0===b.x?{width:b.x,height:b.y}:{x:b.width,y:b.height})},getComputedSize:function(c){c=Object.merge({styles:["padding","border"],planes:{height:["top","bottom"],width:["left","right"]},mode:"both"},c);var d,e={},f={width:0,height:0};return"vertical"==c.mode?(delete f.width,delete c.planes.width):"horizontal"==c.mode&&(delete f.height,delete c.planes.height),a(c.styles,c.planes).each(function(a){e[a]=this.getStyle(a).toInt()},this),Object.each(c.planes,function(a,c){var g=c.capitalize(),h=this.getStyle(c);"auto"!=h||d||(d=this.getDimensions()),h=e[c]="auto"==h?d[c]:h.toInt(),f["total"+g]=h,a.each(function(a){var c=b(a,e);f["computed"+a.capitalize()]=c,f["total"+g]+=c})},this),Object.append(f,e)}})}(),function(a){var b=Element.Position={options:{relativeTo:document.body,position:{x:"center",y:"center"},offset:{x:0,y:0}},getOptions:function(a,c){return c=Object.merge({},b.options,c),b.setPositionOption(c),b.setEdgeOption(c),
b.setOffsetOption(a,c),b.setDimensionsOption(a,c),c},setPositionOption:function(a){a.position=b.getCoordinateFromValue(a.position)},setEdgeOption:function(a){var c=b.getCoordinateFromValue(a.edge);a.edge=c?c:"center"==a.position.x&&"center"==a.position.y?{x:"center",y:"center"}:{x:"left",y:"top"}},setOffsetOption:function(a,b){var c={x:0,y:0},d=a.measure(function(){return document.id(this.getOffsetParent())}),e=d.getScroll();d&&d!=a.getDocument().body&&(c=d.measure(function(){var a=this.getPosition();if("fixed"==this.getStyle("position")){var b=window.getScroll();a.x+=b.x,a.y+=b.y}return a}),b.offset={parentPositioned:d!=document.id(b.relativeTo),x:b.offset.x-c.x+e.x,y:b.offset.y-c.y+e.y})},setDimensionsOption:function(a,b){b.dimensions=a.getDimensions({computeSize:!0,styles:["padding","border","margin"]})},getPosition:function(a,c){var d={};c=b.getOptions(a,c);var e=document.id(c.relativeTo)||document.body;b.setPositionCoordinates(c,d,e),c.edge&&b.toEdge(d,c);var f=c.offset;return d.left=(d.x>=0||f.parentPositioned||c.allowNegative?d.x:0).toInt(),
d.top=(d.y>=0||f.parentPositioned||c.allowNegative?d.y:0).toInt(),b.toMinMax(d,c),(c.relFixedPosition||"fixed"==e.getStyle("position"))&&b.toRelFixedPosition(e,d),c.ignoreScroll&&b.toIgnoreScroll(e,d),c.ignoreMargins&&b.toIgnoreMargins(d,c),d.left=Math.ceil(d.left),d.top=Math.ceil(d.top),delete d.x,delete d.y,d},setPositionCoordinates:function(a,b,c){var d=a.offset.y,e=a.offset.x,f=c==document.body?window.getScroll():c.getPosition(),g=f.y,h=f.x,i=window.getSize();switch(a.position.x){case"left":b.x=h+e;break;case"right":b.x=h+e+c.offsetWidth;break;default:b.x=h+(c==document.body?i.x:c.offsetWidth)/2+e}switch(a.position.y){case"top":b.y=g+d;break;case"bottom":b.y=g+d+c.offsetHeight;break;default:b.y=g+(c==document.body?i.y:c.offsetHeight)/2+d}},toMinMax:function(a,b){var c,d={left:"x",top:"y"};["minimum","maximum"].each(function(e){["left","top"].each(function(f){c=b[e]?b[e][d[f]]:null,null!=c&&("minimum"==e?a[f]<c:a[f]>c)&&(a[f]=c)})})},toRelFixedPosition:function(a,b){var c=window.getScroll();
b.top+=c.y,b.left+=c.x},toIgnoreScroll:function(a,b){var c=a.getScroll();b.top-=c.y,b.left-=c.x},toIgnoreMargins:function(a,b){a.left+="right"==b.edge.x?b.dimensions["margin-right"]:"center"!=b.edge.x?-b.dimensions["margin-left"]:-b.dimensions["margin-left"]+(b.dimensions["margin-right"]+b.dimensions["margin-left"])/2,a.top+="bottom"==b.edge.y?b.dimensions["margin-bottom"]:"center"!=b.edge.y?-b.dimensions["margin-top"]:-b.dimensions["margin-top"]+(b.dimensions["margin-bottom"]+b.dimensions["margin-top"])/2},toEdge:function(a,b){var c={},d=b.dimensions,e=b.edge;switch(e.x){case"left":c.x=0;break;case"right":c.x=-d.x-d.computedRight-d.computedLeft;break;default:c.x=-Math.round(d.totalWidth/2)}switch(e.y){case"top":c.y=0;break;case"bottom":c.y=-d.y-d.computedTop-d.computedBottom;break;default:c.y=-Math.round(d.totalHeight/2)}a.x+=c.x,a.y+=c.y},getCoordinateFromValue:function(a){return"string"!=typeOf(a)?a:(a=a.toLowerCase(),{x:a.test("left")?"left":a.test("right")?"right":"center",y:a.test(/upper|top/)?"top":a.test("bottom")?"bottom":"center"
})}};Element.implement({position:function(b){if(b&&(null!=b.x||null!=b.y))return a?a.apply(this,arguments):this;var c=this.setStyle("position","absolute").calculatePosition(b);return b&&b.returnPos?c:this.setStyles(c)},calculatePosition:function(a){return b.getPosition(this,a)}})}(Element.prototype.position),Element.implement({isDisplayed:function(){return"none"!=this.getStyle("display")},isVisible:function(){var a=this.offsetWidth,b=this.offsetHeight;return 0==a&&0==b?!1:a>0&&b>0?!0:"none"!=this.style.display},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var a;try{a=this.getStyle("display")}catch(b){}return"none"==a?this:this.store("element:_originalDisplay",a||"").setStyle("display","none")},show:function(a){return!a&&this.isDisplayed()?this:(a=a||this.retrieve("element:_originalDisplay")||"block",this.setStyle("display","none"==a?"block":a))},swapClass:function(a,b){return this.removeClass(a).addClass(b)}}),Document.implement({clearSelection:function(){
if(window.getSelection){var a=window.getSelection();a&&a.removeAllRanges&&a.removeAllRanges()}else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(b){}}}),Class.Mutators.Binds=function(a){return this.prototype.initialize||this.implement("initialize",function(){}),Array.convert(a).concat(this.prototype.Binds||[])},Class.Mutators.initialize=function(a){return function(){return Array.convert(this.Binds).each(function(a){var b=this[a];b&&(this[a]=b.bind(this))},this),a.apply(this,arguments)}};var Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:"px",grid:!1,style:!0,limit:!1,handle:!1,invert:!1,preventDefault:!1,stopPropagation:!1,modifiers:{x:"left",y:"top"}},initialize:function(){var a=Array.link(arguments,{element:function(a){return null!=a},options:Type.isObject});this.element=document.id(a.element),this.document=this.element.getDocument(),this.setOptions(a.options||{});var b=typeOf(this.options.handle);this.handles=("array"==b||"collection"==b?$$(this.options.handle):document.id(this.options.handle))||this.element,
this.mouse={now:{},pos:{}},this.value={start:{},now:{}},this.selection=Browser.ie?"selectstart":"mousedown",Browser.ie&&!Drag.ondragstartFixed&&(document.ondragstart=Function.from(!1),Drag.ondragstartFixed=!0),this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:Function.from(!1)},this.attach()},attach:function(){return this.handles.addEvent("mousedown",this.bound.start),this},detach:function(){return this.handles.removeEvent("mousedown",this.bound.start),this},start:function(a){var b=this.options;if(!a.rightClick){b.preventDefault&&a.preventDefault(),b.stopPropagation&&a.stopPropagation(),this.mouse.start=a.page,this.fireEvent("beforeStart",this.element);var c=b.limit;this.limit={x:[],y:[]};var d,e;for(d in b.modifiers)if(b.modifiers[d]){var f=this.element.getStyle(b.modifiers[d]);if(f&&!f.match(/px$/)&&(e||(e=this.element.getCoordinates(this.element.getOffsetParent())),f=e[b.modifiers[d]]),
b.style?this.value.now[d]=(f||0).toInt():this.value.now[d]=this.element[b.modifiers[d]],b.invert&&(this.value.now[d]*=-1),this.mouse.pos[d]=a.page[d]-this.value.now[d],c&&c[d])for(var g=2;g--;){var h=c[d][g];(h||0===h)&&(this.limit[d][g]="function"==typeof h?h():h)}}"number"==typeOf(this.options.grid)&&(this.options.grid={x:this.options.grid,y:this.options.grid});var i={mousemove:this.bound.check,mouseup:this.bound.cancel};i[this.selection]=this.bound.eventStop,this.document.addEvents(i)}},check:function(a){this.options.preventDefault&&a.preventDefault();var b=Math.round(Math.sqrt(Math.pow(a.page.x-this.mouse.start.x,2)+Math.pow(a.page.y-this.mouse.start.y,2)));b>this.options.snap&&(this.cancel(),this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop}),this.fireEvent("start",[this.element,a]).fireEvent("snap",this.element))},drag:function(a){var b=this.options;b.preventDefault&&a.preventDefault(),this.mouse.now=a.page;for(var c in b.modifiers)b.modifiers[c]&&(this.value.now[c]=this.mouse.now[c]-this.mouse.pos[c],
b.invert&&(this.value.now[c]*=-1),b.limit&&this.limit[c]&&((this.limit[c][1]||0===this.limit[c][1])&&this.value.now[c]>this.limit[c][1]?this.value.now[c]=this.limit[c][1]:(this.limit[c][0]||0===this.limit[c][0])&&this.value.now[c]<this.limit[c][0]&&(this.value.now[c]=this.limit[c][0])),b.grid[c]&&(this.value.now[c]-=(this.value.now[c]-(this.limit[c][0]||0))%b.grid[c]),b.style?this.element.setStyle(b.modifiers[c],this.value.now[c]+b.unit):this.element[b.modifiers[c]]=this.value.now[c]);this.fireEvent("drag",[this.element,a])},cancel:function(a){this.document.removeEvents({mousemove:this.bound.check,mouseup:this.bound.cancel}),a&&(this.document.removeEvent(this.selection,this.bound.eventStop),this.fireEvent("cancel",this.element))},stop:function(a){var b={mousemove:this.bound.drag,mouseup:this.bound.stop};b[this.selection]=this.bound.eventStop,this.document.removeEvents(b),a&&this.fireEvent("complete",[this.element,a])}});Element.implement({makeResizable:function(a){var b=new Drag(this,Object.merge({
modifiers:{x:"width",y:"height"}},a));return this.store("resizer",b),b.addEvent("drag",function(){this.fireEvent("resize",b)}.bind(this))}});var Slider=new Class({Implements:[Events,Options],Binds:["clickedElement","draggedKnob","scrolledElement"],options:{onTick:function(a){this.setKnobPosition(a)},initialStep:0,snap:!1,offset:0,range:!1,wheel:!1,steps:100,mode:"horizontal"},initialize:function(a,b,c){this.setOptions(c),c=this.options,this.element=document.id(a),b=this.knob=document.id(b),this.previousChange=this.previousEnd=this.step=-1;var d={},e={x:!1,y:!1};switch(c.mode){case"vertical":this.axis="y",this.property="top",this.offset="offsetHeight";break;case"horizontal":this.axis="x",this.property="left",this.offset="offsetWidth"}this.setSliderDimensions(),this.setRange(c.range),"static"==b.getStyle("position")&&b.setStyle("position","relative"),b.setStyle(this.property,-c.offset),e[this.axis]=this.property,d[this.axis]=[-c.offset,this.full-c.offset];var f={snap:0,limit:d,modifiers:e,
onDrag:this.draggedKnob,onStart:this.draggedKnob,onBeforeStart:function(){this.isDragging=!0}.bind(this),onCancel:function(){this.isDragging=!1}.bind(this),onComplete:function(){this.isDragging=!1,this.draggedKnob(),this.end()}.bind(this)};c.snap&&this.setSnap(f),this.drag=new Drag(b,f),this.attach(),null!=c.initialStep&&this.set(c.initialStep)},attach:function(){return this.element.addEvent("mousedown",this.clickedElement),this.options.wheel&&this.element.addEvent("mousewheel",this.scrolledElement),this.drag.attach(),this},detach:function(){return this.element.removeEvent("mousedown",this.clickedElement).removeEvent("mousewheel",this.scrolledElement),this.drag.detach(),this},autosize:function(){return this.setSliderDimensions().setKnobPosition(this.toPosition(this.step)),this.drag.options.limit[this.axis]=[-this.options.offset,this.full-this.options.offset],this.options.snap&&this.setSnap(),this},setSnap:function(a){return a||(a=this.drag.options),a.grid=Math.ceil(this.stepWidth),a.limit[this.axis][1]=this.full,
this},setKnobPosition:function(a){return this.options.snap&&(a=this.toPosition(this.step)),this.knob.setStyle(this.property,a),this},setSliderDimensions:function(){return this.full=this.element.measure(function(){return this.half=this.knob[this.offset]/2,this.element[this.offset]-this.knob[this.offset]+2*this.options.offset}.bind(this)),this},set:function(a){return this.range>0^a<this.min||(a=this.min),this.range>0^a>this.max||(a=this.max),this.step=Math.round(a),this.checkStep().fireEvent("tick",this.toPosition(this.step)).end()},setRange:function(a,b){return this.min=Array.pick([a[0],0]),this.max=Array.pick([a[1],this.options.steps]),this.range=this.max-this.min,this.steps=this.options.steps||this.full,this.stepSize=Math.abs(this.range)/this.steps,this.stepWidth=this.stepSize*this.full/Math.abs(this.range),a&&this.set(Array.pick([b,this.step]).floor(this.min).max(this.max)),this},clickedElement:function(a){if(!this.isDragging&&a.target!=this.knob){var b=this.range<0?-1:1,c=a.page[this.axis]-this.element.getPosition()[this.axis]-this.half;
c=c.limit(-this.options.offset,this.full-this.options.offset),this.step=Math.round(this.min+b*this.toStep(c)),this.checkStep().fireEvent("tick",c).end()}},scrolledElement:function(a){var b="horizontal"==this.options.mode?a.wheel<0:a.wheel>0;this.set(this.step+(b?-1:1)*this.stepSize),a.stop()},draggedKnob:function(){var a=this.range<0?-1:1,b=this.drag.value.now[this.axis];b=b.limit(-this.options.offset,this.full-this.options.offset),this.step=Math.round(this.min+a*this.toStep(b)),this.checkStep()},checkStep:function(){var a=this.step;return this.previousChange!=a&&(this.previousChange=a,this.fireEvent("change",a)),this},end:function(){var a=this.step;return this.previousEnd!==a&&(this.previousEnd=a,this.fireEvent("complete",a+"")),this},toStep:function(a){var b=(a+this.options.offset)*this.stepSize/this.full*this.steps;return this.options.steps?Math.round(b-=b%this.stepSize):b},toPosition:function(a){return this.full*Math.abs(this.min-a)/(this.steps*this.stepSize)-this.options.offset}});Class.Occlude=new Class({
occlude:function(a,b){b=document.id(b||this.element);var c=b.retrieve(a||this.property);return c&&!this.occluded?this.occluded=c:(this.occluded=!1,b.store(a||this.property,this),this.occluded)}});var IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:"iframeShim",src:'javascript:false;document.write("");',display:!1,zIndex:null,margin:0,offset:{x:0,y:0},browsers:Browser.ie6||Browser.firefox&&Browser.version<3&&Browser.Platform.mac},property:"IframeShim",initialize:function(a,b){return this.element=document.id(a),this.occlude()?this.occluded:(this.setOptions(b),this.makeShim(),this)},makeShim:function(){if(this.options.browsers){var a=this.element.getStyle("zIndex").toInt();if(!a){a=1;var b=this.element.getStyle("position");"static"!=b&&b||this.element.setStyle("position","relative"),this.element.setStyle("zIndex",a)}a=(null!=this.options.zIndex||0===this.options.zIndex)&&a>this.options.zIndex?this.options.zIndex:a-1,0>a&&(a=1),this.shim=new Element("iframe",{
src:this.options.src,scrolling:"no",frameborder:0,styles:{zIndex:a,position:"absolute",border:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},"class":this.options.className}).store("IframeShim",this);var c=function(){this.shim.inject(this.element,"after"),this[this.options.display?"show":"hide"](),this.fireEvent("inject")}.bind(this);IframeShim.ready?c():window.addEvent("load",c)}else this.position=this.hide=this.show=this.dispose=Function.from(this)},position:function(){if(!IframeShim.ready||!this.shim)return this;var a=this.element.measure(function(){return this.getSize()});return void 0!=this.options.margin&&(a.x=a.x-2*this.options.margin,a.y=a.y-2*this.options.margin,this.options.offset.x+=this.options.margin,this.options.offset.y+=this.options.margin),this.shim.set({width:a.x,height:a.y}).position({relativeTo:this.element,offset:this.options.offset}),this},hide:function(){return this.shim&&this.shim.setStyle("display","none"),this},show:function(){return this.shim&&this.shim.setStyle("display","block"),
this.position()},dispose:function(){return this.shim&&this.shim.dispose(),this},destroy:function(){return this.shim&&this.shim.destroy(),this}});window.addEvent("load",function(){IframeShim.ready=!0});var Mask=new Class({Implements:[Options,Events],Binds:["position"],options:{style:{},"class":"mask",maskMargins:!1,useIframeShim:!0,iframeShimOptions:{}},initialize:function(a,b){this.target=document.id(a)||document.id(document.body),this.target.store("mask",this),this.setOptions(b),this.render(),this.inject()},render:function(){this.element=new Element("div",{"class":this.options["class"],id:this.options.id||"mask-"+String.uniqueID(),styles:Object.merge({},this.options.style,{display:"none"}),events:{click:function(a){this.fireEvent("click",a),this.options.hideOnClick&&this.hide()}.bind(this)}}),this.hidden=!0},toElement:function(){return this.element},inject:function(a,b){b=b||(this.options.inject?this.options.inject.where:"")||this.target==document.body?"inside":"after",a=a||this.options.inject&&this.options.inject.target||this.target,
this.element.inject(a,b),this.options.useIframeShim&&(this.shim=new IframeShim(this.element,this.options.iframeShimOptions),this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)}))},position:function(){return this.resize(this.options.width,this.options.height),this.element.position({relativeTo:this.target,position:"topLeft",ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body}),this},resize:function(a,b){var c={styles:["padding","border"]};this.options.maskMargins&&c.styles.push("margin");var d=this.target.getComputedSize(c);if(this.target==document.body){this.element.setStyles({width:0,height:0});var e=window.getScrollSize();d.totalHeight<e.y&&(d.totalHeight=e.y),d.totalWidth<e.x&&(d.totalWidth=e.x)}return this.element.setStyles({width:Array.pick([a,d.totalWidth,d.x]),height:Array.pick([b,d.totalHeight,d.y])}),this},show:function(){return this.hidden?(window.addEvent("resize",this.position),
this.position(),this.showMask.apply(this,arguments),this):this},showMask:function(){this.element.setStyle("display","block"),this.hidden=!1,this.fireEvent("show")},hide:function(){return this.hidden?this:(window.removeEvent("resize",this.position),this.hideMask.apply(this,arguments),this.options.destroyOnHide?this.destroy():this)},hideMask:function(){this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide")},toggle:function(){this[this.hidden?"show":"hide"]()},destroy:function(){this.hide(),this.element.destroy(),this.fireEvent("destroy"),this.target.eliminate("mask")}});Element.Properties.mask={set:function(a){var b=this.retrieve("mask");return b&&b.destroy(),this.eliminate("mask").store("mask:options",a)},get:function(){var a=this.retrieve("mask");return a||(a=new Mask(this,this.retrieve("mask:options")),this.store("mask",a)),a}},Element.implement({mask:function(a){return a&&this.set("mask",a),this.get("mask").show(),this},unmask:function(){return this.get("mask").hide(),
this}}),Class.refactor=function(a,b){return Object.each(b,function(b,c){var d=a.prototype[c];d=d&&d.$origin||d||function(){},a.implement(c,"function"==typeof b?function(){var a=this.previous;this.previous=d;var c=b.apply(this,arguments);return this.previous=a,c}:b)}),a};var Spinner=new Class({Extends:Mask,Implements:Chain,options:{"class":"spinner",containerPosition:{},content:{"class":"spinner-content"},messageContainer:{"class":"spinner-msg"},img:{"class":"spinner-img"},fxOptions:{link:"chain"}},initialize:function(a,b){this.target=document.id(a)||document.id(document.body),this.target.store("spinner",this),this.setOptions(b),this.render(),this.inject();var c=function(){this.active=!1}.bind(this);this.addEvents({hide:c,show:c})},render:function(){this.parent(),this.element.set("id",this.options.id||"spinner-"+String.uniqueID()),this.content=document.id(this.options.content)||new Element("div",this.options.content),this.content.inject(this.element),this.options.message&&(this.msg=document.id(this.options.message)||new Element("p",this.options.messageContainer).appendText(this.options.message),
this.msg.inject(this.content)),this.options.img&&(this.img=document.id(this.options.img)||new Element("div",this.options.img),this.img.inject(this.content)),this.element.set("tween",this.options.fxOptions)},show:function(a){return this.active?this.chain(this.show.bind(this)):this.hidden?(this.active=!0,this.parent(a)):(this.callChain.delay(20,this),this)},showMask:function(a){var b=function(){this.content.position(Object.merge({relativeTo:this.element},this.options.containerPosition))}.bind(this);a?(this.parent(),b()):(this.options.style.opacity||(this.options.style.opacity=this.element.getStyle("opacity").toFloat()),this.element.setStyles({display:"block",opacity:0}).tween("opacity",this.options.style.opacity),b(),this.hidden=!1,this.fireEvent("show"),this.callChain())},hide:function(a){return this.active?this.chain(this.hide.bind(this)):this.hidden?(this.callChain.delay(20,this),this):(this.active=!0,this.parent(a))},hideMask:function(a){return a?this.parent():void this.element.tween("opacity",0).get("tween").chain(function(){
this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide"),this.callChain()}.bind(this))},destroy:function(){this.content.destroy(),this.parent(),this.target.eliminate("spinner")}});Request=Class.refactor(Request,{options:{useSpinner:!1,spinnerOptions:{},spinnerTarget:!1},initialize:function(a){this._send=this.send,this.send=function(a){var b=this.getSpinner();return b?b.chain(this._send.pass(a,this)).show():this._send(a),this},this.previous(a)},getSpinner:function(){if(!this.spinner){var a=document.id(this.options.spinnerTarget)||document.id(this.options.update);if(this.options.useSpinner&&a){a.set("spinner",this.options.spinnerOptions);var b=this.spinner=a.get("spinner");["complete","exception","cancel"].each(function(a){this.addEvent(a,b.hide.bind(b))},this)}}return this.spinner}}),Element.Properties.spinner={set:function(a){var b=this.retrieve("spinner");return b&&b.destroy(),this.eliminate("spinner").store("spinner:options",a)},get:function(){var a=this.retrieve("spinner");
return a||(a=new Spinner(this,this.retrieve("spinner:options")),this.store("spinner",a)),a}},Element.implement({spin:function(a){return a&&this.set("spinner",a),this.get("spinner").show(),this},unspin:function(){return this.get("spinner").hide(),this}}),function(){var a=function(a){return null!=a},b=Object.prototype.hasOwnProperty;Object.extend({getFromPath:function(a,c){"string"==typeof c&&(c=c.split("."));for(var d=0,e=c.length;e>d;d++){if(!b.call(a,c[d]))return null;a=a[c[d]]}return a},cleanValues:function(b,c){c=c||a;for(var d in b)c(b[d])||delete b[d];return b},erase:function(a,c){return b.call(a,c)&&delete a[c],a},run:function(a){var b=Array.slice(arguments,1);for(var c in a)a[c].apply&&a[c].apply(a,b);return a}})}(),function(){var a=null,b={},c=function(a){return instanceOf(a,d.Set)?a:b[a]},d=this.Locale={define:function(c,e,f,g){var h;return instanceOf(c,d.Set)?(h=c.name,h&&(b[h]=c)):(h=c,b[h]||(b[h]=new d.Set(h)),c=b[h]),e&&c.define(e,f,g),a||(a=c),c},use:function(b){return b=c(b),
b&&(a=b,this.fireEvent("change",b)),this},getCurrent:function(){return a},get:function(b,c){return a?a.get(b,c):""},inherit:function(a,b,d){return a=c(a),a&&a.inherit(b,d),this},list:function(){return Object.keys(b)}};Object.append(d,new Events),d.Set=new Class({sets:{},inherits:{locales:[],sets:{}},initialize:function(a){this.name=a||""},define:function(a,b,c){var d=this.sets[a];return d||(d={}),b&&("object"==typeOf(b)?d=Object.merge(d,b):d[b]=c),this.sets[a]=d,this},get:function(a,c,d){var e=Object.getFromPath(this.sets,a);if(null!=e){var f=typeOf(e);return"function"==f?e=e.apply(null,Array.convert(c)):"object"==f&&(e=Object.clone(e)),e}var g=a.indexOf("."),h=0>g?a:a.substr(0,g),i=(this.inherits.sets[h]||[]).combine(this.inherits.locales).include("en-US");d||(d=[]);for(var j=0,k=i.length;k>j;j++)if(!d.contains(i[j])){d.include(i[j]);var l=b[i[j]];if(l&&(e=l.get(a,c,d),null!=e))return e}return""},inherit:function(a,b){a=Array.convert(a),b&&!this.inherits.sets[b]&&(this.inherits.sets[b]=[]);
for(var c=a.length;c--;)(b?this.inherits.sets[b]:this.inherits.locales).unshift(a[c]);return this}})}(),function(){var a=this.Date,b=a.Methods={ms:"Milliseconds",year:"FullYear",min:"Minutes",mo:"Month",sec:"Seconds",hr:"Hours"};["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds","Time","TimezoneOffset","Week","Timezone","GMTOffset","DayOfYear","LastMonth","LastDayOfMonth","UTCDate","UTCDay","UTCFullYear","AMPM","Ordinal","UTCHours","UTCMilliseconds","UTCMinutes","UTCMonth","UTCSeconds","UTCMilliseconds"].each(function(b){a.Methods[b.toLowerCase()]=b});var c=function(a,b,d){return 1==b?a:a<Math.pow(10,b-1)?(d||"0")+c(a,b-1,d):a};a.implement({set:function(a,c){a=a.toLowerCase();var d=b[a]&&"set"+b[a];return d&&this[d]&&this[d](c),this}.overloadSetter(),get:function(a){a=a.toLowerCase();var c=b[a]&&"get"+b[a];return c&&this[c]?this[c]():null}.overloadGetter(),clone:function(){return new a(this.get("time"))},increment:function(b,c){switch(b=b||"day",c=null!=c?c:1,b){
case"year":return this.increment("month",12*c);case"month":var d=this.get("date");return this.set("date",1).set("mo",this.get("mo")+c),this.set("date",d.min(this.get("lastdayofmonth")));case"week":return this.increment("day",7*c);case"day":return this.set("date",this.get("date")+c)}if(!a.units[b])throw new Error(b+" is not a supported interval");return this.set("time",this.get("time")+c*a.units[b]())},decrement:function(a,b){return this.increment(a,-1*(null!=b?b:1))},isLeapYear:function(){return a.isLeapYear(this.get("year"))},clearTime:function(){return this.set({hr:0,min:0,sec:0,ms:0})},diff:function(b,c){return"string"==typeOf(b)&&(b=a.parse(b)),((b-this)/a.units[c||"day"](3,3)).round()},getLastDayOfMonth:function(){return a.daysInMonth(this.get("mo"),this.get("year"))},getDayOfYear:function(){return(a.UTC(this.get("year"),this.get("mo"),this.get("date")+1)-a.UTC(this.get("year"),0,1))/a.units.day()},setDay:function(b,c){null==c&&(c=a.getMsg("firstDayOfWeek"),""===c&&(c=1)),b=(7+a.parseDay(b,!0)-c)%7;
var d=(7+this.get("day")-c)%7;return this.increment("day",b-d)},getWeek:function(b){null==b&&(b=a.getMsg("firstDayOfWeek"),""===b&&(b=1));var c,d=this,e=(7+d.get("day")-b)%7,f=0;if(1==b){var g=d.get("month"),h=d.get("date")-e;if(11==g&&h>28)return 1;0==g&&-2>h&&(d=new a(d).decrement("day",e),e=0),c=new a(d.get("year"),0,1).get("day")||7,c>4&&(f=-7)}else c=new a(d.get("year"),0,1).get("day");return f+=d.get("dayofyear"),f+=6-e,f+=(7+c-b)%7,f/7},getOrdinal:function(b){return a.getMsg("ordinal",b||this.get("date"))},getTimezone:function(){return this.toString().replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},getGMTOffset:function(){var a=this.get("timezoneOffset");return(a>0?"-":"+")+c((a.abs()/60).floor(),2)+c(a%60,2)},setAMPM:function(a){a=a.toUpperCase();var b=this.get("hr");return b>11&&"AM"==a?this.decrement("hour",12):12>b&&"PM"==a?this.increment("hour",12):this},getAMPM:function(){return this.get("hr")<12?"AM":"PM"},
parse:function(b){return this.set("time",a.parse(b)),this},isValid:function(a){return a||(a=this),"date"==typeOf(a)&&!isNaN(a.valueOf())},format:function(b){if(!this.isValid())return"invalid date";if(b||(b="%x %X"),"string"==typeof b&&(b=f[b.toLowerCase()]||b),"function"==typeof b)return b(this);var d=this;return b.replace(/%([a-z%])/gi,function(b,e){switch(e){case"a":return a.getMsg("days_abbr")[d.get("day")];case"A":return a.getMsg("days")[d.get("day")];case"b":return a.getMsg("months_abbr")[d.get("month")];case"B":return a.getMsg("months")[d.get("month")];case"c":return d.format("%a %b %d %H:%M:%S %Y");case"d":return c(d.get("date"),2);case"e":return c(d.get("date"),2," ");case"H":return c(d.get("hr"),2);case"I":return c(d.get("hr")%12||12,2);case"j":return c(d.get("dayofyear"),3);case"k":return c(d.get("hr"),2," ");case"l":return c(d.get("hr")%12||12,2," ");case"L":return c(d.get("ms"),3);case"m":return c(d.get("mo")+1,2);case"M":return c(d.get("min"),2);case"o":return d.get("ordinal");
case"p":return a.getMsg(d.get("ampm"));case"s":return Math.round(d/1e3);case"S":return c(d.get("seconds"),2);case"T":return d.format("%H:%M:%S");case"U":return c(d.get("week"),2);case"w":return d.get("day");case"x":return d.format(a.getMsg("shortDate"));case"X":return d.format(a.getMsg("shortTime"));case"y":return d.get("year").toString().substr(2);case"Y":return d.get("year");case"z":return d.get("GMTOffset");case"Z":return d.get("Timezone")}return e})},toISOString:function(){return this.format("iso8601")}}).alias({toJSON:"toISOString",compare:"diff",strftime:"format"});var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f={db:"%Y-%m-%d %H:%M:%S",compact:"%Y%m%dT%H%M%S","short":"%d %b %H:%M","long":"%B %d, %Y %H:%M",rfc822:function(a){return d[a.get("day")]+a.format(", %d ")+e[a.get("month")]+a.format(" %Y %H:%M:%S %Z")},rfc2822:function(a){return d[a.get("day")]+a.format(", %d ")+e[a.get("month")]+a.format(" %Y %H:%M:%S %z");
},iso8601:function(a){return a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1,2)+"-"+c(a.getUTCDate(),2)+"T"+c(a.getUTCHours(),2)+":"+c(a.getUTCMinutes(),2)+":"+c(a.getUTCSeconds(),2)+"."+c(a.getUTCMilliseconds(),3)+"Z"}},g=[],h=a.parse,i=function(b,c,d){var e=-1,f=a.getMsg(b+"s");switch(typeOf(c)){case"object":e=f[c.get(b)];break;case"number":if(e=f[c],!e)throw new Error("Invalid "+b+" index: "+c);break;case"string":var g=f.filter(function(a){return this.test(a)},new RegExp("^"+c,"i"));if(!g.length)throw new Error("Invalid "+b+" string");if(g.length>1)throw new Error("Ambiguous "+b);e=g[0]}return d?f.indexOf(e):e},j=1900,k=70;a.extend({getMsg:function(a,b){return Locale.get("Date."+a,b)},units:{ms:Function.from(1),second:Function.from(1e3),minute:Function.from(6e4),hour:Function.from(36e5),day:Function.from(864e5),week:Function.from(6084e5),month:function(b,c){var d=new a;return 864e5*a.daysInMonth(null!=b?b:d.get("mo"),null!=c?c:d.get("year"))},year:function(b){return b=b||(new a).get("year"),
a.isLeapYear(b)?316224e5:31536e6}},daysInMonth:function(b,c){return[31,a.isLeapYear(c)?29:28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},parse:function(b){var c=typeOf(b);if("number"==c)return new a(b);if("string"!=c)return b;if(b=b.clean(),!b.length)return null;var d;return g.some(function(a){var c=a.re.exec(b);return c?d=a.handler(c):!1}),d&&d.isValid()||(d=new a(h(b)),d&&d.isValid()||(d=new a(b.toInt()))),d},parseDay:function(a,b){return i("day",a,b)},parseMonth:function(a,b){return i("month",a,b)},parseUTC:function(b){var c=new a(b),d=a.UTC(c.get("year"),c.get("mo"),c.get("date"),c.get("hr"),c.get("min"),c.get("sec"),c.get("ms"));return new a(d)},orderIndex:function(b){return a.getMsg("dateOrder").indexOf(b)+1},defineFormat:function(a,b){return f[a]=b,this},defineParser:function(a){return g.push(a.re&&a.handler?a:q(a)),this},defineParsers:function(){return Array.flatten(arguments).each(a.defineParser),this},define2DigitYearStart:function(a){
return k=a%100,j=a-k,this}}).extend({defineFormats:a.defineFormat.overloadSetter()});var l=function(b){return new RegExp("(?:"+a.getMsg(b).map(function(a){return a.substr(0,3)}).join("|")+")[a-z]*")},m=function(b){switch(b){case"T":return"%H:%M:%S";case"x":return(1==a.orderIndex("month")?"%m[-./]%d":"%d[-./]%m")+"([-./]%y)?";case"X":return"%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%z?"}return null},n={d:/[0-2]?[0-9]|3[01]/,H:/[01]?[0-9]|2[0-3]/,I:/0?[1-9]|1[0-2]/,M:/[0-5]?\d/,s:/\d+/,o:/[a-z]*/,p:/[ap]\.?m\.?/,y:/\d{2}|\d{4}/,Y:/\d{4}/,z:/Z|[+-]\d{2}(?::?\d{2})?/};n.m=n.I,n.S=n.M;var o,p=function(a){o=a,n.a=n.A=l("days"),n.b=n.B=l("months"),g.each(function(a,b){a.format&&(g[b]=q(a.format))})},q=function(b){if(!o)return{format:b};var c=[],d=(b.source||b).replace(/%([a-z])/gi,function(a,b){return m(b)||a}).replace(/\((?!\?)/g,"(?:").replace(/ (?!\?|\*)/g,",? ").replace(/%([a-z%])/gi,function(a,b){var d=n[b];return d?(c.push(b),"("+d.source+")"):b}).replace(/\[a-z\]/gi,"[a-z\\u00c0-\\uffff;&]");return{
format:b,re:new RegExp("^"+d+"$","i"),handler:function(b){b=b.slice(1).associate(c);var d=(new a).clearTime(),e=b.y||b.Y;null!=e&&r.call(d,"y",e),"d"in b&&r.call(d,"d",1),("m"in b||b.b||b.B)&&r.call(d,"m",1);for(var f in b)r.call(d,f,b[f]);return d}}},r=function(b,c){if(!c)return this;switch(b){case"a":case"A":return this.set("day",a.parseDay(c,!0));case"b":case"B":return this.set("mo",a.parseMonth(c,!0));case"d":return this.set("date",c);case"H":case"I":return this.set("hr",c);case"m":return this.set("mo",c-1);case"M":return this.set("min",c);case"p":return this.set("ampm",c.replace(/\./g,""));case"S":return this.set("sec",c);case"s":return this.set("ms",1e3*("0."+c));case"w":return this.set("day",c);case"Y":return this.set("year",c);case"y":return c=+c,100>c&&(c+=j+(k>c?100:0)),this.set("year",c);case"z":"Z"==c&&(c="+00");var d=c.match(/([+-])(\d{2}):?(\d{2})?/);return d=(d[1]+"1")*(60*d[2]+(+d[3]||0))+this.getTimezoneOffset(),this.set("time",this-6e4*d)}return this};a.defineParsers("%Y([-./]%m([-./]%d((T| )%X)?)?)?","%Y%m%d(T%H(%M%S?)?)?","%x( %X)?","%d%o( %b( %Y)?)?( %X)?","%b( %d%o)?( %Y)?( %X)?","%Y %b( %d%o( %X)?)?","%o %b %d %X %z %Y","%T","%H:%M( ?%p)?"),
Locale.addEvent("change",function(a){Locale.get("Date")&&p(a)}).fireEvent("change",Locale.getCurrent())}(),Date.implement({timeDiffInWords:function(a){return Date.distanceOfTimeInWords(this,a||new Date)},timeDiff:function(a,b){null==a&&(a=new Date);for(var c,d,e=((a-this)/1e3).floor().abs(),f=[],g=[60,60,24,365,0],h=["s","m","h","d","y"],i=0;i<g.length&&(!i||e);i++)c=e,(d=g[i])&&(c=e%d,e=(e/d).floor()),f.unshift(c+(h[i]||""));return f.join(b||":")}}).extend({distanceOfTimeInWords:function(a,b){return Date.getTimePhrase(((b-a)/1e3).toInt())},getTimePhrase:function(a){var b=0>a?"Until":"Ago";0>a&&(a*=-1);var c={minute:60,hour:60,day:24,week:7,month:52/12,year:12,eon:1/0},d="lessThanMinute";for(var e in c){var f=c[e];if(1.5*f>a){a>.75*f&&(d=e);break}a/=f,d=e+"s"}return a=a.round(),Date.getMsg(d+b,a).substitute({delta:a})}}).defineParsers({re:/^(?:tod|tom|yes)/i,handler:function(a){var b=(new Date).clearTime();switch(a[0]){case"tom":return b.increment();case"yes":return b.decrement();default:
return b}}},{re:/^(next|last) ([a-z]+)$/i,handler:function(a){var b=(new Date).clearTime(),c=b.getDay(),d=Date.parseDay(a[2],!0),e=d-c;return c>=d&&(e+=7),"last"==a[1]&&(e-=7),b.set("date",b.getDate()+e)}}).alias("timeAgoInWords","timeDiffInWords"),function(){window.console||(window.console={});for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=function(){},c=0;c<a.length;c++)window.console[a[c]]||(window.console[a[c]]=b)}(),Class.Mutators.Static=function(a){this.extend(a)},$className=function(a){return"object"==typeOf(a)?a.className:"class"==typeOf(a)?a.prototype.className:void 0},String.prototype.format=function(){var a=this;for(var b in arguments)a=a.replace("{"+b+"}",arguments[b]);return a},String.prototype.repeat=function(a){return new Array(isNaN(a)?1:++a).join(this)},function(){function a(a){var b=a.prototype.addListener;a.implement("addListener",function(a,c,d){
return this.addEventListener?(["scroll","wheel","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover","touchstart","touchmove","touchenter","touchend","touchleave"].indexOf(a)>=0&&(d=d===!0||d===!1?{capture:d}:d||{},d.passive=!0),this.addEventListener(a,c,d),this):(b(a,c,d),this)})}[Element,Window,Document].each(function(b){a(b)})}(),Element.Properties.cls={get:function(){return this.get("class")},set:function(a){return this.set("class",a)},erase:function(){this.erase("class")}},Element.Properties.parent={get:function(){return this.getParent()},set:function(a){a&&this.inject(a)}},Element.Properties.children={get:function(){return this.getChildren()},set:function(a){this.adopt(a)}},Element.Properties.location={set:function(a){null!==a[0]&&this.setStyle("top",a[0]),null!==a[1]&&this.setStyle("right",a[1]),null!==a[2]&&this.setStyle("bottom",a[2]),null!==a[3]&&this.setStyle("left",a[3])}},Element.Properties.on={set:function(a){this.addEvents(a)}},Element.implement({
setVisible:function(a){this[a?"show":"hide"]()},setFocus:function(a){this.setAttribute("tabIndex",a||0),this.focus()}}),Elements.from=function(a,b){(b||null===b)&&(a=a.stripScripts());var c,d=a.match(/^\s*<(t[dhr]|tbody|tfoot|thead)/i);if(d){c=new Element("table");var e=d[1].toLowerCase();["td","th","tr"].contains(e)&&(c=new Element("tbody").inject(c),"tr"!=e&&(c=new Element("tr").inject(c)))}return(c||new Element("div")).set("html",a).getChildren()},Object.extend({expand:function(a,b){for(var c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f in e)(void 0===a[f]||null===a[f])&&(a[f]=e[f])}return a}}),Array.implement({insert:function(a,b){this.splice(a,0,b)},each:function(a,b){var c,d=this,e=d.length;for(c=0;e>c&&a.call(b,d[c],c,d)!==!1;c++);return d},destroy:function(){this.each(function(a){$destroy(a)})}}),Collection=new Type("Collection",function(a){var b;if(this.items={},this.length=0,"collection"==typeOf(a))for(b in a.items)this.items[b]=a.items[b];else for(b in a)this.items[b]=a[b];
return this}),Collection.implement({apply:function(a,b){this.each(function(c){c[a].apply(this,b)},this)},call:function(a){this.apply(a,Array.prototype.slice(arguments,1))},each:function(a,b){Object.each(this.items,a,b||a)},filter:function(a,b){return Object.filter(this.items,a,b||a)},find:function(a,b){return Object.some(this.items,a,b||a)},set:function(a,b){this.items[a]||this.length++,this.items[a]=b},get:function(a,b){return void 0!==this.items[a]?this.items[a]:b},has:function(a){return void 0!==this.items[a]},remove:function(a){this.items[a]&&(delete this.items[a],this.length--)},empty:function(){this.items={},this.length=0},getFirst:function(){for(var a in this.items)return this.items[a];return null},getLast:function(){for(var a in this.items);return a?this.items[a]:null},keyOf:function(a){return Object.keyOf(this.items,a)},indexOf:function(a){var b=0;for(var c in this.items){if(this.items[c]==a)return b;b++}return-1},getAt:function(a){var b=0;for(var c in this.items){if(a==b)return this.items[c];
b++}return null},every:function(a,b){return Object.every(this,a,b)},some:function(a,b){return Object.some(this.items,a,b)},getKeys:function(){return Object.keys(this.items)},getValues:function(){return Object.values(this.items)},toArray:function(){var a=[];for(var b in this.items)a.push(this.items[b]);return a},toQueryString:function(a){return Object.toQueryString(this.items,a)},destroy:function(){for(var a in this.items)$destroy(this.items[a]),delete this.items[a]}}),Collection.alias("erase","remove"),Type.extend({isEmpty:function(a,b){return null===a||void 0===a||Type.isArray(a)&&!a.length||(b?!1:""===a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isDate:function(a){return"[object Date]"===Object.prototype.toString.call(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isPrimitive:function(a){return Type.isString(a)||Type.isNumber(a)||Type.isBoolean(a)},isNumber:function(a){return"number"==typeof a},isInteger:function(a){
return Type.isNumber(a)&&a%1===0},isFloat:function(a){return Type.isNumber(a)&&/\./.test(a.toString())},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isIterable:function(a){var b=typeof a,c=!1;return a&&"string"!=b&&(c="function"==b?a instanceof NodeList||a instanceof HTMLCollection:!0),c?void 0!==a.length:!1},isFunction:function(a){return"function"==typeof a},isInstance:function(a){return Type.isObject(a)&&a.isInstance}}),Bounds=new Class({$bounds:{},bound:function(a){if(!this.$bounds[a]){if(!this[a])throw new Error("Unable bound method with name "+a+" in object "+$className(this));this.$bounds[a]=this[a].bind(this)}return this.$bounds[a]}}),function(){var a=function(a){return a.replace(/^on([A-Z])/,function(a,b){return b.toLowerCase()})};Events.implement({fireEvent:function(b,c,d){b=a(b);var e,f,g,h=this.$events[b];if(!h)return this;for(c=Array.convert(c),f=0;f<h.length;f++)if(g=h[f],d?g.delay(d,this,c):e=g.apply(this,c),e===!1)return!1;
return!0},removeEvent:function(b,c){b=a(b);var d=this.$events[b];return d&&!c.internal&&d.erase(c),this}})}(),function(){var a=[],b=function(b){a.push({sign:"+"===b[0]||"-"===b[0]?parseInt(b.shift()+1,10):1,path:b})},c=function(a,b){var c=a;return b.each(function(a){c=c[a]}),c},d=function(b,d){for(var e=0,f=a.length;f>e;e++){var g=c(b,a[e].path),h=c(d,a[e].path);if(g>h)return a[e].sign;if(h>g)return-a[e].sign}return 0};Array.implement("sortBy",function(){return a.empty(),Array.each(arguments,function(a){switch(typeOf(a)){case"array":b(a);break;case"string":b(a.match(/[+-]|[^.]+/g))}}),this.sort(d)})}(),window.notifications||(window.notifications=window.notification||window.webkitNotifications||navigator.mozNotification),window.notifications&&(window.notifications.create=function(a,b,c){return navigator.mozNotification?navigator.mozNotification.createNotification(a,b,c):notifications.createNotification(c,a,b)}),function(){var a={fire:function(a,b,c){return this.fireEvent(a,b,c)},on:function(a,b){
return Type.isString(a)?this.addEvent(a,b):this.addEvents(a)},un:function(a,b){return Type.isString(a)?this.removeEvent(a,b):this.removeEvents(a)}};Object.append(window,a),Request.implement(a),Events.implement(a),Element.implement(a)}();var $emptyFn=function(){},$tr=function(a){return Locale.get.apply(Locale.get,arguments)},$destroy=function(a){Array.convert(arguments).each(function(a){a&&a.destroy&&a.destroy()})},$bounds=function(a,b){for(var c in a)Type.isString(a[c])&&(a[c]=b.bound(a[c]));return a};Miwo={},Miwo.common={};var miwo={body:void 0,baseUrl:"",nonce:document.currentScript?document.currentScript.getAttribute("nonce")||document.currentScript.nonce||"":"",classManager:void 0,zindexManager:void 0,storeManager:void 0,proxyManager:void 0,entityManager:void 0,componentManager:void 0,windowManager:void 0,application:void 0,behavior:void 0,dialog:void 0,dic:void 0,ajax:void 0,initialize:function(){this.ready(function(){miwo.body=document.getElementsByTagName("body")[0],miwo.body.addClass||(miwo.body.hasClass=Element.prototype.hasClass,
miwo.body.addClass=Element.prototype.addClass,miwo.body.removeClass=Element.prototype.removeClass)})},ready:function(a){window.addEvent("domready",a)},setContainer:function(a){this.dic=a,this.application=a.get("miwo.application")},getStore:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Store",a):a?this.storeManager.get(a):null},getProxy:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Proxy",a):a?this.proxyManager.get(a):null},getEntity:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Entity",a):a?this.entityManager.get(a):null},get:function(a){return this.componentManager.get(a)},define:function(a,b){return this.classManager.define(a,b)},namespace:function(a){this.classManager.namespace(a)},create:function(a,b){if(Type.isObject(a))return a.ctype?this.create(a.ctype,a):a.xtype?this.create(this.componentManager.getClassByXtype(a.xtype),a):null;if(/^[a-z].*/.test(a))return this.create(this.classManager.getClassByShortcut(a),b);
var c=this.toClass(a);return new c(b)},require:function(a){this.classManager.require(a)},notify:function(a,b,c){return this.service("miwo.notificator").create({title:a,desc:b,handler:c})},flash:function(a,b){this.service("miwo.flash").flash(a,b)},log:function(a,b){this.service("miwo.logger").logArgs(Array.slice(arguments))},service:function(a){return this.dic.get(a)},toClass:function(a){for(var b=window,c=a.split("."),d=0;d+1<c.length;d++)b=b[c[d]];return b[c[c.length-1]]}};miwo.initialize(),Miwo.Assert={equal:function(a,b){this.isEqual(b,a)||this.fail("{0} should by equal to {1}",b,a)},"true":function(a){a!==!0&&this.fail("{0} should by true",a)},"false":function(a){a!==!1&&this.fail("{0} should by false",a)},truthy:function(a){a||this.fail("{0} should be truthy",a)},falsey:function(a){a&&this.fail("{0} should be falsey",a)},object:function(a){this.type(a,"object")},"class":function(a){this.type(a,"class")},"function":function(a){this.type(a,"function")},element:function(a){this.type(a,"element");
},method:function(a,b){a[b]&&"function"==typeOf(a[b])||this.fail("Object of '{0}' should by contains metohod '"+b+"'.",$className(a))},type:function(a,b){typeOf(a)!=b&&this.fail("{0} should by "+b,typeOf(a))},instanceOf:function(a,b){this.type(a,"class"),this.type(b,"object"),instanceOf(b,a)||this.fail("Object of {0} should by instance of {1}",$className(b),$className(a))},fail:function(a,b,c){throw b=this.toString(b),c=this.toString(c),new Error(a.format(b,c))},"throws":function(a,b,c){var d;try{a.call()}catch(e){d=e}return d?d.name!==b?this.fail(b+" was expected but got "+d.name):c&&!this.isEqual(d.message,c)&&this.fail(b+" with message '{1}' was excepted but got '{0}'",d.message,c):this.fail(b+" was expected, but none was thrown"),d},isEqual:function(a,b){if(Type.isArray(a)&&Type.isArray(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(!this.isEqual(a[c],b[c]))return!1;return!0}if(Type.isObject(a)&&Type.isObject(b)){for(var d in a)if(!this.isEqual(a[d],b[d]))return!1;return!0;
}return a===b},toString:function(a){return Type.isArray(a)?"["+a+"]":a}};var assert=Miwo.Assert;Miwo.Object=new Class({isInstance:!0,initialize:function(a){this.setConfig(a)},setConfig:function(a){a&&Miwo.Object.setProperties(this,a)},destroy:function(){if(!this.isDestroyed){this.destroying=!0,this.beforeDestroy&&this.beforeDestroy();for(var a in this)0===a.indexOf("__destroy")&&this[a]();this.doDestroy&&this.doDestroy(),delete this.destroying,this.isDestroyed=!0,this.afterDestroy&&this.afterDestroy()}}}),Miwo.Object.properties={},Miwo.Object.setProperties=function(a,b){for(var c in b)this.setProperty(a,c,b[c])},Miwo.Object.setProperty=function(a,b,c){this.properties[b]?this.properties[b](a,c):void 0!==c&&("function"===typeOf(c)?a[b]||(a[b]=c):Type.isObject(a[b])&&Type.isObject(c)?Object.merge(a[b],c):a[b]=c)},Miwo.Object.registerProperty=function(a,b){Miwo.Object.properties[a]=b},Miwo.common.ClassManager=new Class({Implements:[Events],namespaces:{},classes:{},shortcuts:{},extensions:{},
ext:function(a,b){this.extensions[a]=b},setAlias:function(a,b){var c=a.lastIndexOf("."),d=a.substring(0,c),e=a.substring(c+1);this.classes[a]=this.namespace(d)[e]=b},define:function(a,b){var c,d,e,f=a.lastIndexOf("."),g=a.substring(0,f),h=a.substring(f+1);if(this.classes[a])throw new Error("Class '"+a+"' is already defined");b.className=a,this.fireEvent("define",[a,b]);for(e in this.extensions)this.extensions[e].beforeDefine&&this.extensions[e].beforeDefine(this,a,b);b.Alias&&(d=b.Alias,delete b.Alias);try{g=this.namespace(g),b.hasOwnProperty("Object")?(c=g[h]=b,this.classes[a]=c):(c=g[h]=new Class(b),this.classes[a]=c)}catch(i){throw new Error("In definition of class '"+a+"' raise error: "+i.message)}d&&this.setAlias(d,c);for(e in this.extensions)this.extensions[e].afterDefine&&this.extensions[e].afterDefine(this,a,b,c,{ns:g,cn:h});return this.fireEvent("defined",[a,c]),c},isDefined:function(a){return!!this.classes[a]},namespace:function(a){if(!a)return window;if(!this.namespaces[a]){var b=window;
a.split(".").each(function(a){b=b[a]||(b[a]={})}),this.namespaces[a]=b}return this.namespaces[a]},registerShortcut:function(a,b){if(this.shortcuts[a])throw new Error("Shortcut "+a+" exists for class "+this.shortcuts[a]);this.shortcuts[a]=b},getClassByShortcut:function(a){if(!this.shortcuts[a])throw new Error("Undefined shortcut "+a);return this.shortcuts[a]}}),miwo.classManager=new Miwo.common.ClassManager,miwo.classManager.ext("singleton",{afterDefine:function(a,b,c,d,e){c.hasOwnProperty("Singleton")&&(e.ns[e.cn]=new d)}}),miwo.classManager.ext("shortcut",{beforeDefine:function(a,b,c,d){c.hasOwnProperty("Shortcut")&&(a.registerShortcut(c.Shortcut,b),delete c.Shortcut)}}),miwo.classManager.ext("services",{beforeDefine:function(a,b,c){if(c.hasOwnProperty("Services")&&c.hasOwnProperty("Extends")){for(var d=c.Extends;!d.services&&d.parent;)d=d.parent;c.Services=Object.merge(c.Services,d.services)}},afterDefine:function(a,b,c,d){c.hasOwnProperty("Services")&&(d.services=c.Services,delete c.Services);
}}),miwo.define("Miwo.Events",{Implements:[Events,Bounds],$managedListeners:[],$managedRelays:[],addListener:function(a,b,c){var d=Type.isString(b)?this.bound(b):b;c&&(d=d.bind(c)),this.addEvent(a,d)},addListeners:function(a,b){for(var c in a)this.addListener(c,a[c],b)},removeListener:function(a,b){this.removeEvent(a,Type.isString(b)?this.bound(b):b)},removeListeners:function(a){this.removeEvents(a)},on:function(a,b,c){Type.isObject(a)?(c=b,this.addListeners(a,c)):this.addListener(a,b,c)},un:function(a,b){if(b)this.removeListener(a,b);else if(Type.isObject(a))for(var c in a)this.removeListener(c,a[c]);else this.removeListeners(a)},addManagedListener:function(a,b,c){c=Type.isString(c)?this.bound(c):c,a.addEvent(b,c),this.$managedListeners.push({object:a,name:b,listener:c})},addManagedListeners:function(a,b){for(var c in b)this.addManagedListener(a,c,b[c])},removeManagedListeners:function(a,b,c){var d,e,f=[];for(d=0;d<this.$managedListeners.length;d++)e=this.$managedListeners[d],c=Type.isString(c)?this.bound(c):c,
a&&e.object!==a||b&&e.name!==b||c&&e.listener!==c||f.push(e);for(d=0;d<f.length;d++)e=f[d],e.object.removeListener(e.name,e.listener),this.$managedListeners.erase(e)},mon:function(a,b,c){c?this.addManagedListener(a,b,c):this.addManagedListeners(a,b)},mun:function(a,b,c){this.removeManagedListeners(a,b,c)},munon:function(a,b,c,d){a!==b&&(a&&this.mun(a,c,d),b&&this.mon(b,c,d))},__destroyManagedListeners:function(){this.removeManagedListeners()},relayEvents:function(a,b,c){var d=this,e={};return c=c?c:"",b.each(function(b){e[b]=function(){var a=Array.convert(arguments);d.fireEvent.apply(d,[c+b,a])},a.addEvent(b,e[b])}),{target:a,handlers:e,destroy:function(){Object.each(e,function(a,b){this.target.removeEvent(b,a)},this)}}},addRelay:function(a,b,c){var d=this.relayEvents(a,b,c);this.$managedRelays.push({object:a,relay:d})},removeRelay:function(a){var b,c,d=[];for(b=0;b<this.$managedRelays.length;b++)c=this.$managedRelays[b],a&&c.object!==a||d.push(c);for(b=0;b<d.length;b++)c=d[b],$destroy(c.relay),
this.$managedRelays.erase(c)},relay:function(a,b,c){this.addRelay(a,b,c)},unrelay:function(a){this.removeRelay(a)},__destroyManagedRelays:function(){this.removeRelay()}}),Miwo.Object.registerProperty("on",function(a,b){a.on(b)}),miwo.define("Miwo.Configurator",{Extends:Miwo.Object,Implements:[Options],options:{parameters:{debugMode:!1}},initialize:function(a){this.setOptions({parameters:a||{}})},isDebug:function(){return this.options.parameters.debugMode},addConfig:function(a){this.setOptions(this.cleanUndefined(a))},ext:function(a){this.getBuilder().ext(a)},createContainer:function(){var a=this.getBuilder().build();return miwo.setContainer(a),a},getBuilder:function(){return this.builder||(this.builder=new Miwo.di.ContainerBuilder(this.options),this.builder.ext(new Miwo.di.MiwoExtension)),this.builder},cleanUndefined:function(a){for(var b in a)void 0===a[b]?delete a[b]:Type.isObject(a[b])&&this.cleanUndefined(a[b]);return a}}),miwo.cookie={document:document,options:{},write:function(a,b,c){
return this.create(a,c).write(b)},read:function(a,b){return this.create(a).read()||b},dispose:function(a,b){this.write(a,-1,Object.merge({duration:-1},b))},create:function(a,b){var c=new Cookie(a,Object.merge({},this.options,b));return c.options.document=this.document,c}},miwo.define("Miwo.utils.Maskable",{getMaskedEl:function(){return this.maskedEl||this.el},showMask:function(a,b,c,d){this.mask&&this.mask.destroy(),this.mask=new Miwo.utils.Mask({visible:!0,maskedEl:this.getMaskedEl(),closeable:d&&d.closeable,html:'<div class="miwo-mask-title">'+a+'</div><div class="miwo-mask-desc">'+b+"</div>",onCloseClick:function(){this.hideMask(),d.onClose&&d.onClose()}.bind(this)}),c&&this.hideMask.delay(c,this)},hideMask:function(){this.mask&&(this.mask.destroy(),this.mask=null)},__destroyMask:function(){this.mask&&(this.mask.destroy(),this.mask=null)}}),miwo.namespace("Miwo.di"),Miwo.di.Helpers={expandRe:/^<%(=)?([\S]+)%>$/,expandStringRe:/<%(=)?([\S]+)%>/g,serviceRe:/^<@([\S]+)@>$/,autowireServices:function(a,b,c){
var d={};if(b)for(var e in b)d[e]=b[e];if(a)for(var f in a){var g=a[f],h=!1;"!"===g.charAt(0)&&(g=g.substr(1),h=!0),!d[f]&&h&&(d[f]=this.getServiceByDefinition(c,g)),d["get"+f.capitalize()]=this.createGetterMethod(c,f,g)}return d},createGetterMethod:function(a,b,c){return function(){return this[b]||(this[b]=Miwo.di.Helpers.getServiceByDefinition(a,c)),this[b]}},getServiceByDefinition:function(a,b){return/[a-z]/.test(b.charAt(0))?a.get(b):a.getByType(b,!0)},expand:function(a,b,c,d){var e,f,g=typeOf(a);if("string"==g){if(!(d&&"variables"!==d||null===(e=a.match(this.expandRe))))return f="="===e[1]?this.getSection(b.parameters,e[2]):this.getSection(b,e[2]),this.expand(f,b,c,d);if(!(d&&"variables"!==d||null===(e=a.match(this.expandStringRe)))){for(var h=0;h<e.length;h++)a=a.replace(e[h],this.expand(e[h],b,c));return a}if((!d||"services"===d)&&null!==(e=a.match(this.serviceRe)))return c.get(e[1])}else if("object"==g){for(var i in a)a[i]=this.expand(a[i],b,c,d);return a}return a},getSection:function(a,b){
var c=b.indexOf(".");return c>0?this.getSection(a[b.substr(0,c)],b.substr(c+1)):a&&void 0!==a[b]?a[b]:null},createFactory:function(a){return function(b,c){return b.createInstance(a,c)}}},miwo.define("Miwo.di.Extension",{Extends:Miwo.Object,Implements:Options,name:"",containerBuilder:null,install:function(a){this.containerBuilder=a},getContainer:function(){return this.containerBuilder.container},getConfig:function(){return this.containerBuilder.getConfig(this.name)},getOptions:function(){return this.options}}),miwo.define("Miwo.di.Container",{registry:{},parameters:{},defines:{},extensions:{},creating:{},types:{},tags:{},define:function(a,b,c){if(this.defines[a])throw new Error("Service with name "+a+" already exists.");if(!b)throw new Error("Returned type is not specified.");return c=c||{},this.defines[a]={type:b,factory:c.factory,args:c.args,setup:c.setup},this.setMeta(a,b,c.tags),this},update:function(a,b){if(!this.defines[a])throw new Error("Service with name "+a+" dont exists.");var c=this.defines[a];
return b.factory&&(c.factory=b.factory),b.args&&(c.args=Object.merge(c.args,b.args)),(b.type||b.tags)&&(b.type&&(c.type=b.type),this.setMeta(a,b.type,b.tags)),this},ext:function(a,b){if(!this.defines[a])throw new Error("Service with name '"+a+"' not exists.");this.defines[a].ext||(this.defines[a].ext=[]),this.defines[a].ext.push(b)},add:function(a,b){if(!Type.isObject(b))throw new Error("Service must be a object or instance.");if(this.registry[a])throw new Error('Service with name "'+a+'" exists.');return this.registry[a]=b,this},get:function(a){return this.registry[a]||(this.registry[a]=this.create(a)),this.registry[a]},has:function(a){return this.registry[a]||this.defines[a]},remove:function(a){delete this.registry[a]},isDefined:function(a){return!!this.defines[a]},isCreated:function(a){if(!this.has(a))throw new Error('Service "'+a+'" not found');return!!this.registry[a]},create:function(a){var b;if(this.creating[a])throw new Error("Cannot create "+a+", circular reference detected for services: "+Object.keys(this.creating).join(","));
if(!this.defines[a])throw new Error("Service '"+a+"' not found.");this.creating[a]=!0;try{var c=this.defines[a];if(c.args)try{Miwo.di.Helpers.expand(c.args,{parameters:this.parameters},this)}catch(d){throw new Error("Create service "+a+" faild. Expand args error: "+d.message)}var e=miwo.toClass(c.type);if("class"!==typeOf(e))throw new Error("Create service "+a+" faild. Definition "+c.type+" is not class constructor, but it is "+typeOf(e));try{var f=c.factory||Miwo.di.Helpers.createFactory(c.type);b=f.call(f,this,c.args)}catch(d){throw new Error("Create service "+a+" faild. Factory service error: "+d.message)}if(!instanceOf(b,e))throw new Error("Create service "+a+" faild. Service is not instance of desired type "+c.type);if(c.setup&&c.setup(b,this),c.ext)for(var g=0;g<c.ext.length;g++)c.ext[g].call(this,b)}catch(d){throw delete this.creating[a],d}if(delete this.creating[a],!Type.isObject(b))throw new Error("Unable to create service '"+a+"', value returned by method $method() is not object.");
return b},getByType:function(a,b){var c=this.findByType(a);if(0!==c.length){if(c.length>1)throw new Error("Multiple services of type '"+a+"' found: "+c.join(","));return this.get(c[0])}if(b)throw new Error("Service of type '"+a+"' not found.")},findByType:function(a){return this.types[a]?this.types[a]:[]},findByTag:function(a){return this.tags[a]?this.tags[a]:[]},setMeta:function(a,b,c){if(b&&(this.types[b]||(this.types[b]=[]),this.types[b].push(a)),c)for(var d=0;d<c.length;d++){var e=c[d];this.tags[e]||(this.tags[e]=[]),this.tags[e].push(a)}},createInstance:function(a,b){return miwo.create(a,Miwo.di.Helpers.autowireServices(miwo.toClass(a).services,b,this))},injectServices:function(a,b){Miwo.Object.setProperties(a,Miwo.di.Helpers.autowireServices(a.Services,b,this))}}),miwo.define("Miwo.di.ContainerBuilder",{Extends:Miwo.Object,config:void 0,extensions:{},initialize:function(a){this.config=a||{}},ext:function(a){if(!a.name)throw new Error("Extension should by defined a name property");if(this.extensions[a.name])throw new Error("Extension with name '"+name+"' exists");
this.extensions[a.name]=a,a.install(this)},getConfig:function(a){return this.config[a]||{}},build:function(){var a,b,c,d={};this.container=new Miwo.di.Container;for(a in this.extensions)b=this.extensions[a],d[b.name]=b.getOptions();this.config=Object.merge({},d,this.config),Miwo.di.Helpers.expand(this.config,this.config,this.container,"variables"),this.container.parameters=this.config.parameters;for(a in this.extensions)b=this.extensions[a],b.beforeBuild&&b.beforeBuild(this.container);var e=this.getConfig("services");for(a in e)c=e[a],Type.isString(c)?this.container.define(a,c,this.createFactory(c)):Type.isFunction(c)?this.container.ext(a,c):this.container.has(a)?this.container.update(a,c):this.container.define(a,c.type,c);Miwo.di.Helpers.expand(this.config,this.config,this.container,"services");for(a in this.extensions)b=this.extensions[a],b.afterBuild&&b.afterBuild(this.container);for(a in this.extensions)b=this.extensions[a],b.onCreated&&b.onCreated(this.container);return this.container;
}}),miwo.define("Miwo.di.MiwoExtension",{Extends:Miwo.di.Extension,name:"miwo",options:{application:{debugMode:"<%=debugMode%>",controllers:[]},cookie:{path:"/",domain:!1},logger:{title:void 0,styles:void 0}},beforeBuild:function(a){var b=this.getConfig();this.setupBase(a,b),this.setupCookie(a,b.cookie),this.setupApplication(a,b.application)},setupBase:function(a,b){a.define("miwo.componentMgr","Miwo.component.ComponentMgr"),a.define("miwo.logger","Miwo.utils.Logger",{args:{title:b.logger.title,styles:b.logger.styles}})},setupCookie:function(a,b){miwo.cookie.options.domain=b.domain,miwo.cookie.options.path=b.path,miwo.cookie.document=document},setupApplication:function(a,b){a.define("miwo.container","Miwo.di.Container",{factory:function(){return a}}),a.define("miwo.application","Miwo.app.Application",{args:{catchExceptions:!b.debugMode,controllers:b.controllers}}),a.define("miwo.app.eventmgr","Miwo.app.EventManager"),a.define("miwo.app.controllerFactory","Miwo.app.ControllerFactory")}}),
miwo.define("Miwo.component.ComponentMgr",{Implements:[Miwo.Events],types:{},list:{},names:{},id:1,initialize:function(){miwo.classManager.on("define",this.onDefine.bind(this))},setXtype:function(a,b){this.types[a]=b},getClassByXtype:function(a){if(!this.types[a])throw new Error("ComponentMgr::getClass(): Unknown xtype "+a);return this.types[a]},onDefine:function(a,b){b.hasOwnProperty("xtype")&&!this.types[b.xtype]&&this.setXtype(b.xtype,a)},generateId:function(){return this.id++,"c"+this.id},generateName:function(a){return this.names[a]||(this.names[a]=0),this.names[a]++,a+this.names[a]},register:function(a){if(a.componentManager)throw new Error("ComponentMgr::register(): component with id "+a.id+" already exists.");a.componentManager=this,this.list[a.id]=a,this.fire("register",a)},unregister:function(a){this.list[a.id]&&(delete this.list[a.id],delete a.componentManager,this.fire("unregister",a))},get:function(a){return this.list[a]?this.list[a]:null}}),miwo.componentManager=new Miwo.component.ComponentMgr,
miwo.define("Miwo.component.Component",{Extends:Miwo.Object,Implements:Miwo.Events,Alias:"Miwo.Component",isComponent:!0,xtype:"component",id:void 0,name:void 0,width:void 0,height:void 0,top:void 0,left:void 0,right:void 0,bottom:void 0,padding:void 0,margin:void 0,html:void 0,styles:void 0,cls:void 0,baseCls:"",componentCls:void 0,container:null,el:"div",contentEl:void 0,focusEl:void 0,rendered:!1,rendering:!1,zIndex:void 0,zIndexManage:!1,zIndexManager:void 0,focusOnToFront:!0,$isGeneratedId:!1,focus:!1,visible:!0,reference:void 0,renderTo:void 0,template:void 0,templateParams:{},scrollable:!1,autoCenter:!1,disabled:!1,initialize:function(a){this.beforeInit(),this.parent(a),this.doInit(),miwo.componentManager.register(this),this.zIndexManage&&miwo.zindexManager.register(this),this.afterInit(),this.renderTo&&this.render(this.renderTo)},setPropertyDefaults:function(a){for(var b in a)this.defaults[b]=a[b]},beforeInit:function(){},doInit:function(){this.el=this.createElement(this.el),this.contentEl&&(this.contentEl=this.createElement(this.contentEl),
this.contentEl.inject(this.el),this.contentEl.addClass("miwo-ct")),this.focusEl=this.el,this.name||(this.name=miwo.componentManager.generateName(this.xtype)),this.id||(this.$isGeneratedId=!0,this.id=miwo.componentManager.generateId()),this.template&&Type.isString(this.template)&&(this.template={type:"string",src:this.template})},afterInit:function(){if(this.component){var a=this.component;delete this.component,a.addComponent(this)}},createElement:function(a){if(Type.isString(a))return new Element(a);var b=a.tag||"div";return delete a.tag,new Element(b,a)},setId:function(a){this.$isGeneratedId=!1,this.id=a,this.el.set("id",a)},getName:function(){return this.name},getBaseCls:function(a){return this.baseCls+(a?"-"+a:"")},getContentEl:function(){return this.contentEl||this.el},getFocusEl:function(){return this.focusEl},setParentEl:function(a,b){this.parentEl="after"==b||"before"==b?a.getParent():a,this.el.inject(a,b)},getParentEl:function(){return this.parentEl},findElement:function(a){return this.el.getElement(a);
},findElements:function(a){return this.el.getElements(a)},setZIndex:function(a){return this.el.setStyle("z-index",a),a+10},getZIndex:function(){return parseInt(this.el.getStyle("z-index"),10)},toFront:function(){this.getZIndexManager().bringToFront(this)},toBack:function(){this.getZIndexManager().sendToBack(this)},getZIndexManager:function(){if(!this.zIndexManager)throw new Error("Component "+this.name+" is not managed with zIndexManager");return this.zIndexManager},setDisabled:function(a){this.disabled=a,this.fireEvent("disabled",[this,a])},setFocus:function(){this.focus=!0,this.getFocusEl().setFocus()},isFocusable:function(){return this.focusEl&&this.rendered&&this.isVisible()},isScrollable:function(){return null===this.scrollable?this.height||null!==this.top&&null!==this.bottom:this.scrollable},isXtype:function(a){return this.xtype==a},setParent:function(a,b){if(null===a&&null===this.container&&null!==b)return this.name=b,this;if(a===this.container&&null===b)return this;if(null!==this.container&&null!==a)throw new Error("Component '"+this.name+"' already has a parent.");
return b&&(this.name=b),null!==a?(this.container=a,this.attachedContainer(this.container)):(this.detachedContainer(this.container),this.container=null),this},getParent:function(){return this.container},up:function(a){for(var b=this.getParent();b&&!b.is(a);)b=b.getParent();return b},is:function(a){return a.test(/^\#([\w\-]+)/)?a.replace(/\#/,"")===this.id:a?this.isXtype(a):!1},nextSibling:function(){return this.getParent().nextSiblingOf(this)},previousSibling:function(){return this.getParent().previousSiblingOf(this)},attachedContainer:function(a){if(this.reference){var b,c,d=this.reference;Type.isInstance(d)?(b=d,c=this.name):Type.isObject(d)?(b=d.scope,c=d.name):(b=a,c=d),b&&b.isContainer&&b.setReference(c,this)}},detachedContainer:function(a){if(this.reference){var b,c,d=this.reference;Type.isInstance(d)?(b=d,c=this.name):Type.isObject(d)?(b=d.scope,c=d.name):(b=a,c=d),b&&b.isContainer&&b.removeReference(c)}},hasTemplate:function(){return!!this.template},getTemplate:function(){if(this.template&&!Type.isInstance(this.template)){
var a=this.createTemplate();a.setSource(this.template.type,this.template.src),a.setParams(this.templateParams),this.template=a}return this.template},createTemplate:function(){var a=miwo.dic.createTemplate();return a.setParam("me",this),a.setParam("component",this),a},render:function(a,b){this.rendered||(a&&this.setParentEl(a,b),this.beforeRender(),this.rendering=!0,this.fireEvent("render",[this,this.el]),this.doRender(),this.rendered=!0,this.rendering=!1,this.afterRender(),this.fireEvent("rendered",[this,this.getContentEl()]))},update:function(){},beforeRender:function(){var a=this.el;a.setVisible(this.visible),a.set("miwo-name",this.name),a.store("component",this),this.$isGeneratedId||a.set("id",this.id),this.cls&&a.addClass(this.cls),this.baseCls&&a.addClass(this.baseCls),this.componentCls&&a.addClass(this.componentCls),void 0!==this.styles&&a.setStyles(this.styles),void 0!==this.width&&a.setStyle("width",this.width),void 0!==this.height&&a.setStyle("height",this.height),void 0!==this.top&&a.setStyle("top",this.top),
void 0!==this.bottom&&a.setStyle("bottom",this.bottom),void 0!==this.left&&a.setStyle("left",this.left),void 0!==this.right&&a.setStyle("right",this.right),void 0!==this.zIndex&&a.setStyle("zIndex",this.zIndex),void 0!==this.padding&&a.setStyle("padding",this.padding),void 0!==this.margin&&a.setStyle("margin",this.margin)},doRender:function(){this.html?this.el.set("html",this.html):this.template&&this.getTemplate().render(this.el)},afterRender:function(){var a=this;this.findElements("[miwo-reference]").each(function(b){a[b.getAttribute("miwo-reference")]=b,b.removeAttribute("miwo-reference")}),this.findElements("[miwo-events]").each(function(b){for(var c=b.getAttribute("miwo-events").split(","),d=0;d<c.length;d++){var e=c[d].split(":",2);if(!a[e[1]])throw new Error("[Component::afterRender] In component "+a.name+" is undefined callback '"+e[1]+"' for event '"+e[0]+"'");b.on(e[0],a.bound(e[1]))}b.removeAttribute("miwo-events")}),this.findElements("[data-behavior]").each(function(a){miwo.getBehavior().apply(a);
})},setVisible:function(a){this[a?"show":"hide"]()},isVisible:function(){return this.visible},setSize:function(a,b){Type.isObject(a)&&(b=a.height,a=a.width),void 0!==b&&null!==b&&(this.height=b,this.el.setStyle("height",b)),void 0!==a&&null!==a&&(this.width=a,this.el.setStyle("width",a)),this.fireEvent("resize",this)},getSize:function(){return{width:this.el.getWidth(),height:this.el.getHeight()}},showAt:function(a){this.show();var b=this.el.getWidth(),c=this.el.getHeight(),d=miwo.body.getWidth(),e=miwo.body.getHeight();return a.x<0&&(a.x=0),a.x+b>d&&(a.x=d-b-10),a.y<0&&(a.y=0),a.y+c>e&&(a.y=e-c-10),this.top=a.y,this.left=a.x,this.show(),this},show:function(){return this.visible?void 0:(this.fireEvent("beforeshow",this),this.render(),this.doShow(),this.parentShown(this),this.fireEvent("show",this),this)},doShow:function(){void 0!==this.top&&this.el.setStyle("top",this.top),void 0!==this.bottom&&this.el.setStyle("bottom",this.bottom),void 0!==this.left&&this.el.setStyle("left",this.left),
void 0!==this.right&&this.el.setStyle("right",this.right),this.el.show(),this.visible=!0,this.top||this.left||!this.autoCenter||this.center()},parentShown:function(a){this.fireEvent("parentshown",a)},hide:function(){return this.visible?(this.fireEvent("beforehide",this),this.doHide(),this.fireEvent("hide",this),this):void 0},doHide:function(){this.visible=!1,this.el.hide()},center:function(){return this.el.setStyle("left",this.left=(this.parentEl.getWidth()-this.el.getWidth())/2),this.el.setStyle("top",this.top=(this.parentEl.getHeight()-this.el.getHeight())/2),this},setActive:function(a,b){a?this.fireEvent("activate",this):this.fireEvent("deactivate",this)},beforeDestroy:function(){this.fireEvent("beforedestroy",this),this.container&&this.container.removeComponent(this.name),this.zIndexManage&&miwo.zindexManager.unregister(this),miwo.componentManager.unregister(this)},doDestroy:function(){$destroy(this.template),this.el.eliminate("component"),this.el.destroy()},afterDestroy:function(){
this.fireEvent("destroy",this)}}),miwo.define("Miwo.component.Container",{Extends:Miwo.component.Component,Alias:"Miwo.Container",isContainer:!0,xtype:"container",defaults:{},defaultXtype:void 0,componentFactory:void 0,components:void 0,contentEl:void 0,layout:"auto",$components:{},$references:{},doInit:function(){this.parent(),this.initComponents()},initComponents:function(){var a=this,b=[];this.components&&this.components.each(function(c){Object.expand(c,a.defaults),c.ctype||c.xtype||(c.xtype=a.defaultXtype||"component"),c.name||(c.name=miwo.componentManager.generateName(c.xtype)),a.hasConfigReference(c)&&b.push(c.name),a.$components[c.name]=c}),this.components=new Collection;for(var c=0;c<b.length;c++)this.getComponent(b[c])},hasConfigReference:function(a){if(a.reference)return!0;if(a.components)for(var b in a.components){var c=a.components[b];if(this.hasConfigReference(c))return!0}return!1},setReference:function(a,b){if(this[a])throw new Error("Object property "+a+" already exists");
this[a]=b,this.$references[a]=b},removeReference:function(a){delete this[a],delete this.$references[a]},addComponent:function(a,b){if(Type.isString(a)||(b=a,a=b.name),!(b instanceof Miwo.component.Component))throw new Error("Component is not instance of Miwo.component.Component.");if(!a||!a.test(/^[a-zA-Z0-9]+$/))throw new Error("Component name must be non-empty alphanumeric string, '"+a+"' given.");if(this.components.has(a))throw new Error("Component with name '"+a+"' already exists.");var c=this;do{if(c===b)throw new Error("Circular reference detected while adding component '"+a+"'.");c=c.getParent()}while(null!==c);this.validateChildComponent(b),this.fireEvent("add",[this,b]);try{this.components.set(a,b),b.setParent(this,a),this.addedComponent(b)}catch(d){throw this.components.remove(a),d}return this.fireEvent("added",[this,b]),b},addedComponent:function(a){var b=this.getParent();b&&b.addedComponent(a)},removeComponent:function(a){if(!this.components.has(a))throw new Error("Component named '"+a+"' is not located in this container.");
var b=this.components.get(a);this.fireEvent("remove",[this,b]),b.setParent(null),this.components.remove(a),this.removedComponent(b),this.fireEvent("removed",[this,b])},removedComponent:function(a){var b=this.getParent();b&&b.removedComponent(a)},getComponent:function(a,b){if(!a)throw new Error("Component or subcomponent name must not be empty string.");void 0===b&&(b=!0);var c,d=a.indexOf("-");if(d>0&&(c=a.substring(d+1),a=a.substring(0,d)),"parent"==a)return c?this.component.getComponent(c,b):this.component;if(!this.components.has(a)){var e=this.createComponent(a);e&&null===e.getParent()&&this.addComponent(a,e)}if(this.components.has(a))return c?this.components.get(a).getComponent(c,b):this.components.get(a);if(b)throw new Error("Component with name '"+a+"' does not exist.")},createComponent:function(a){var b,c=a.capitalize(),d="createComponent"+c;if(c!=a&&this[d]){if(b=this[d](),!b&&!this.components.has(a))throw new Error("Method "+this+"::"+d+"() did not return or create the desired component.");
return b}return this.$components[a]?(b=miwo.componentManager.createComponent(this.$components[a]),delete this.$components[a],b):this.componentFactory?b=this.componentFactory(a):void 0},hasComponents:function(){return this.getComponents().length>0},getComponents:function(){for(var a in this.$components)this.getComponent(a);return this.components.toArray()},findComponents:function(a,b){var c=[];return this.getComponents().each(function(d){var e=!0;if(b&&(e=!1,Type.isObject(b)))for(var f in b){var g=b[f];if(d[f]==g){e=!0;break}}e&&c.push(d),!d.isContainer||!a&&e||c.append(d.findComponents(a,b))}),c},validateChildComponent:function(a){},firstChild:function(){return this.components.getFirst()},lastChild:function(){return this.components.getLast()},nextSiblingOf:function(a){var b=this.components.indexOf(a);return b+1<this.components.length?this.components.getAt(b+1):null},previousSiblingOf:function(a){var b=this.components.indexOf(a);return b>0?this.components.getAt(b-1):null},query:function(a){
return a=a||"*",Miwo.componentQuery.query(a,this)},queryById:function(a){return this.down("#"+a)},child:function(a){return a=a||"",this.query("> "+a)[0]||null},down:function(a){for(var b=this.getComponents(),c=0;c<b.length;c++){var d=b[c];if(d.is(a))return d;b.append(d.getComponents())}return null},get:function(a,b){return this.getComponent(a,b)},add:function(a,b){return this.addComponent(a,b)},remove:function(a){return this.removeComponent(a)},hasLayout:function(){return!!this.layout},getLayout:function(){if(this.layout&&!Type.isInstance(this.layout)){var a=Type.isString(this.layout)?this.layout:this.layout.type;this.layout=miwo.create(a+"Layout"),this.layout.setContainer(this),this.layout.initLayout()}return this.layout},update:function(){this.layout?this.getLayout().update():this.parent()},doRender:function(){this.parent(),this.findElements("[miwo-component]").each(function(a){var b=a.getAttribute("miwo-component"),c=this.getComponent(b,!0);a.parentNode.replaceChild(c.el,a),c.parentEl=this.el,
c.render()},this);var a=this.findElement('[miwo-reference="contentEl"]');a&&(this.contentEl=a),this.renderContainer()},renderContainer:function(){this.layout&&this.getLayout().render()},parentShown:function(a){this.parent(a),this.components.each(function(b){b.parentShown(a)})},doDestroy:function(){this.components.each(function(a,b){this.removeComponent(b),a.destroy()},this);for(var a in this.$references)delete this.$references[a],delete this[a];$destroy(this.layout),this.parent()}}),miwo.define("Miwo.app.Application",{Extends:Miwo.Object,Services:{context:"!Miwo.di.Container",eventMgr:"!Miwo.app.EventManager",controllerFactory:"!Miwo.app.ControllerFactory",viewport:"viewport"},context:null,eventMgr:null,controllerFactory:null,rendered:!1,catchExceptions:!0,controllers:[],initialize:function(a){this.parent(a);var b=this.controllers;this.controllers={};for(var c=0;c<b.length;c++)this.controllers[b[c]]=null},run:function(a){for(var b in this.controllers)this.getController(b).startup();a&&(a===!0?this.render():this.render(a));
},render:function(a){if(!this.rendered){this.rendered=!0;var b,c=this.controllers,d=this.getViewport();for(b in c)c[b].beforeRender();d.render(a||miwo.body);for(b in c)c[b].afterRender()}},getController:function(a){return this.controllers[a]||(this.controllers[a]=this.controllerFactory.create(a),this.controllers[a].application=this),this.controllers[a]},control:function(a,b){Type.isString(a)?this.eventMgr.control(a,b):a.on(b)},select:function(a){return miwo.componentManager.get(a.replace("#",""))}}),miwo.define("Miwo.app.Controller",{Extends:Miwo.Object,Implements:[Miwo.Events],Services:{context:"!miwo.container",application:"!miwo.application"},initialize:function(a){if(this.parent(a),!this.name)throw new Error("Undefined controller name")},setContext:function(a){this.context=a},startup:function(){},beforeRendered:function(){},afterRendered:function(){},select:function(a){return this.application.select(a)},control:function(a,b){this.application.control(a,$bounds(b,this))},getController:function(a){
return this.application.getController(a)},getStore:function(a){return this.application.getStore(a)},getEntity:function(a){return this.application.getEntity(a)}}),miwo.define("Miwo.app.ControllerFactory",{Extends:Miwo.Object,Services:{context:"!miwo.container"},create:function(a){var b,c=this.context.createInstance("App.controller."+a.capitalize());if(c.setContext(this.context),c.references){for(b in c.references)this.createReferenceGetter(c,b,c.references[b]);c.references={}}return c},createReferenceGetter:function(a,b,c){this.createGetter(a,b,function(){return this.references[b]||(this.references[b]=this.select(c)),this.references[b]})},createGetter:function(a,b,c){var d="get"+b.capitalize();if(a[d])throw new Error("Getter "+d+" exists");a[d]=c}}),miwo.define("Miwo.app.EventManager",{Extends:Miwo.Object,Implements:[Bounds],selectors:[],initialize:function(a){this.parent(a),miwo.componentManager.on("register",this.bound("onRegister")),miwo.componentManager.on("unregister",this.bound("onUnregister"));
},control:function(a,b){this.selectors.push({selector:a,events:b})},onRegister:function(a){for(var b=0;b<this.selectors.length;b++){var c=this.selectors[b];if(a.is(c.selector))for(var d in c.events)a.on(d,c.events[d])}},onUnregister:function(a){for(var b=0;b<this.selectors.length;b++){var c=this.selectors[b];if(a.is(c.selector))for(var d in c.events)a.un(d,c.events[d])}},doDestroy:function(){miwo.componentManager.un("register",this.bound("onRegister")),miwo.componentManager.un("unregister",this.bound("onUnregister"))}}),miwo.define("Miwo.layout.Layout",{Extends:Miwo.Object,Implements:[Miwo.Events],isLayout:!0,targetCls:"miwo-layout",itemCls:"miwo-layout-item",container:null,initialized:!1,running:!1,ownerLayout:null,enabled:!0,setContainer:function(a){this.munon(this.container,a,{added:this.bound("onAdded"),removed:this.bound("onRemoved")}),this.container=a},getLayoutComponents:function(){return this.container.getComponents()},getRenderTarget:function(){return this.container.getContentEl();
},initLayout:function(){this.initialized=!0},setOwnerLayout:function(a){this.ownerLayout=a},render:function(){this.targetCls&&this.getRenderTarget().addClass(this.targetCls),this.update()},update:function(){this.renderComponents(this.getLayoutComponents(),this.getRenderTarget())},onAdded:function(a,b,c){a.rendered&&!b.preventAutoRender&&this.renderComponent(b,this.getRenderTarget(),c)},onRemoved:function(a,b){a.rendered&&this.removeComponent(b)},renderComponents:function(a,b){if(this.enabled)for(var c=0;c<a.length;c++){var d=a[c];d.rendered?this.updateComponent(d):this.renderComponent(d,b,c)}},renderComponent:function(a,b,c){this.enabled&&!a.rendered&&(this.configureComponent(a),a.render(b),this.afterRenderComponent(a))},updateComponent:function(a){this.configureComponent(a),a.update()},configureComponent:function(a){if(a.isContainer){var b=a.getLayout();b&&b.setOwnerLayout(this)}a.el.setStyles({width:a.width,height:a.height})},afterRenderComponent:function(a){this.itemCls&&a.el.addClass(this.itemCls);
},removeComponent:function(a){a.rendered&&(this.unconfigureComponent(a),a.el.dispose(),this.afterRemoveComponent(a))},unconfigureComponent:function(a){if(a.isContainer){var b=a.getLayout();b&&b.setOwnerLayout(null)}a.el.setStyles({width:null,height:null})},afterRemoveComponent:function(a){this.itemCls&&a.el.removeClass(this.itemCls)},doDestroy:function(){this.targetCls&&this.getRenderTarget().removeClass(this.targetCls),this.setContainer(null),this.parent()}}),miwo.define("Miwo.layout.Absolute",{Extends:Miwo.layout.Layout,Shortcut:"absoluteLayout",initialize:function(a){this.parent(a),this.type="absolute",this.targetCls="miwo-layout-absolute",this.itemCls="miwo-layout-item"},configureComponent:function(a){this.parent(a),a.el.setStyles({top:a.top,bottom:a.bottom,left:a.left,right:a.right})},unconfigureComponent:function(a){this.parent(a),a.el.setStyles({top:null,bottom:null,left:null,right:null})}}),miwo.define("Miwo.layout.Auto",{Extends:Miwo.layout.Layout,Shortcut:"autoLayout",initialize:function(a){
this.parent(a),this.type="auto",this.targetCls="",this.itemCls=""}}),miwo.define("Miwo.layout.Fit",{Extends:Miwo.layout.Layout,Shortcut:"fitLayout",initialize:function(a){this.parent(a),this.type="fit",this.targetCls="miwo-layout-fit",this.itemCls="miwo-layout-item"}}),miwo.define("Miwo.layout.Form",{Extends:Miwo.layout.Layout,Shortcut:"formLayout",initialize:function(a){this.parent(a),this.type="form",this.targetCls="miwo-layout-form",this.itemCls=""}}),miwo.define("Miwo.layout.None",{Extends:Miwo.layout.Layout,Shortcut:"noneLayout",initialize:function(a){this.parent(a),this.type="none",this.targetCls="",this.itemCls="",this.enabled=!1}}),miwo.define("Miwo.panel.Pane",{Extends:Miwo.component.Container,isPane:!0,xtype:"pane",beforeInit:function(){this.parent(),this.contentEl="div"}}),miwo.define("Miwo.panel.Scrollpane",{Extends:Miwo.panel.Pane,xtype:"scrollpane",autoHide:!0,fade:!0,proportional:!0,proportionalMinHeight:15,nativeScrollbar:!1,beforeInit:function(){this.parent(),this.baseCls="miwo-scrollpane";
},scrollBottom:function(){this.contentEl.scrollTop=this.contentEl.scrollHeight,this.actualize()},scrollTop:function(){this.contentEl.scrollTop=0,this.actualize()},doRender:function(){this.parent();var a=this.getContentEl();this.scrollbar=new Element("div",{cls:this.getBaseCls("scrollbar"),parent:this.el}),this.scrollbar.set("tween",{duration:50}),this.knob=new Element("div",{cls:this.getBaseCls("knob"),parent:this.scrollbar}),this.slider=new Slider(this.scrollbar,this.knob,{mode:"vertical",onChange:function(b){a.scrollTop=(a.scrollHeight-a.offsetHeight)*(b/100)}})},afterRender:function(){this.parent(),this.contentEl.addClass(this.baseCls+"-container"),this.contentEl.on({mouseenter:this.bound("onElementMouseenter"),mouseleave:this.bound("onElementMouseleave"),mousewheel:this.bound("onElementMousewheel"),"Scrollable:contentHeightChange":this.bound("onContentHeightChange")}),this.scrollbar.on({mouseleave:this.bound("onScrollbarMouseleave")}),this.knob.on({mousedown:this.bound("onKnobMousedown")
}),window.on({resize:this.bound("onWindowResize"),mousewheel:this.bound("onWindowMousewheel")}),this.scrollbar.fade("show"),this.autoHide&&this.scrollbar.fade("hide"),("ios"===Browser.platform||"safari"===Browser.name||"webos"===Browser.platform||"android"===Browser.platform)&&(this.nativeScrollbar=!0,this.contentEl.setStyle("overflow","auto")),this.actualize()},onElementMouseenter:function(){this.contentEl.scrollHeight>this.el.offsetHeight&&(this.nativeScrollbar?this.contentEl.setStyle("overflow","auto"):this.showContainer()),this.actualize()},onElementMouseleave:function(a){this.isInside(a)||this.active||(this.nativeScrollbar?this.contentEl.setStyle("overflow","hidden"):this.hideContainer())},onElementMousewheel:function(a){var b=this.contentEl;a.preventDefault(),(a.wheel<0&&b.scrollTop<b.scrollHeight-b.offsetHeight||a.wheel>0&&b.scrollTop>0)&&(b.scrollTop=b.scrollTop-30*a.wheel,this.actualize())},onContentHeightChange:function(){this.fireEvent("heightchange",this)},onScrollbarMouseleave:function(){
this.active||this.hideContainer()},onKnobMousedown:function(){this.active=!0,window.on("mouseup",this.bound("onWindowMouseup"))},onWindowMouseup:function(a){this.active=!1,this.isInside(a)||this.hideContainer(),window.un("mouseup",this.bound("onWindowMouseup"))},onWindowResize:function(){this.actualize.delay(50,this)},onWindowMousewheel:function(){this.contentEl.isVisible()&&this.actualize()},actualize:function(){var a=this.contentEl;if(function(){this.size=a.getComputedSize(),this.position=a.getPosition(),this.slider.autosize()}.bind(this).delay(50),this.proportional===!0){if(isNaN(this.proportionalMinHeight)||this.proportionalMinHeight<=0)throw new Error('Miwo.panel.Scrollpane::reposition(): option "proportionalMinHeight" is not a positive number.');var b=Math.abs(this.proportionalMinHeight),c=0!==a.scrollHeight?a.offsetHeight*(a.offsetHeight/a.scrollHeight):0;this.knob.setStyle("height",Math.max(c,b))}var d=a.scrollHeight-a.offsetHeight,e=d?Math.round(a.scrollTop/d*100):0;this.slider.set(e);
},isInside:function(a){return a.client.x>this.position.x&&a.client.x<this.position.x+this.size.totalWidth&&a.client.y>this.position.y&&a.client.y<this.position.y+this.size.totalHeight?!0:!1},showContainer:function(a){this.autoHide&&this.fade&&!this.active||a&&this.fade?this.scrollbar.fade(.6):(this.autoHide&&!this.fade&&!this.active||a&&!this.fade)&&this.scrollbar.fade("show")},hideContainer:function(a){this.autoHide&&this.fade&&!this.active||a&&this.fade?this.scrollbar.fade("out"):(this.autoHide&&!this.fade&&!this.active||a&&!this.fade)&&this.scrollbar.fade("hide")},doDestroy:function(){window.un("resize",this.bound("onWindowResize")),window.un("mousewheel",this.bound("onWindowMousewheel")),this.scrollbar.destroy(),this.parent()}}),miwo.define("Miwo.utils.Logger",{Extends:Miwo.Object,title:"",styles:"background: #0f93ca; color: #fff",log:function(a,b){try{console.log.apply(console,["%c "+this.title+" ",this.styles].concat(Array.slice(arguments)))}catch(c){console.log(c.message+": "+a)}
},logArgs:function(a){this.log.apply(this,a)}}),miwo.define("Miwo.utils.Mask",{Extends:Miwo.Object,maskedEl:void 0,html:"",visible:!1,hideOnClick:!1,closeable:!1,onCloseClick:null,mask:null,contentEl:null,initialize:function(a){this.parent(a),assert.element(this.maskedEl),this.mask=new Mask(this.maskedEl,{height:"100%",width:"100%",cls:"miwo-mask",hideOnClick:this.hideOnClick,useIframeShim:!1,zIndex:1e4,style:{opacity:.85,background:"white"},inject:{where:"after",target:this.maskedEl}}),this.contentEl=new Element("div",{parent:this.mask.element,html:this.html,cls:"miwo-mask-content"}),this.closeable&&(this.closeEl=new Element("div",{parent:this.mask.element,html:'<i class="icon-cancel"></i>',cls:"miwo-mask-close"}),this.closeEl.on("click",function(){this.onCloseClick?this.onCloseClick():this.close()}.bind(this))),this.visible&&this.show()},show:function(){this.mask.element.set("height",this.maskedEl.get("height")),this.mask.show()},hide:function(){this.mask.hide()},close:function(){this.mask.hide(),
this.destroy()},setHtml:function(a){this.contentEl.set("html",a)},doDestroy:function(){this.contentEl.destroy(),this.mask.destroy()}}),miwo.define("Miwo.utils.Translatable",{translate:function(){},translateText:function(a,b,c){Type.isString(a)?this.findElement(a).set(b,$tr(c)):a.set(b,$tr(c))}}),miwo.define("Chat.sounds.SoundPlayer",{Extends:Miwo.Object,mute:!1,volume:50,sounds:{agent:null,system:null,visitor:null},setAdapter:function(a){this.adapter=a},setMute:function(a){this.mute=a},isMute:function(){return this.mute},setVolume:function(a){this.volume=a},doDestroy:function(){$destroy(this.adapter)},play:function(a){if(!this.adapter)throw new Error("Undefined player adapter");if(!this.mute&&this.sounds[a])try{this.adapter.play(this.sounds[a],this.volume)}catch(b){throw new Error("SoundPlayer play error, reason is: "+b)}}}),miwo.define("Chat.sounds.SoundAdapter",{Extends:Miwo.Object,play:function(a,b){}}),miwo.define("Chat.ChatExtension",{Extends:Miwo.di.Extension,name:"chat",options:{
buildVersion:"24f07a1c8dc761996f0dba7586f2128f6ed4583a:2.3.20",enabled:void 0,translatable:!0,multiAccounts:!1,"package":"free",browserLang:"en",frame:null,position:{alignX:void 0,alignY:void 0,offsetX:void 0,offsetY:void 0},connection:{protocol:"https",host:"s2.smartsupp.com",key:"",debugMode:"<%=debugMode%>"},visitor:{id:"",data:{lang:"",group:null,name:void 0,visits:null,email:void 0,note:void 0,sitePlatform:void 0,variables:{}}},events:{enabled:!1,debugMode:"<%=debugMode%>",category:"SmartSupp",accounts:void 0},sound:{flashSrc:"<%=staticUrl%>/assets/player.swf",path:"<%=staticUrl%>/assets/sounds",mute:!1,sounds:{agent:"blackberry.mp3",system:"simplesms.mp3"}},theme:{styles:null,name:void 0,colors:{},options:{}},api:{onReady:void 0,install:{banner:!0,events:!0,groups:!0,theme:!0,basic:!0}},translates:"<%translates%>",plugins:{}},beforeBuild:function(a){var b=this.getConfig();void 0===b.enabled&&(b.enabled=!Browser.ie6&&!Browser.ie7),a.define("chat.api","Chat.api.Api",{args:b.api}),a.define("chat.styleManager","Chat.theme.StyleManager",{
args:{styles:b.theme.styles}}),a.define("chat.themeManager","Chat.theme.ThemeManager",{args:{styleManager:"<@chat.styleManager@>",name:b.theme.name,colors:b.theme.colors,options:b.theme.options}}),a.define("chat.pluginHelper","Chat.plugins.Helper"),a.define("chat.pluginManager","Chat.plugins.PluginManager",{args:{plugins:b.plugins}}),a.define("chat.frameManager","Chat.utils.FrameManager",{args:{el:b.frame,visible:b.enabled,alignX:b.position.alignX,alignY:b.position.alignY,offsetX:b.position.offsetX,offsetY:b.position.offsetY}}),a.define("chat.idManager","Chat.utils.IdManager",{args:{chatKey:b.connection.key,keyName:a.parameters.cookieNames.vid,multiAccounts:a.parameters.multiAccounts}}),a.define("chat.model","Chat.model.Chat",{args:{idManager:"<@chat.idManager@>",id:b.visitor.id,data:b.visitor.data}}),a.define("chat.connectionFactory","Chat.server.ConnectionFactory",{args:{protocol:b.connection.protocol,host:b.connection.host}}),a.define("chat.connection","Chat.server.Connection",{factory:function(a){
return a.get("chat.connectionFactory").create(a.get("chat.model"),{buildVersion:b.buildVersion,enabled:b.enabled,chatKey:b.connection.key,reconnect:b.connection.reconnect})},setup:function(a){a.debugMode=b.connection.debugMode}}),a.define("chat.eventManager","Chat.events.EventManager",{args:{category:b.events.category,enabled:b.events.enabled,debugMode:b.events.debugMode,eventsLang:"<%=baseLang%>"}}),a.define("chat.eventGaAdapter","Chat.events.GaAdapter",{args:{accounts:b.events.accounts}}),a.ext("chat.eventManager",function(b){b.on("event",function(b,c,d,e,f){a.get("chat.eventGaAdapter").send(b,c,d,e,f)})}),a.define("chat.soundPlayer","Chat.sounds.SoundPlayer",{args:{mute:b.sound.mute,sounds:b.sound.sounds,adapter:"<@chat.soundAdapter@>"},setup:function(a,b){a.setAdapter(b.get("chat.soundAdapter"))}}),a.define("chat.soundAdapter","Chat.sounds.SoundAdapter",{factory:function(a,b){return Chat.sounds.SoundAdapterFactory.create(a,b)},args:{path:b.sound.path,src:b.sound.flashSrc,frameManager:"<@chat.frameManager@>"
}}),a.define("chat.translator","Chat.utils.Translator",{args:{lang:"<%=lang%>",defaultLang:"<%=baseLang%>",browserLang:b.browserLang,translates:b.translatable?b.translates:null}})},onCreated:function(a){a.get("chat.frameManager"),a.get("chat.styleManager"),a.get("chat.translator"),a.get("chat.eventGaAdapter")}}),miwo.define("Chat.api.Api",{Extends:Miwo.Object,Implements:Miwo.Events,install:{banner:!0,events:!0,groups:!0,theme:!0},aliases:{},document:void 0,onReady:void 0,startup:function(a){var b=this;b.htmlApi=new Chat.api.HtmlApi(this),b.manager=a.pluginManager,b.helper=a.pluginManager.helper,b.window=window;var c=this.api={};this.createBasicApi(c),b.helper.context.parameters.smartlook&&this.createRecordingApi(c),this.install.banner&&this.createBannerApi(c),this.install.events&&this.createEventsApi(c),this.install.groups&&this.createGroupsApi(c),this.install.theme&&this.createThemeApi(c),this.onReady&&this.onReady(this.api),b.helper.getConnection().on("visitorconnect",function(a){b.fire("connect",[a]);
}),b.helper.getModel().on("status",function(a){b.fire("status",[a])}),b.helper.getModel().on("agent.change",function(a){b.fire("agent.change",[a])}),b.helper.getModel().on("agent.join",function(a,c){b.fire("agent.join",[a,c])}),b.helper.getModel().on("agent.leave",function(a,c){b.fire("agent.leave",[a,c])}),b.helper.getModel().on("addmessage",function(a,c){b.fire("message",[a,c])}),b.helper.getEventManager().on("event",function(a,c,d,e){b.fire("event",[a,c,d,e])}),b.helper.getLoginPanel().on("success",function(a,c){b.fire("login",[c.getValues()])}),b.fire("startup",[a])},render:function(a){this.fire("render",[a])},rendered:function(a){var b=this;this.fire("rendered",[a]),this.helper.getOnlinePanel().on("send",function(a,c){b.fire("sent",[c])})},execute:function(a,b,c){if(Type.isFunction(a))return a(this.api);if(Type.isString(a)){this.aliases[a]&&(a=this.aliases[a]);var d=this.api,e=a.split(":"),f=e[e.length-1],g=Array.slice(arguments,1);if(2==e.length)for(var h=e[0].split("."),i=0;i<h.length;i++){
if(!d[h[i]])return void console.log('Command "'+a+'" is not supported.');d=d[h[i]]}if(!d[f])return void console.log('Command "'+a+'" is not supported.');d[f].apply(d,g)}},createBasicApi:function(a){var b=this,c=this.helper;a.helper=c,a.model=c.getModel(),a.getComponent=c.getComponent,Object.append(a,{execute:function(a){return b.execute.apply(b,Type.isArray(a)?a:Array.splice(arguments))},on:function(a,c,d){b.on(a,c,d)},un:function(a,c){b.un(a,c)},getHelper:function(){return c},getDIC:function(){return c.context},getService:function(a){return c.getService(a)},control:function(a,b,d){c.controller.control(a,b,d)},setDebug:function(a){c.getConnection().debugMode=a}}),a.plugins={get:function(a){return b.manager.getPlugin(a)},install:function(a,c){return b.manager.installPlugin(a,c)},uninstall:function(a){return b.manager.uninstallPlugin(a)}},a.acccount={setKey:function(a){c.getConnection().chatKey=a},setHost:function(a){c.getConnection().setHost(a)},reconnect:function(){c.getConnection().reconnect();
}},a.visitor={set:function(a,b){c.getModel().set(a,b)},get:function(a){return c.getModel().get(a)},setName:function(b){a.chat.set("name",b)},getName:function(){return a.chat.get("name")},setEmail:function(b){a.chat.set("email",b)},getEmail:function(){a.chat.get("email")},setVariable:function(b,c,d){var e=a.chat.get("variables");e[b]={label:d||b,value:c},a.chat.set("variables",e)},getVariable:function(b){return a.chat.get("variables")[b]||null},setVariables:function(b){a.chat.set("variables",b)},getVariables:function(){return a.chat.get("variables")},setLanguage:function(a){"cz"==a&&(a="cs"),c.getTranslator().setLanguage(a),c.getModel().set("lang",a)},getLanguage:function(){return c.getTranslator().getLanguage()},setStatus:function(a){c.getConnection().notify("status",a)}},a.widget={show:function(){c.controller.setOption("hideWidget",!1)},hide:function(a){c.controller.setOption("hideWidget",a?"hide":!0)}},a.chat={send:function(a){c.getConnection().send(a)},show:function(){c.controller.setOpened(!0);
},hide:function(){c.controller.setOpened(!1)},open:function(){c.controller.open()},close:function(){c.controller.close()},end:function(a){c.getConnection().close(a)},setAvatar:function(a){c.getOnlinePanel().setAvatarSrc(a)},setMessage:function(a){c.getOnlinePanel().setText(a)},setOrientation:function(a){c.getFrameManager().setAlign(a,"bottom"),c.getFrameManager().updateSize()},setAlign:function(a,b,d,e){c.getFrameManager().setAlign(a,b,d,e),c.getFrameManager().updateSize()},setTranslates:function(a,b){c.getTranslator().setTranslates(a,b)},getTranslates:function(a){return c.getTranslator().getTranslates(a)},translate:function(a,b,d){a&&(Type.isObject(a)?c.getTranslator().setTranslates(a,b):c.getTranslator().setTranslate(a,b,d)),d&&c.getTranslator().getLanguage()!==d||c.getTranslator().translate()}},a.html={apply:function(a){b.htmlApi.apply(a)}},this.aliases.debug="setDebug",this.aliases["account:key"]="account:setKey",this.aliases["account:host"]="account:setHost",this.aliases.lang="visitor:setLanguage",
this.aliases.name="visitor:setName",this.aliases.email="visitor:setEmail",this.aliases.status="visitor:setStatus",this.aliases.language="visitor:setLanguage",this.aliases.variables="visitor:setVariables",this.aliases["chat:avatar"]="chat:setAvatar",this.aliases["chat:message"]="chat:setMessage",this.aliases["chat:orientation"]="chat:setOrientation",this.aliases["chat:align"]="chat:setAlign",this.aliases.translate="chat:translate",this.aliases["chat:variables"]="visitor:setVariables",this.aliases["chat:language"]="visitor:setLanguage";for(var d in a.visitor)a.chat[d]=a.visitor[d]},createGroupsApi:function(a){a.groups={set:function(b){a.chat.set("group",b)},get:function(){return a.chat.get("group")}},a.visitor.setGroup=function(b){a.visitor.set("group",b)},this.aliases.group="visitor:setGroup",a.chat.setGroup=a.visitor.setGroup},createEventsApi:function(a){var b=this.helper;a.events={setCategory:function(a){b.getEventManager().category=a},getCategory:function(){return b.getEventManager().category;
},setEnabled:function(a){b.getEventManager().enabled=a},isEnabled:function(){return b.getEventManager().enabled}},this.aliases["events:category"]="events:setCategory",this.aliases["events:enabled"]="events:setEnabled"},createThemeApi:function(a){var b=this.helper;a.theme={set:function(a){b.getThemeManager().setTheme(a,!0)},setColor:function(a,c){b.getThemeManager().setColor(a,c)},setColors:function(a){b.getThemeManager().setColors(a)},getColors:function(){return b.getThemeManager().colors},setStyles:function(a,c){if("default"==a||"flat"==a||"none"==a||"autoclose"==a)throw new Error("Styles with name "+a+" is reserved. Please you other name");b.getStyleManager().setStyles(a,c)},setOptions:function(a,c){b.getThemeManager().setOptions(a,c)},setOption:function(a,c){b.getThemeManager().setOption(a,c)},getOptions:function(){return b.getThemeManager().options}},this.aliases["theme:color"]="theme:setColor",this.aliases["theme:colors"]="theme:setColors",this.aliases["theme:styles"]="theme:setStyles",
this.aliases["theme:option"]="theme:setOption",this.aliases["theme:options"]="theme:setOptions"},createBannerApi:function(a){var b=this.helper;a.banner={show:function(){b.getWidget().banner.show()},hide:function(){b.getWidget().banner.hide()},set:function(a,c){b.getWidget().setBanner(a,c)},update:function(a){b.getWidget().updateBanner(a)}},this.aliases.banner="banner:set"},createRecordingApi:function(a){var b=this.helper.context.parameters.smartlook;a.recording=a.visitortrace={disable:function(a){b("disable",void 0===a?!0:a)},tag:function(a,c){b("tag",a,c)},tags:function(a){b("tags",a)},ignore:function(a,c){b("ignore",a,c)},filter:function(a,c){b("filter",a,c)}}}}),miwo.define("Chat.api.HtmlApi",{Extends:Miwo.Object,initialize:function(a){this.api=a},apply:function(a){if(a&&a.querySelectorAll)for(var b=a.querySelectorAll('[data-api="smartsupp"]'),c=0,d=b.length;d>c;c++)this.processElement(b[c])},processElement:function(a){var b=a.getAttribute("data-operation");b&&this.processOperation(b,a);
},processOperation:function(a,b){var c="processOperation"+a.capitalize();this[c]&&this[c](b)},processOperationOpen:function(a){this.addEvent(a,"click",function(){this.api.execute("chat:open");var b=this.getAttribute(a,"data-text");b&&this.api.execute("chat:message",b)}.bind(this))},processOperationSend:function(a){this.addEvent(a,"click",function(){this.api.execute("chat:open");var b=this.getAttribute(a,"data-text");b&&this.api.execute("chat:send",b)}.bind(this))},processOperationInit:function(a){var b=this.getAttribute(a,"data-lang");("cs"==b||"en"==b||"sk"==b||"de"==b)&&this.api.execute("chat:language",b)},processOperationStyles:function(a){var b=this.getAttribute(a,"data-name","api"),c=a.innerHTML;this.api.execute("theme:styles",b,c)},addEvent:function(a,b,c){return a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},getAttribute:function(a,b,c){return a.hasAttribute(b)?a.getAttribute(b):c}}),miwo.define("Chat.events.EventManager",{Extends:Miwo.Object,Implements:Miwo.Events,
category:"SmartSupp",enabled:!1,debugMode:!1,events:{},eventsLang:"en",state:{operatorSendMessage:!1,visitorSendMessage:!1,triggerSendMessage:!1,conversation:!1,firstMessage:!1,visitorReplyTrigger:!1,firstAgentName:void 0,firstVisitorName:void 0,firstTriggerName:void 0},preventEvents:!1,initialize:function(a){this.parent(a);var b=Locale.getCurrent().name;Locale.use(this.eventsLang),this.events={visitorVisit:{action:$tr("events.visitorVisitAction"),label:$tr("events.visitorVisitLabel"),noninteractive:!0},visitorSendMessage:{action:$tr("events.visitorSendMessageAction"),label:$tr("events.visitorSendMessageLabel"),noninteractive:!0},operatorSendMessage:{action:$tr("events.operatorSendMessageAction"),label:$tr("events.operatorSendMessageLabel"),noninteractive:!0},triggerSendMessage:{action:$tr("events.triggerSendMessageAction"),label:$tr("events.triggerSendMessageLabel"),noninteractive:!0},visitorReplyTrigger:{action:$tr("events.visitorReplyTriggerAction"),label:$tr("events.visitorReplyTriggerLabel"),
noninteractive:!0},conversationByOperator:{action:$tr("events.conversationByOperatorAction"),label:$tr("events.conversationByOperatorLabel"),noninteractive:!0},conversationByVisitor:{action:$tr("events.conversationByVisitorAction"),label:$tr("events.conversationByVisitorLabel"),noninteractive:!0},conversationByTrigger:{action:$tr("events.conversationByTriggerAction"),label:$tr("events.conversationByTriggerLabel"),noninteractive:!0},closeChat:{action:$tr("events.closeChatAction"),label:$tr("events.closeChatLabel"),noninteractive:!0}},Locale.use(b),this.defaultState=Object.clone(this.state)},reset:function(){this.state=Object.clone(this.defaultState)},setMessages:function(a){if(this.enabled){this.preventEvents=!0,this.reset();for(var b=0;b<a.length;b++)this.notifyMessage(a[b]);this.preventEvents=!1}},notifyMessage:function(a){if(this.enabled){var b=a.type,c=a.name,d=a.triggeredBy||null;if("system"!=b){if(d&&(this.state.triggerSendMessage=!0,this.state.visitorReplyTrigger=!1,this.state.firstMessage||(this.state.firstMessage="trigger"),
this.state.firstTriggerName||(this.state.firstTriggerName=d),this.notify("triggerSendMessage",{trigger:d})),"agent"!==b||d||(this.state.operatorSendMessage=!0,this.state.firstMessage||(this.state.firstMessage="operator"),this.state.firstAgentName||(this.state.firstAgentName=c),this.notify("operatorSendMessage",{name:c})),"visitor"!==b||d||(this.state.visitorSendMessage=!0,this.state.firstMessage||(this.state.firstMessage="visitor"),this.state.firstVisitorName||(this.state.firstVisitorName=c),this.notify("visitorSendMessage",{name:c})),this.state.operatorSendMessage&&this.state.visitorSendMessage&&!this.state.conversation)switch(this.state.conversation=!0,this.state.firstMessage){case"operator":this.notify("conversationByOperator",{name:this.state.firstAgentName});break;case"visitor":this.notify("conversationByVisitor",{name:this.state.firstAgentName});break;case"trigger":this.notify("conversationByTrigger",{name:this.state.firstAgentName})}"visitor"===b&&this.state.triggerSendMessage&&!this.state.visitorReplyTrigger&&(this.state.visitorReplyTrigger=!0,
this.notify("visitorReplyTrigger",{trigger:this.state.firstTriggerName}))}}},notifyClose:function(a){this.notify("closeChat",{type:a})},notify:function(a,b){if(this.enabled&&!this.preventEvents){var c=this.events[a],d=c.label.substitute(b),e=[this.category,c.action,d,1,c.noninteractive];this.debugMode&&console.log("ChatEvent:",e),this.fire("event",e)}}}),miwo.define("Chat.events.GaAdapter",{Extends:Miwo.Object,accounts:null,initialize:function(a){if(this.parent(a),this.accounts)for(var b=0;b<this.accounts.length;b++)this.setup(this.accounts[b])},setup:function(a){a.type=null,a.key?window.ga&&(a.type="internal"):window.parent._gaq&&window.parent._gaq.push?a.type="push":window.parent.ga&&(a.type="universal"),a.options=a.options||{},a.options.cookieDomain||(a.options.cookieDomain=window.parent.document.domain),"internal"===a.type&&window.ga("create",a.key,a.options)},send:function(a,b,c,d,e){for(var f=0;f<this.accounts.length;f++){var g=this.accounts[f];try{if("push"===g.type)window.parent._gaq&&window.parent._gaq.push(["_trackEvent",a,b,c,d,e]);else if("universal"===g.type){
if(window.parent.ga)for(var h=window.parent.ga.getAll(),i=0;i<h.length;i++)g.options.name&&g.options.name!==h[i].get("name")||h[i].send("event",a,b,c,d,{nonInteraction:e})}else"internal"===g.type&&window.ga&&window.ga(g.options.name?g.options.name+".send":"send","event",a,b,c,d,{nonInteraction:e})}catch(j){console.log("Smartsupp: GA error:",j.message)}}}}),miwo.define("Chat.model.Chat",{Extends:Miwo.Object,Implements:[Miwo.Events],id:null,channelId:null,data:{visits:null,group:null,lang:"",name:"",email:"",note:"",userAgent:"",pageTitle:"",pageUrl:"",referer:"",platform:"",sitePlatform:null,variables:{},authenticated:!1},messages:[],agents:new Collection,isBanned:!1,status:"",initialize:function(a){this.parent(a),this.data.lang=Locale.getCurrent().name,!this.data.visits&&miwo.cookie.read("ssupp.visits")&&(this.data.visits=parseInt(miwo.cookie.read("ssupp.visits"),10))},setChannelId:function(a){this.channelId=a,this.fire("channelchange")},load:function(a,b){this.setMessages(a),this.setAgents(b),
this.fire("refresh",[this])},clean:function(){this.removeMessages(),this.removeAgents(),this.fire("refresh",[this])},set:function(a,b){if(Type.isString(a)){var c={};return c[a]=b,this.set(c)}var d={},e=!1;for(var f in a)"variables"===f?(this.setVariables(a[f]),d.variables=this.data.variables,e=!0):this.data[f]!=a[f]&&(this.data[f]=a[f],d[f]=this.data[f],e=!0);e&&this.fire("update",[this,d])},get:function(a){return a?this.data[a]||null:this.data},update:function(a){a.visits&&miwo.cookie.write("ssupp.visits",a.visits,{duration:180});for(var b in a)this.data[b]=a[b]},setMessages:function(a){this.messages.empty();for(var b=0;b<a.length;b++)this.messages.push(a[b]);this.fire("loadmessages",[this])},addMessage:function(a){this.messages.push(a),this.fire("addmessage",[this,a])},removeMessages:function(){this.messages.empty(),this.fire("clearmessages",[this])},hasMessage:function(){return this.messages.length>0},setAgents:function(a){this.agents.empty();for(var b=0;b<a.length;b++)this.agents.set(a[b].id,a[b]),
this.fire("agent.join",[this,a[b]]);this.fire("agent.change",[this]),this.fire("agents.load",[this])},addAgent:function(a){this.agents.set(a.id,a),this.fire("agent.join",[this,a]),this.fire("agent.change",[this])},getAgent:function(a){return this.agents.get(a)},removeAgent:function(a){if(this.agents.has(a)){var b=this.agents.get(a);this.agents.remove(a),this.fire("agent.leave",[this,b]),this.fire("agent.change",[this])}},removeAgents:function(){this.agents.empty(),this.fire("agent.change",[this]),this.fire("agents.clear",[this])},hasAgent:function(){return this.agents.length>0},setStatus:function(a){this.status!=a&&(this.status=a,this.fire("status",this.getStatus()))},getStatus:function(){return this.hasAgent()?"online":this.status},isOnline:function(){return"offline"!=this.getStatus()},setVariables:function(a,b){(b||a.erase)&&(this.data.variables={},delete a.erase);for(var c in a){var d=a[c];Type.isObject(d)?this.setVariable(c,d.value,d.label):this.setVariable(c,d,c)}},setVariable:function(a,b,c){
this.data.variables[a]={label:c||a,value:b||""}},getVariables:function(){return this.data.variables},getVariable:function(a){return this.data.variables[a]||null},getId:function(){return this.id||(this.id=this.idManager.getId()),this.id},setId:function(a){this.id=a,this.idManager.setId(a)}}),miwo.define("Chat.plugins.AutoClosePlugin",{Extends:Miwo.Object,timeout:300,delay:10,description:void 0,emptyText:void 0,closedIdleText:void 0,styles:void 0,startup:function(a){var b=this,c=a.model,d=a.pluginManager.helper;d.getStyleManager().setStyles("autoclose",{".autoclose-timer":{position:"absolute",bottom:"-1px",right:"10px",padding:"2px 10px","border-radius":"4px 4px 0 0",border:"1px solid #bbb","border-bottom":"none","font-weight":"bold",color:"red",background:"#f9f9f9"},".theme-flat .autoclose-timer":{background:"#fff","border-color":"#e0e0e0"}}),void 0===this.description&&(this.description=$tr("plugins.autoclose.description")),void 0===this.emptyText&&(this.description=$tr("plugins.autoclose.emptyText")),
void 0===this.closedIdleText&&(this.closedIdleText=$tr("plugins.autoclose.closedIdleText")),b.enabled=!0,b.autoClosed="false"!==miwo.cookie.read("ssupp.autoclosed","false"),a.control("#onlinePanel",{typing:function(a,d){b.enabled&&c.hasAgent()&&(d?b.stopClock():b.startClock(),b.resetAutoClosed())}}),c.on({removeagent:function(a,c){a.hasAgent()||(b.stopClock(),b.disableClock())},addmessage:function(a,c){"visitor"==c.type?(b.disableClock(),b.stopClock()):"agent"==c.type&&(b.enableClock(),b.resetClock(),b.startClock(null,!0)),b.resetAutoClosed()},refresh:function(a){if(0===a.messages.length)b.enabled=!1,b.setEmptyText();else if(b.enabled=a.messages.length>0&&"agent"==a.messages.getLast().type,b.enabled&&a.hasAgent()){var c=miwo.cookie.read("ssupp.autoclose");b.startClock(c?parseInt(c,10):null,!0)}}}),this.helper.getConnection().on({typing:function(a,c){b.enabled&&(c?b.stopClock():b.startClock())},channelopen:function(){b.stopClock(),b.disableClock()}})},resetAutoClosed:function(){this.autoClosed&&(this.autoClosed=!1,
miwo.cookie.dispose("ssupp.autoclosed"),this.setEmptyText())},setEmptyText:function(){this.autoClosed&&this.closedIdleText?this.helper.getOnlinePanel().setEmptyText(this.closedIdleText):this.emptyText&&this.helper.getOnlinePanel().setEmptyText(this.emptyText)},enableClock:function(){this.enabled=!0},disableClock:function(){this.enabled=!1},startClock:function(a,b){this.intervalId||this.delayId||(this.delayId=function(){delete this.delayId,this.leftSeconds=a||this.timeout,this.renderClock(this.leftSeconds),this.clockEl.show(),this.intervalId=this.tickClock.periodical(1e3,this)}.delay(b?0:1e3*this.delay,this))},tickClock:function(){this.renderClock(this.leftSeconds),this.leftSeconds--,miwo.cookie.write("ssupp.autoclose",this.leftSeconds),this.leftSeconds<0&&(this.stopClock(),this.helper.getConnection().close("visitorIdle"),miwo.cookie.write("ssupp.autoclosed",!0),this.helper.getOnlinePanel().setEmptyText(this.closedIdleText))},stopClock:function(){this.intervalId&&(clearInterval(this.intervalId),
delete this.intervalId),this.delayId&&(clearInterval(this.delayId),delete this.delayId),this.clockEl&&this.clockEl.hide(),delete this.leftSeconds},resetClock:function(){this.leftSeconds=this.seconds},renderClock:function(a){this.clockEl||(this.clockEl=this.createClock(this.helper.getOnlinePanel().contentEl));var b=a%60,c=Math.floor(a/60);this.clockEl.set("html",c+" : "+(10>b?"0":"")+b)},createClock:function(a){return new Element("div",{parent:a,title:this.description,cls:"autoclose-timer",styles:this.styles})}}),miwo.define("Chat.plugins.Helper",{Extends:Miwo.Object,Implements:[Miwo.Events],Services:{viewport:"viewport",context:"!miwo.container",model:"!chat.model",connection:"!chat.connection"},controller:void 0,getCookie:function(){return miwo.cookie},getConnection:function(){return this.connection},getModel:function(){return this.model},getFrameManager:function(){return this.context.get("chat.frameManager")},getEventManager:function(){return this.context.get("chat.eventManager")},getStyleManager:function(){
return this.context.get("chat.styleManager")},getThemeManager:function(){return this.context.get("chat.themeManager")},getSoundPlayer:function(){return this.context.get("chat.soundPlayer")},getTranslator:function(){return this.context.get("chat.translator")},getService:function(a){return this.context.get(a)},getOnlinePanel:function(){return this.getViewport().online},getOfflinePanel:function(){return this.getViewport().offline},getLoginPanel:function(){return this.getViewport().login},getWidget:function(){return this.getViewport().widget},getSmallWidget:function(){return this.getViewport().smallwidget},getStatus:function(){return this.model.getStatus()},setStatus:function(a){this.model.setStatus(a)},createElement:function(a,b){return new Element(a,b)},createInstance:function(a,b){return miwo.create(a,b)},setOpened:function(a){this.controller.setOpened(a)},getComponent:function(a){return miwo.get(a)}}),miwo.define("Chat.plugins.PluginManager",{Extends:Miwo.Object,Services:{helper:"!chat.pluginHelper"
},registered:{autoclose:"Chat.plugins.AutoClosePlugin",status:"Chat.plugins.StatusPlugin",officehours:"Chat.plugins.OfficehoursPlugin"},plugins:void 0,initialize:function(a){this.parent(a);var b=this.plugins;this.plugins={};for(var c in b)this.installPlugin(c,b[c])},setController:function(a){this.helper.controller=a},getPlugin:function(a){return this.plugins[a]||null},installPlugin:function(a,b){if(!this.plugins[a]){var c=this.registered[a]?miwo.create(this.registered[a],b||{}):b;this.registerPlugin(a,c)}},uninstallPlugin:function(a){this.plugins[a]},registerPlugin:function(a,b){this.plugins[a]=b,b.name=a,b.manager=this,b.helper=this.helper,b._notify={}},notify:function(a,b){var c,d,e=this.plugins;for(d in e)c=e[d],c[a]&&!c._notify[a]&&(c._notify[a]=!0,c[a](b))}}),miwo.define("Chat.plugins.StatusPlugin",{Extends:Miwo.Object,Implements:Miwo.Events,startup:function(a){var b=this;a.model.on("status",function(a){b.processStatus(a)})},processStatus:function(a){switch(a){case"online":this.onOnline&&this.onOnline(),
this.onActive&&this.onActive();break;case"away":this.onAway&&this.onAway(),this.onActive&&this.onActive();break;case"offline":this.onOffline&&this.onOffline(),this.onInactive&&this.onInactive()}}}),miwo.define("Chat.server.Connection",{Extends:Miwo.Object,Implements:[Miwo.Events],debugMode:!1,enabled:!0,buildVersion:!0,chatKey:null,id:null,channelId:null,isVisitorConnected:!1,originalGroup:void 0,persistGroups:!1,data:{visits:null,group:null,name:"",email:"",note:"",lang:"",platform:"",userAgent:"",pageTitle:"",pageUrl:"",domain:"",sitePlatform:null,referer:"",variables:{}},executeVisitorConnectStack:[],initialize:function(a){this.parent(a);var b=this.conn=new Chat.server.SockJsAdapter(a.protocol,a.host);b.on("connect",this.bound("onConnect")),b.on("disconnect",this.bound("onDisconnect")),b.on("disconnected",this.bound("onDisconnected")),b.on("server.error",this.bound("onServerError")),b.on("visitor.connect",this.bound("onVisitorConnect")),b.on("visitor.update",this.bound("onVisitorUpdate")),
b.on("visitor.ban",this.bound("onVisitorBan")),b.on("status.change",this.bound("onStatusChange")),b.on("channel.open",this.bound("onChannelOpen")),b.on("channel.info",this.bound("onChannelInfo")),b.on("channel.message",this.bound("onChannelMessage")),b.on("agent.join",this.bound("onAgentJoin")),b.on("agent.leave",this.bound("onAgentLeave")),b.on("typing",this.bound("onTyping")),b.on("chat.rating",this.bound("onChatRating")),b.on("transfered",this.bound("onTransfered")),b.on("offlinemessage.ack",this.bound("onOfflinemessageAck"))},setHost:function(a){this.conn.host=a},getHost:function(){return this.conn.host},connect:function(){this.isConnectable()&&this.conn.connect()},disconnect:function(){this.conn.disconnect()},reconnect:function(){this.conn.disconnect(),this.conn.reconnect()},isConnected:function(){return this.conn.connected},isConnectable:function(){return this.enabled&&this.host&&this.chatKey},setTyping:function(a){this.isVisitorConnected&&this.emit("typing",{typing:a})},setRating:function(a,b){
this.tryEmit("chat.rating",{value:a,text:b||null})},update:function(a){a=a||{},this.data=Object.merge(this.data,a),void 0!==a.group&&(a.groupId=a.group,delete a.group),this.tryEmit("visitor.update",{data:a})},send:function(a,b,c){a.length>1e3?this.disconnect():this.tryEmit("channel.message",{content:a,name:b,email:c})},close:function(a){this.fire("channelclose",[a]),this.tryEmit("channel.close",{type:a})},notify:function(a,b){this.isVisitorConnected&&this.emit("notify",{name:a,value:b})},updateChannel:function(){this.isVisitorConnected&&this.emit("channel.info",{id:this.id,state:this._state})},sendTranscript:function(a,b){this.isVisitorConnected&&this.emit("chat.transcript",{email:a,lang:b})},onServerError:function(a){this.fire("error",[a.event,a.message])},onConnect:function(){this._state="connect",this.log("ON connect"),this.fire("connect");var a=Object.merge({version:2,buildVersion:this.buildVersion,id:"undefined"!==this.id&&"null"!==this.id&&void 0!==this.id&&this.id?this.id:null,accountKey:this.chatKey
},this.data);a.group=miwo.cookie.read("ssupp.group",this.data.group),a.groupId=a.group,delete a.authenticated,0===Object.getLength(a.variables)&&delete a.variables,this._state="emit_vc",this.emit("visitor.connect",a)},onDisconnect:function(){this._state="disconnect",this.log("ON disconnect"),this.isVisitorConnected=!1},onDisconnected:function(){this.log("ON disconnected"),this.executeVisitorConnectStack.empty(),this.fire("disconnect")},onVisitorConnect:function(a){if(!this.isVisitorConnected){this.isVisitorConnected=!0;var b=miwo.cookie.read("ssupp.chatid",null);b!==a.channelId&&miwo.cookie.dispose("ssupp.unreaded"),this.data.authenticated=a.authenticated,this.id=a.id,this.channelId=a.channelId,this._state="on_vc",this.log("ON visitorconnect",a.channelId,a),this.fire("visitorconnect",[a]),this.updateChannel();var c=this.executeVisitorConnectStack;if(c.length>0){for(var d=0;d<c.length;d++)c[d].call(this);c.empty()}void 0===this.originalGroup&&(this.originalGroup=this.data.group);var e=miwo.cookie.read("ssupp.chatid",null);
miwo.cookie.write("ssupp.chatid",a.channelId),e&&e===a.channelId||miwo.cookie.read("ssupp.group",null)!==this.originalGroup&&(miwo.cookie.dispose("ssupp.group"),this.update({group:this.originalGroup}))}},onVisitorUpdate:function(a){this.persistGroups&&a.data.hasOwnProperty("group")&&(a.data.group?miwo.cookie.write("ssupp.group",a.data.group):miwo.cookie.dispose("ssupp.group")),a.data.hasOwnProperty("authenticated")&&(this.data.authenticated=a.data.authenticated),this.fire("visitorupdate",[a.data])},onVisitorBan:function(a){this.log("ON visitorban",a.banned),this.fire("visitorban",[a.banned])},onChannelOpen:function(a){this.channelId=a.channelId,miwo.cookie.write("ssupp.chatid",a.channelId),this.log("ON channelopen",a.channelId),this.fire("channelopen",[a.channelId]);var b={};miwo.cookie.read("ssupp.group",null)!==this.originalGroup&&(b.group=this.originalGroup,miwo.cookie.dispose("ssupp.group")),this.data.authenticated&&(b.authenticated=!1),Object.getLength(b)>0&&this.update(b)},onAgentJoin:function(a){
this.log("ON agentjoin",a),this.fire("agentjoin",[a])},onAgentLeave:function(a){this.log("ON agentleave",a),this.fire("agentleave",[a.id])},onStatusChange:function(a){this.log("ON status",a.status),this.fire("status",[a.status])},onTyping:function(a){this.log("ON typing",a.typing,a.name),this.fire("typing",[a.typing,a.name])},onChannelInfo:function(a){for(var b in a.messages)a.messages[b].sentAt=new Date(a.messages[b].sentTime||a.messages[b].sentAt);this.log("ON channelinfo",a.messages,a.agents,a.rating),this.fire("channelinfo",[a.messages,a.agents,a.rating])},onChannelMessage:function(a){a.sentAt=new Date(a.sentTime||a.sentAt),this.log("ON channelmessage",a),this.fire("channelmessage",[a])},onOfflinemessageAck:function(a){this.log("ON offlinemessage.ack",a),this.fire("offlinemessage",[a.isSent])},onTransfered:function(a){this.log("ON transfered",a),this.fire("transfered",[a.from,a.to])},onChatRating:function(a){this.log("ON chat.rating",a),this.fire("rating",[a.value,a.text])},tryEmit:function(a,b){
this.isVisitorConnected?this.emit(a,b):this.isConnected()&&this.executeOnVisitorConnect(function(){this.emit(a,b)})},emit:function(a,b){this.conn&&(this.log("EMIT "+a,b),this.conn.emit(a,b))},log:function(a,b,c){this.debugMode&&miwo.log.apply(miwo,Array.slice(arguments))},executeOnVisitorConnect:function(a){this.executeVisitorConnectStack.push(a)}}),miwo.define("Chat.server.ConnectionFactory",{Extends:Miwo.Object,host:"",protocol:"https",create:function(a,b){return new Chat.server.Connection(Object.merge({},b,{protocol:this.protocol,host:this.host,id:a.getId(),data:a.get()}))}}),miwo.define("Chat.server.SockJsAdapter",{Implements:[Miwo.Events],connected:!1,connecting:!1,reconnecting:!1,reconnectAttempts:0,maxReconnectAttempts:5,reconnectDelay:500,maxReconnectDelay:16e3,disconnectDelay:2e3,initialize:function(a,b){this.protocol=a,this.host=b},connect:function(){var a=this;this.connected||(this.connecting=!0,this.connected=!1,this.socket=new SockJS(this.protocol+"://"+this.host+"/chat"),this.socket.onopen=function(){
a.onConnect()},this.socket.onmessage=function(b){a.updateHeartbeatTimeout(),a.onMessage(b)},this.socket.onclose=function(b){a.onDisconnect(b)},this.socket.onheartbeat=function(b){a.updateHeartbeatTimeout(),a.socket.send("")})},disconnect:function(){this.socket&&this.socket.close(null,"booted")},reconnect:function(a){(function(){this.connect()}).delay(a||0,this)},updateHeartbeatTimeout:function(){this.heartbeatId&&window.clearTimeout(this.heartbeatId),this.heartbeatId=function(){this.socket&&(console&&console.log("RECONNECT: Heartbeat missed"),this.socket.close(null,"reconnect"))}.delay(6e4,this)},onConnect:function(){this.connecting=!1,this.connected=!0,this.reconnectAttempts=0,this.reconnectDelay=500,this.reconnecting=!1,this.wasDisconnected=!1,this.fire("connect")},onDisconnect:function(a){if(this.connecting=!1,this.connected=!1,delete this.socket,this.fire("disconnect"),function(){this.connected||this.wasDisconnected||(this.wasDisconnected=!0,this.fire("disconnected"))}.delay("booted"==a.reason?0:this.disconnectDelay,this),
"booted"!=a.reason&&this.maxReconnectAttempts>this.reconnectAttempts){var b=this.reconnectDelay;this.reconnectAttempts++,this.reconnectDelay=Math.min(this.maxReconnectDelay,2*this.reconnectDelay),this.reconnecting=!0,this.reconnect(b)}},onMessage:function(a){if(a.data)try{var b=JSON.decode(a.data);this.fire(b.name,b.data)}catch(c){console&&console.error(c.message,c.stack)}},emit:function(a,b){this.updateHeartbeatTimeout(),b?this.socket.send(JSON.stringify({name:a,data:b})):this.socket.send(JSON.stringify({name:a}))}}),miwo.define("Chat.sounds.FlashAdapter",{Extends:Chat.sounds.SoundAdapter,src:"",path:"",initialize:function(a){this.parent(a),Browser.Plugins.Flash.version>=10&&(this.object=this.frameManager.createEmbed("soundPlayer",'<object id="smartchatSoundPlayer" name="smartchatSoundPlayer" data="'+this.src+'" type="application/x-shockwave-flash" width="1" height="1"><param name="allowScriptAccess" value="always"><param name="movie" value="'+this.src+'"><param name="flashvars" value="soundPath='+this.path+'"></object>').getElementsByTagName("object")[0]);
},play:function(a,b){this.object&&"undefined"!=typeof this.object.playSound&&this.object.playSound(a,(10*b/100).toInt())},doDestroy:function(){this.object&&$destroy(this.object)}}),miwo.define("Chat.sounds.HtmlAdapter",{Extends:Chat.sounds.SoundAdapter,path:"",elements:{},play:function(a,b){var c=this.getAudioObject(a);c.volume=b/100,c.play()},getAudioObject:function(a){return this.elements[a]||(this.elements[a]=new Element("audio",{parent:miwo.body,styles:{display:"none"}}),this.elements[a].set("src",this.path+"/"+a)),this.elements[a]}}),miwo.define("Chat.sounds.SoundAdapterFactory",{Static:{create:function(a,b){return this.isSupportedMpeg()?a.createInstance("Chat.sounds.HtmlAdapter",b):a.createInstance("Chat.sounds.FlashAdapter",b)},isSupportedMpeg:function(){var a=document.createElement("audio");return"function"==typeof a.canPlayType&&""!==a.canPlayType("audio/mpeg")}}}),miwo.define("Chat.theme.BaseTheme",{refresh:function(a){this.helper=a.getHelper(),this.variables=this.loadVariables(a.colors,a.options),
a.setStyles(this.loadStyles().getStyles())},loadVariables:function(a,b){var c={},d=this.helper;return c.radius=b.radius||0===b.radius?b.radius:4,c.primary=a.primary,c.primaryText=a.primaryText||d.getInverseColor(c.primary,80),c.primaryTextColor=a.primaryTextColor||(d.isLight(c.primary)?d.getColor(c.primary,-50):c.primary),c.widgetWidth=b.widgetWidth||"auto",c.widgetHeight=b.widgetHeight||35,c.widgetBg=b.widgetBg||a.widget||a.primary,c.widgetColor=b.widgetColor||a.widgetText||c.primaryText,c.widgetShadow=b.widgetShadow||d.getInverseColor(c.widgetBg,-30),c.widgetBorderColor=b.widgetBorderColor||d.getColor(c.widgetBg,-20),c.widgetRadius=b.widgetRadius||0===b.widgetRadius?b.widgetRadius:c.radius,c.widgetSize=b.widgetSize||Math.min(Math.round(c.widgetHeight/3),18),c.widgetIconColor=b.widgetIconColor||c.widgetColor,c.buttonHeight=b.buttonHeight||35,c.buttonBg=b.buttonBg||c.widgetBg,c.buttonColor=b.buttonColor||d.getColor(c.buttonBg,d.isLight(c.buttonBg)?-60:80),c.buttonBorderColor=b.buttonBorderColor||d.getColor(c.buttonBg,-20),
c.buttonIconBg=b.buttonIconBg||d.getColor(c.buttonBg,-2),c.buttonIconColor=b.buttonIconColor||c.buttonColor,c.buttonIconBorderColor=b.buttonIconBorderColor||d.getColor(c.buttonBg,-15),c.buttonSize=b.buttonSize||Math.min(Math.round(c.buttonHeight/3),18),c.buttonPadding=Math.round(c.buttonHeight/5),c.buttonRadius=b.buttonRadius||0===b.buttonRadius?b.buttonRadius:c.radius,c.panelWidth=b.panelWidth||260,c.panelHeight=b.panelHeight||400,c.panelBg=b.panelBg||"#ffffff",c.panelColor=b.panelColor||"#666666",c.panelBorderColor=b.panelBorderColor||"#bbbbbb",c.panelBorderLight=b.panelBorderLight||d.getRgbaColor("#000000","0.2"),c.panelBorderLighter=b.panelBorderLighter||d.getRgbaColor("#000000","0.1"),c.panelHeaderBg=b.panelHeaderBg||c.primary,c.panelHeaderColor=b.panelHeaderColor||c.primaryText,c.panelHeaderBorderColor=b.panelHeaderBorderColor||d.getColor(c.panelHeaderBg,-20),c.panelHeaderRadius=b.panelHeaderRadius||0===b.panelHeaderRadius?b.panelHeaderRadius:c.radius,c.panelHeaderHeight=b.panelHeaderHeight||27,
c.panelHeaderSize=b.panelHeaderSize||Math.round(c.panelHeaderHeight/2.3),c.panelHeaderMargin=b.panelHeaderMargin||0,c.panelInfoHeight=b.panelInfoHeight||50,c.panelInfoVisible=void 0!==b.panelInfoVisible?b.panelInfoVisible:!0,c.panelInfoBg=b.panelInfoBg||"transparent",c.panelFooterBg=b.panelFooterBg||"transparent",c.panelFooterPadding=b.panelFooterPadding||5,c.offlineWidth=b.offlineWidth||c.panelWidth,c.offlineHeight=b.offlineHeight||c.panelHeight,c.loginWidth=b.loginWidth||c.panelWidth,c.loginHeight=b.loginHeight||c.panelHeight,c.toolBg=b.toolBg||"transparent",c.toolColor=b.toolColor||("transparent"!==c.toolBg?d.getInverseColor(c.toolBg,80):"inherit"),c.toolRadius=b.toolRadius||0===b.toolRadius?b.toolRadius:c.radius-1,c.toolHeight=b.toolHeight||Math.round(c.panelHeaderHeight/1.6),c.btnPrimaryBg=b.btnPrimaryBg||c.primary,c.btnPrimaryColor=b.btnPrimaryColor||c.primaryText,c.btnPrimaryDark1=d.getColor(c.btnPrimaryBg,-10),c.btnPrimaryDark2=d.getColor(c.btnPrimaryBg,-15),c.btnPrimaryDark3=d.getColor(c.btnPrimaryBg,-20),
c.btnRadius=b.btnRadius||0===b.btnRadius?b.btnRadius:c.radius-1,c.inputRadius=c.radius-1,c.inputBorderColor=c.panelBorderLight,c.inputBorderFocusColor=b.inputBorderFocusColor||d.getRgbaColor(c.primary,"0.4"),c.messageAgentColor=b.messageAgentColor,c.messageAgentBorder=b.messageAgentBorder,c.messageAgentBg=b.messageAgentBg,c.messageVisitorColor=b.messageVisitorColor,c.messageVisitorBorder=b.messageVisitorBorder,c.messageVisitorBg=b.messageVisitorBg,c.ratingSmile1Color=b.ratingSmile1Color||"#d1330e",c.ratingSmile2Color=b.ratingSmile2Color||"#f05823",c.ratingSmile3Color=b.ratingSmile3Color||"#f0aa23",c.ratingSmile4Color=b.ratingSmile4Color||"#b3bc26",c.ratingSmile5Color=b.ratingSmile5Color||"#259702",c.bannerBg=b.bannerBg||a.banner,c.bannerBorder=b.bannerBorder||a.bannerBorder||d.getInverseColor(c.bannerBg,-20),c.bannerTitle=b.bannerTitle||a.bannerTitle||c.bannerBg,c.bannerDesc=b.bannerDesc||a.bannerDesc||d.getInverseColor(c.bannerTitle,20),c.bannerText=b.bannerText||a.bannerText||d.getInverseColor(c.bannerBg,80),
c},loadStyles:function(){var a=this.variables,b=new Chat.theme.Styles;b.set(".panel-header",{height:a.panelHeaderHeight+"px",color:a.panelHeaderColor,"background-color":a.panelHeaderBg,"line-height":a.panelHeaderHeight+"px","border-color":a.panelHeaderBorderColor,"border-top-radius":a.panelHeaderRadius+"px","font-size":a.panelHeaderSize+"px"}),b.set(".panel-header .panel-tools",{"margin-top":"-"+Math.round(a.toolHeight/2)+"px"}),b.set(".panel-body",{top:a.panelHeaderHeight+"px","border-color":a.panelBorderColor}),b.set(".panel-info",{height:a.panelInfoHeight+"px",display:a.panelInfoVisible?"block":"none","background-color":a.panelInfoBg,"border-bottom-color":a.panelBorderLighter}),b.set(".panel-content",{top:a.panelInfoVisible?a.panelInfoHeight+"px":"0px",bottom:90+2.5*a.panelFooterPadding+"px","border-bottom-color":a.panelBorderLighter}),b.set(".panel-footer",{height:90+2.5*a.panelFooterPadding+"px","background-color":a.panelFooterBg,padding:a.panelFooterPadding+"px"}),b.set(".panel-body",{
color:a.panelColor,"background-color":a.panelBg}),a.panelInfoVisible||b.set(".panel-online .panel-title",{"text-align":"left","padding-left":"0px"}),a.panelHeaderMargin&&b.set(".panel-online .panel-title",{"margin-left":a.panelHeaderMargin+"px"}),b.set(".tools .tool",{width:a.toolHeight+"px",color:a.toolColor,"background-color":a.toolBg,"border-radius":a.toolRadius+"px","line-height":a.toolHeight+"px"});var c=Math.round((a.widgetHeight-10)/2)+25;return b.set(".widget",{color:a.widgetColor,"background-color":a.widgetBg,"border-color":a.widgetBorderColor,"text-shadow":"0px 0px 1px "+a.widgetShadow,"border-top-radius":a.widgetRadius+"px","font-size":a.widgetSize+"px","padding-right":Math.round((a.widgetHeight-10)/2)+"px","padding-left":c+"px"}),b.set(".widget-icon",{width:c+"px",color:a.widgetIconColor,"font-size":a.widgetSize+2+"px"}),b.set(".widget-text,.widget-icon",{height:a.widgetHeight+"px","line-height":a.widgetHeight-3+"px"}),b.set(".button",{color:a.buttonColor,"background-color":a.buttonBg,
"border-color":a.buttonBorderColor,"border-radius":a.buttonRadius+"px","line-height":a.buttonHeight+"px","font-size":a.buttonSize+2+"px"}),b.set(".button-icon",{color:a.buttonIconColor,"background-color":a.buttonIconBg,"border-right-color":a.buttonIconBorderColor,"padding-left":a.buttonPadding+"px","padding-right":a.buttonPadding+"px"}),b.set(".button-text",{"padding-left":3*a.buttonPadding+.7*a.buttonHeight+"px","padding-right":2*a.buttonPadding+"px"}),b.set(".btn",{"border-radius":a.btnRadius+"px"}),b.set(".btn-primary",{color:a.btnPrimaryColor,"background-color":a.btnPrimaryBg,"border-color":a.btnPrimaryDark1}),b.set(".btn-primary:hover,.btn-primary:focus,.btn-primary:active",{color:a.btnPrimaryColor,"background-color":a.btnPrimaryDark1,"border-color":a.btnPrimaryDark3}),b.set(".btn-primary:active,.btn-primary.active",{"background-color":a.btnPrimaryDark2+" \\9"}),b.set(".form-control",{"border-color":a.inputBorderColor,"border-radius":a.inputRadius}),b.set(".rating .icon-smile-1",{color:a.ratingSmile1Color
}),b.set(".rating .icon-smile-2",{color:a.ratingSmile2Color}),b.set(".rating .icon-smile-3",{color:a.ratingSmile3Color}),b.set(".rating .icon-smile-4",{color:a.ratingSmile4Color}),b.set(".rating .icon-smile-5",{color:a.ratingSmile5Color}),b},getSize:function(a){var b=this.variables;switch(a){case"widget":return{width:b.widgetWidth,height:b.widgetHeight};case"button":return{width:"auto",height:b.buttonHeight};case"online":return{width:b.panelWidth,height:b.panelHeight};case"offline":return{width:b.offlineWidth,height:b.offlineHeight};case"login":return{width:b.loginWidth,height:b.loginHeight}}}}),miwo.define("Chat.theme.DefaultTheme",{Extends:Chat.theme.BaseTheme,install:function(){miwo.body.addClass("theme-default")},uninstall:function(){miwo.body.removeClass("theme-default")},loadVariables:function(a,b){return this.parent(a,Object.merge({panelHeight:400,panelWidth:260,offlineWidth:300,offlineHeight:400,loginWidth:300,loginHeight:400,widgetHeight:35,panelFooterBg:"#f5f5f5",messageAgentColor:"#02b0e5",
messageVisitorColor:"#77b329"},b))},loadStyles:function(){var a=this.parent(),b=this.variables,c=this.helper;return a.set(".panel-header",{"background-gradient":[b.panelHeaderBg,c.getColor(b.panelHeaderBg,-2)],"text-shadow":"0 0px 1px "+c.getInverseColor(b.panelHeaderColor,80),"border-bottom-color":c.getColor(b.panelHeaderBg,-20)}),a.set(".btn-primary",{"background-gradient":[b.btnPrimaryBg,b.btnPrimaryDark1],"border-color":b.btnPrimaryDark1+" "+b.btnPrimaryDark1+" "+b.btnPrimaryDark3}),a.set(".btn-primary:hover,.btn-primary:focus,.btn-primary:active",{color:b.btnPrimaryColor,"background-gradient":[b.btnPrimaryDark1,b.btnPrimaryDark1]}),a.set(".message-agent .username",{color:b.messageAgentColor}),a.set(".message-visitor .username",{color:b.messageVisitorColor}),a}}),miwo.define("Chat.theme.FlatTheme",{Extends:Chat.theme.BaseTheme,install:function(){miwo.body.addClass("theme-flat")},uninstall:function(){miwo.body.removeClass("theme-flat")},loadVariables:function(a,b){return this.parent(a,Object.merge({
panelHeight:420,panelWidth:300,offlineHeight:420,loginHeight:400,widgetHeight:35},b))},loadStyles:function(){var a=this.parent(),b=this.variables,c=this.helper;return b.messageAgentBg||(b.messageAgentBg=c.getLightColor(b.primary,.1)),b.messageAgentBorder||(b.messageAgentBorder=c.getLightColor(b.primary,.2)),b.messageVisitorBg||(b.messageVisitorBg="#ffffff"),b.messageVisitorBorder||(b.messageVisitorBorder="#ececec"),a.set(".panel-header",{"border-bottom":"none"}),a.set(".panel-info .info-box h4",{color:b.primaryTextColor}),a.set(".theme-flat .message-agent",{color:b.messageAgentColor,background:b.messageAgentBg,"border-color":b.messageAgentBorder}),a.set(".theme-flat .message-agent .time",{color:c.getInverseColor(b.messageAgentBg,20)}),a.set(".theme-flat .message-agent:before",{"border-color":"transparent "+b.messageAgentBorder}),a.set(".theme-flat .message-agent:after",{"border-color":"transparent "+b.messageAgentBg}),a.set(".theme-flat .message-visitor",{background:b.messageVisitorBg,"border-color":b.messageVisitorBorder,
color:b.messageVisitorColor}),a.set(".theme-flat .message-visitor .time",{color:c.getInverseColor(b.messageVisitorBg,20)}),a.set(".theme-flat .message-visitor:before",{"border-color":"transparent "+b.messageVisitorBorder}),a.set(".theme-flat .message-visitor:after",{"border-color":"transparent "+b.messageVisitorBg}),a.set(".btn-primary",{border:"none"}),a.set('textarea:focus, input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus',{"border-color":b.inputBorderFocusColor,"box-shadow":"inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 4px "+b.inputBorderFocusColor}),a}}),miwo.define("Chat.theme.Helper",{Extends:Miwo.Object,getColor:function(a,b){return this.makeColor(this.shade(this.parseColor(a),b/100*255))},getInverseColor:function(a,b){var c=this.parseColor(a),d=b/100*255;return this.makeColor(this.shade(c,this.detectLight(c)?-d:d))},getLightColor:function(a,b){var c=this.parseColor(a),d=1-b,e=[];return e[0]=Math.round(255*(b*(c[0]/255)+d)),e[1]=Math.round(255*(b*(c[1]/255)+d)),
e[2]=Math.round(255*(b*(c[2]/255)+d)),this.makeColor(e)},getRgbaColor:function(a,b){var c=this.parseColor(a);return"rgba("+c[0]+","+c[1]+","+c[2]+","+b+")"},isLight:function(a){return this.detectLight(this.parseColor(a))},makeColor:function(a){var b=1==a[0].toString(16).length?"0"+a[0].toString(16):a[0].toString(16),c=1==a[1].toString(16).length?"0"+a[1].toString(16):a[1].toString(16),d=1==a[2].toString(16).length?"0"+a[2].toString(16):a[2].toString(16);return"#"+b+c+d},parseColor:function(a){var b=parseInt(a.substring(1,3),16),c=parseInt(a.substring(3,5),16),d=parseInt(a.substring(5,7),16);return[b,c,d]},shade:function(a,b){for(var c,d=3;d--;a[d]=0>c?0:c>255?255:0|c)c=a[d]+b;return a},detectLight:function(a){return Math.sqrt(.299*(a[0]*a[0])+.587*(a[1]*a[1])+.114*(a[2]*a[2]))>180}}),miwo.define("Chat.theme.MobileTheme",{Extends:Chat.theme.FlatTheme,install:function(){this.parent(),miwo.body.addClass("theme-mobile")},uninstall:function(){this.parent(),miwo.body.removeClass("theme-mobile");
}}),miwo.define("Chat.theme.StyleManager",{Extends:Miwo.Object,styles:void 0,initialize:function(a){if(this.parent(a),this.styles){for(var b in this.styles)this.setStyles(b,this.styles[b]);delete this.styles}},setStyles:function(a,b){var c="customstyle_"+a,d=$(c);d&&d.destroy(),Type.isString(b)||(b=this.formatStyles(b)),b&&(d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("id",c),d.setAttribute("nonce",miwo.nonce),document.getElementsByTagName("head")[0].appendChild(d),d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b)))},formatStyles:function(a){var b="\n";for(var c in a){b+=c+"{";var d=a[c];for(var e in d){var f=d[e];if("background-gradient"==e){var g=f[0],h=f[1];b+="background-image: -moz-linear-gradient(top, "+g+", "+h+");background-image: -webkit-gradient(linear, 0 0, 0 100%, from("+g+"), to("+h+"));background-image: -webkit-linear-gradient(top, "+g+", "+h+");background-image: -o-linear-gradient(top, "+g+", "+h+");background-image: linear-gradient(to bottom, "+g+", "+h+");filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"+g.replace("#","#ff")+"', endColorstr='"+h.replace("#","#ff")+'\', GradientType=0)";filter: "progid:DXImageTransform.Microsoft.gradient(enabled = false)";';
}else b+="border-top-radius"==e?"-webkit-border-top-left-radius: "+f+";-webkit-border-top-right-radius: "+f+";-moz-border-radius-topleft: "+f+";-moz-border-radius-topright: "+f+";border-top-left-radius: "+f+";border-top-right-radius: "+f+";":"border-top-left-radius"==e?"-webkit-border-top-left-radius: "+f+";-moz-border-radius-topleft: "+f+";border-top-left-radius: "+f+";":"border-top-right-radius"==e?"-webkit-border-top-right-radius: "+f+";-moz-border-radius-topright: "+f+";border-top-right-radius: "+f+";":"box-shadow"==e?"-webkit-box-shadow: "+f+";-moz-box-shadow: "+f+";box-shadow: "+f+";":e+":"+f+";"}b+="}\n"}return b}}),miwo.define("Chat.theme.Styles",{styles:{},set:function(a,b){this.styles[a]?this.styles[a]=Object.merge(this.styles[a],b):this.styles[a]=b},getStyles:function(){return this.styles}}),miwo.define("Chat.theme.ThemeManager",{Extends:Miwo.Object,Implements:[Miwo.Events],name:"def",colors:{primary:"#f5f5f5",banner:"#484848",widget:""},options:{},banner:null,theme:null,styleManager:null,
initialize:function(a){this.parent(a),this.helper=new Chat.theme.Helper,this.themes={flat:Chat.theme.FlatTheme,mobile:Chat.theme.MobileTheme,"default":Chat.theme.DefaultTheme}},loadTheme:function(){this.theme||this.setTheme(this.name,!0)},setTheme:function(a,b){this.theme&&this.theme.uninstall(),this.theme=new(this.themes[a]?this.themes[a]:this.themes["default"]),this.theme.install(),b&&this.refresh()},setBanner:function(a){this.banner=a,this.banner.refresh(this)},refresh:function(){this.theme&&this.theme.refresh(this),this.banner&&this.banner.refresh(this)},setColors:function(a){for(var b in a)this.updateColor(b,a[b]);this.refresh(),this.fire("colors",[this,a])},setColor:function(a,b){var c={};b?(this.updateColor(a,b),c[a]=b):(this.updateColor("primary",a),c.primary=a,this.updateColor("widget",a),c.widget=a),this.refresh(),this.fire("colors",[this,c])},updateColor:function(a,b){this.colors[a]=this.parseColor(b)},setOptions:function(a,b){this.options=Object.merge(b?{}:this.options,a),this.refresh(),
this.fire("options",[this,a])},setOption:function(a,b){this.options[a]=b,this.refresh();var c={};c[a]=b,this.fire("options",[this,c])},getOptions:function(){return this.options},getOption:function(a){return this.options[a]},getColor:function(a,b){return this.colors[a]?b?this.getHelper().getColor(this.colors[a],b):this.colors[a]:null},getInverseColor:function(a,b){return this.colors[a]?b?this.getHelper().getInverseColor(this.colors[a],b):this.colors[a]:null},parseColor:function(a){if(/^#?[a-f0-9]{6}$/i.test(a))return 6===a.length?"#"+a:a;if(/^#?[a-f0-9]{3}$/i.test(a)){var b=3===a.length?0:1;return"#"+[a.charAt(b+0),a.charAt(b+0),a.charAt(b+1),a.charAt(b+1),a.charAt(b+2),a.charAt(b+2)].join("")}return"#000000"},setStyles:function(a){this.styleManager.setStyles("theme",a)},getHelper:function(){return this.helper}}),miwo.namespace("Chat.utils"),Chat.utils.Element={setCaretPosition:function(a,b){if(a.value=a.value,void 0===b&&(b=a.value.length),a.createTextRange){var c=a.createTextRange();c.move("character",b),
c.select()}else a.selectionStart||0===a.selectionStart?(a.focus(),a.setSelectionRange(b,b)):a.focus()}},miwo.define("Chat.utils.FrameManager",{Extends:Miwo.Object,Implements:[Miwo.Events],el:null,alignX:"right",alignY:"bottom",offsetX:10,offsetY:100,managed:{},visible:!0,active:null,isMoved:!1,expandMode:!1,preventUpdate:!1,initialize:function(a){this.parent(a),this.el&&Type.isFunction(this.el)&&(this.el=this.el()),this.el&&(miwo.componentManager.on({register:function(a){a.frameManage&&this.register(a)}.bind(this)}),Browser.ie&&Browser.version<9&&"side"==this.alignY&&(this.alignY="bottom"),this.setVisible(this.visible))},register:function(a){this.managed[a.name]=a,a.setFrameMgr&&a.setFrameMgr(this),a.on("resize",function(){this.updateSize()}.bind(this)),a.on("show",function(a){this.active=a,this.updateSize()}.bind(this)),a.on("hide",function(){this.updateSize()}.bind(this))},updateSize:function(){this.preventUpdate||this.expandMode||(this.setSize(this.detectSize()),this.syncPosition())},
setExpandMode:function(a,b){this.expandMode=a,a?(this.setPosition(b||{top:0,left:0}),this.setSize({width:"100%",height:"100%"})):(b?this.setPosition(b):this.resetPosition(),this.updateSize())},setSize:function(a){a.hasOwnProperty("width")&&this.setStyle("width","string"==typeof a.width?a.width:a.width+"px"),a.hasOwnProperty("height")&&this.setStyle("height","string"==typeof a.height?a.height:a.height+"px")},getSize:function(){return{width:this.el.style.width,height:this.el.style.height}},getPosition:function(){return{left:this.el.offsetLeft,top:this.el.offsetTop}},setPosition:function(a){this.isMoved=!0,this.position=a,this.syncPosition()},resetPosition:function(){this.isMoved=!1,this.position=null,this.syncPosition()},show:function(){this.visible=!0,this.setStyle("display","block")},hide:function(){this.visible=!1,this.setStyle("display","none")},setVisible:function(a){this[a?"show":"hide"]()},setStyle:function(a,b){this.el.style[a]=b},setAlign:function(a,b,c,d){this.alignX=a||this.alignX||"right",
this.alignY=b||this.alignY||"bottom",this.offsetX=0===c?0:c?c:this.offsetX,this.offsetY=0===d?0:d?d:this.offsetY,Browser.ie&&Browser.version<9&&"side"==this.alignY&&(this.alignY="bottom"),this.fire("alignchange",[this,this.alignX,this.alignY])},syncPosition:function(){var a=this.active,b=this.getSize();if(miwo.body.removeClass("frame-align-bottom").removeClass("frame-align-side"),miwo.body.removeClass("frame-align-left").removeClass("frame-align-right"),!this.isMoved||a&&("widget"==a.name||"button"==a.name)){var c=a&&a.frameAlignX?a.frameAlignX:this.alignX,d=a&&a.frameAlignY?a.frameAlignY:this.alignY,e="100%"===b.width?0:this.offsetX,f="100%"===b.width?0:this.offsetY,g=null,h=null,i=null,j=null;"side"==d?(g=f+"px","left"==c?h="0px":i="0px"):(j="-4px","left"==c?h=e+"px":i=e+"px"),this.setStyle("top",g),this.setStyle("bottom",j),this.setStyle("left",h),this.setStyle("right",i),miwo.body.addClass("frame-align-"+c),miwo.body.addClass("frame-align-"+d),miwo.body.removeClass("frame-dragged")}else this.position&&(this.setStyle("top",this.position.top+"px"),
this.setStyle("left",this.position.left+"px"),this.setStyle("bottom",null),this.setStyle("right",null),miwo.body.addClass("frame-dragged"))},detectSize:function(){var a=0,b=0;for(var c in this.managed){var d=this.managed[c];if(d.isVisible()){var e=d.getSize();("100%"==d.height||"100%"==d.el.getStyle("height"))&&(e.height="100%"),("100%"==d.width||"100%"==d.el.getStyle("width"))&&(e.width="100%"),"100%"!==a&&("100%"===e.height?a=e.height:e.height&&(a=Math.max(a,e.height))),"100%"!==b&&("100%"===e.width?b=e.width:e.width&&(b=Math.max(b,e.width)))}}return{width:"100%"===b?b:b+10,height:"100%"===a?a:a+10}},createEmbed:function(a,b){var c=this.el.ownerDocument,d=c.createElement("div");d.id="smartsupp-"+a,d.style.width="1px",d.style.height="1px",d.style.position="fixed";var e=c.getElementsByTagName("body")[0];return e.insertBefore(d,e.childNodes[0]),d.innerHTML=b,c.getElementById(d.id)}}),miwo.define("Chat.utils.IdManager",{Extends:Miwo.Object,chatKey:null,keyName:null,multiAccounts:!1,getId:function(){
return miwo.cookie.read(this.getCookieName(),miwo.cookie.read("ssupp_vid",null))},setId:function(a){miwo.cookie.write(this.getCookieName(),a,{duration:180})},getCookieName:function(){var a=this.keyName;return this.multiAccounts&&(a+="_"+this.chatKey),a}}),miwo.define("Chat.utils.Translator",{Extends:Miwo.Object,lang:void 0,defaultLang:void 0,browserLang:"en",translates:void 0,initialize:function(a){this.parent(a),this.lang&&(this.lang=this.detectLang(this.lang),Locale.use(this.lang)),this.translates&&(this.setTranslates(this.translates),delete this.translates)},setDefaultLang:function(a){this.defaultLang=a},setLanguage:function(a){a=this.detectLang(a),this.lang!=a&&(Locale.use(a),this.lang=a,this.translate())},getLanguage:function(){return Locale.getCurrent().name},setTranslates:function(a,b,c){if(Type.isArray(Object))for(var d=0;d<a.length;d++)this.setTranslates(a[d].list,a[d].name,a[d].parent);else b=b||this.lang,this.hasLang(b)?Locale.define(b,"app",a):(Locale.define(b,"app",a),Locale.inherit(b,c||"en"));
},setTranslate:function(a,b,c){for(var d,e={},f=a.split("."),g=0;g+1<f.length;g++)d=e[f[g]]={};d[f[f.length-1]]=b,Locale.define(c?this.detectLang(c):this.lang,"app",e)},getTranslates:function(){return Locale.get("app")},translate:function(){this.viewport&&this.viewport.translate()},detectLang:function(a){return"browser"==a||"auto"==a?this.browserLang:this.hasLang(a)?a:"en"},hasLang:function(a){return Locale.list().indexOf(a)>=0}}),miwo.define("App.view.banner.Banner",{Extends:Miwo.component.Component,name:"banner",animate:!0,animateDelay:1e3,translatable:!1,paintEl:null,beforeInit:function(){this.parent(),this.height=140,this.bottom=35,this.left=0,this.right=0,this.visible=!1,this.componentCls="banner"},open:function(){this.show(),this.fire("open",this)},close:function(){this.hide(),this.fire("close",this)},update:function(a){this.rendered&&this.updateBanner(this.paintEl,a,this.bound("onBannerRendered"))},render:function(a,b){this.isRenderable()&&this.parent(a,b)},refresh:function(a){this.updateColors(a),
this.update()},translate:function(){this.updateTranslates(),this.update()},doShow:function(){this.parent(),this.isAnimated||this.afterAnimate()},beforeRender:function(){this.parent(),this.html='<div class="banner-layout miwo-ct"><div class="banner-paint" miwo-reference="paintEl"></div></div>'},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),this.renderBanner(this.paintEl,this.bound("onBannerRendered"))},setTranslateable:function(a){this.translatable=a},onClick:function(a){a.stop(),this.fire("click",this)},onCloseClick:function(a){a.stop(),this.close()},isRenderable:function(){return!0},updateTranslates:function(){},updateColors:function(a){},renderBanner:function(a,b){},updateBanner:function(a,b,c){},onBannerRendered:function(a){this.isAnimated||(this.beforeAnimate(),this.fire("bannerready",[this]),this.animate&&!a&&"true"===miwo.cookie.read("ssupp.animbnr","true")?this.animateBanner(this.afterAnimate.bind(this)):this.afterAnimate())},beforeAnimate:function(){
this.isAnimated=!0},afterAnimate:function(){this.isAnimated=!1},animateBanner:function(a){var b,c,d=this;this.paintEl.setStyle("bottom",-this.height),b=new Fx.Tween(this.paintEl,{duration:200,transition:"quad:in",link:"cancel",property:"bottom",onComplete:function(){c.start(d.bottom,0)}}),c=new Fx.Tween(this.paintEl,{duration:800,transition:"bounce:out",link:"cancel",property:"bottom",onComplete:function(){a()}}),this.animateDelay?function(){b.start(-d.height,d.bottom)}.delay(this.animateDelay):b.start(-d.height,d.bottom),miwo.cookie.write("ssupp.animbnr","false")}}),miwo.define("App.view.Panel",{Extends:Miwo.component.Container,logoUrl:"",logoSrc:"",logoSmSrc:"",brandText:"",policyText:"",policyUrl:"",doInit:function(){this.parent(),this.logoSrc=this.policyUrl?this.logoSmSrc:this.logoSrc},doShow:function(){this.parent(),this.footerMaskEl&&(this.footerMaskEl.show(),setTimeout(function(){this.footerMaskEl.hide()}.bind(this),300))},renderBrand:function(){return'<div class="brand">'+this.renderBrandLogo()+(this.policyUrl?'<a rel="nofollow" class="brand-notice" href="'+this.policyUrl+'" target="_blank">'+(this.policyText?this.policyText:$tr("app.common.policyText"))+"</a>":"")+"</div>";
},renderBrandLogo:function(){return"white_label"===this.logoSrc?"":this.logoSrc?'<a rel="nofollow" class="brand-logo brand-logo-img" href="'+this.logoUrl+'" target="_blank"><img src="'+this.logoSrc+'"/></a>':this.brandText?'<span class="brand-logo">'+this.brandText+"</span>":void 0}}),miwo.define("App.view.FormPanel",{Extends:App.view.Panel,Implements:[Miwo.utils.Maskable,Miwo.utils.Translatable],title:"",notice:"",hideable:!0,privacyNoticeEnabled:!1,beforeInit:function(){this.parent(),this.frameManage=!0,this.visible=!1,this.width=260,this.height=400,this.componentCls="panel panel-offline"},doInit:function(){this.parent();var a=this.addComponent("scrollpane",new Miwo.panel.Scrollpane);this.onInitComponents(a)},onInitComponents:function(a){this.notice=a.add("notice",this.createComponentNotice()),this.form=a.add("form",this.createComponentForm()),this.privacy=a.add("privacy",this.createComponentPrivacy())},createComponentNotice:function(){return new App.view.offline.Notice({notice:this.notice
})},createComponentForm:function(){var a=new App.ui.Form;return a.on("success",this.bound("onFormSuccess")),a},createComponentPrivacy:function(){return new Miwo.Component({cls:"privacy",html:'<a href="#privacy">'+$tr("app.privacyNotice.title")+"</a>",visible:this.privacyNoticeEnabled})},reconfigure:function(){this.get("scrollpane").remove("form"),this.form=this.get("scrollpane").add("form",this.createComponentForm())},setTitle:function(a){this.title=a,this.rendered&&this.headerEl.getElement(".panel-title span.titleCt").set("html",a)},setNotice:function(a){this.notice.setNotice(a)},hideChat:function(){this.hideable&&(this.hide(),this.fire("hidechat",[this]))},getForm:function(){return this.form},onFormSuccess:function(a){this.fire("success",[this,a])},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct panel-inner"><div class="panel-header"><div class="miwo-ct" miwo-reference="headerEl" miwo-events="click:onHeaderClick"><div class="panel-title" miwo-reference="titleEl"><span class="titleCt">'+this.title+'</span></div><div class="panel-tools tools"><span miwo-events="click:onSettingsBtnClick" miwo-reference="settingsEl" class="tool" name="settings" title="'+$tr("app.online.settingsTitle")+'"><i class="icon-small icon-menu"></i></span><span miwo-events="click:onCloseBtnClick" class="tool closeBtn" title="'+$tr("app.offline.hideTitle")+'"><i class="icon-down-open"></i></span></div></div></div><div class="panel-body"><div class="miwo-ct"><div class="panel-content"><div class="miwo-ct" miwo-reference="contentEl"><div miwo-component="scrollpane"></div></div></div><div class="panel-footer"><div class="miwo-ct" miwo-reference="footerEl">'+this.renderBrand()+'<div miwo-reference="footerMaskEl" class="panel-footer-mask"></div></div></div></div></div><div miwo-reference="menuEl" class="panel-menu"><div class="miwo-ct"><div class="menu"><div class="menu-header"><span>'+$tr("app.settings.title")+'</span> <i class="icon-cancel"></i></div><div class="menu-item" name="privacy" miwo-reference="privacyEl" miwo-events="click:onPrivacyItemClick"">'+$tr("app.privacyNotice.title")+"</div></div></div></div></div>";
},afterRender:function(){this.parent(),this.hideable||this.headerEl.getElement(".closeBtn").hide(),this.privacy.findElement("a").on("click",function(a){a.stop(),this.fire("openprivacy",[this])}.bind(this)),this.menuEl.getElement(".menu-header").on("click",function(){this.menuEl.hide()}.bind(this))},translate:function(){this.translateText(".closeBtn","title","app.offline.hideTitle"),this.translateText(".privacy a","html","app.privacyNotice.title"),this.translateText('[name="settings"]',"title","app.online.settingsTitle"),this.translateText(this.privacyEl,"html","app.privacyNotice.title"),this.translateText(".menu .menu-header span","html","app.settings.title"),this.form.getControls().each(function(a){if(a.translatable!==!1){var b=$tr("app.offline."+a.name);b&&a.setLabel(b)}})},onCloseBtnClick:function(a){a.stop(),this.hideChat()},onHeaderClick:function(){this.hideChat()},showPrivacyDialog:function(){var a=new App.view.dialogs.PrivacyDialog({renderTo:this.findElement(".panel-inner")});a.show();
},onSettingsBtnClick:function(a){a.stop(),this.menuEl.toggle()},onPrivacyItemClick:function(a){a.stop(),this.fire("openprivacy",[this])}}),miwo.define("App.ui.Dialog",{Extends:Miwo.component.Component,name:"dialog",title:"",content:"",buttons:[],beforeInit:function(){this.parent(),this.componentCls="dialog",this.visible=!1},doInit:function(){this.parent(),this.renderTo||(this.renderTo=miwo.body)},close:function(){this.hide(),this.destroy()},beforeRender:function(){this.parent();for(var a="",b=0;b<this.buttons.length;b++){var c=this.buttons[b];c.forceNewLine&&(a+="<br/>"),a+='<button miwo-events="click:onButtonClick" class="btn '+(c.cls||"")+'" name="'+b+'">'+c.title+"</button>"}this.html='<div class="miwo-mask"></div><div class="miwo-mask-content"><h3>'+this.title+"</h3>"+this.content+'<div class="buttons">'+a+"</div></div>"},onButtonClick:function(a){var b=a.target.name;this.buttons[b].handler()}}),miwo.define("App.ui.Form",{Extends:Miwo.component.Container,beforeInit:function(){this.parent(),
this.el="form"},setValues:function(a){this.getControls().each(function(b){a&&a.hasOwnProperty(b.name)&&b.setValue(a[b.name])})},getValues:function(){var a={};return this.getControls().each(function(b){a[b.name]=b.getValue()}),a},reset:function(){this.getControls().each(function(a){a.setValue("")})},validate:function(){var a=!0;return this.getControls().each(function(b){b.validate()||(a=!1)}),a},isValid:function(){return this.validate()},getControls:function(){return this.findComponents(!1,{isControl:!0})},addText:function(a,b){return this.addComponent(a,new App.ui.form.TextInput(b))},addTextArea:function(a,b){return this.addComponent(a,new App.ui.form.TextArea(b))},addSelect:function(a,b){return this.addComponent(a,new App.ui.form.Select(b))},addCheckbox:function(a,b){return this.addComponent(a,new App.ui.form.Checkbox(b))},addSubmit:function(a,b){return this.addComponent(a,new App.ui.form.SubmitButton(b))},afterRender:function(){this.parent(),this.el.addClass("form"),this.el.on("submit",this.bound("onFormSubmit"));
},onFormSubmit:function(a){return a.preventDefault(),this.submit(),!1},submit:function(){this.isValid()?this.fire("success",[this]):this.fire("failure",[this])}}),miwo.define("App.ui.form.Control",{Extends:Miwo.component.Component,isControl:!0,required:!1,label:"",value:"",rules:null,doInit:function(){this.parent(),this.rules=new App.ui.form.Rules({rules:this.rules}),this.initRules()},setLabel:function(a){this.label=a,this.labelEl&&this.labelEl.set("html",a)},doRender:function(){this.el.addClass("form-group"),this.renderLabel(this.el),this.renderControl(this.el)},afterRender:function(){this.parent(),this.inputEl.set("id",this.id),this.inputEl.set("name",this.name),this.labelEl&&this.labelEl.set("for",this.id),this.setValue(this.value)},renderLabel:function(a){var b=new Element("div",{cls:"form-label",parent:a});this.errorEl=new Element("div",{cls:"form-error",parent:b}),this.labelEl=new Element("label",{"for":this.name,html:this.label,parent:b})},renderControl:function(a){var b=new Element("div",{
cls:"form-controls",parent:a}),c=this.renderInput(b);if(c.inject(b),this.inputEl||(this.inputEl=c),!this.inputEl)throw new Error("Input not rendered");this.required&&this.inputEl.set("required",!0)},renderInput:function(a){},getValue:function(){return this.inputEl.get("value")},setValue:function(a){this.value=a,this.inputEl&&this.inputEl.set("value",a)},initRules:function(){this.required&&this.rules.setRule("required")},validate:function(){var a=this.rules.validate(this,this.getValue());return this.error=a,this.el.toggleClass("has-error",null!==a),this.errorEl&&this.errorEl.set("html",a).setVisible(null!==a),null===a},validateRequired:function(a){return""!==a.toString().trim()}}),miwo.define("App.ui.form.TextInput",{Extends:App.ui.form.Control,xtype:"textinput",type:"text",placeholder:"",pattern:void 0,minlength:void 0,title:void 0,initRules:function(){"email"==this.type&&this.rules.setRule("email")},renderInput:function(){return new Element("input",{type:"text"!=this.type&&Browser.ie&&Browser.version<10?"text":this.type,
title:this.title,placeholder:this.placeholder,pattern:this.pattern,minlength:this.minlength,cls:"form-control"})},validateEmail:function(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},validatePhone:function(a){var b=/^[\d()-+]{5,}$/;return b.test(a)}}),miwo.define("App.ui.form.TextArea",{Extends:App.ui.form.Control,xtype:"textarea",placeholder:"",inputHeight:50,renderInput:function(){return new Element("textarea",{placeholder:this.placeholder,cls:"form-control",styles:{height:this.inputHeight}})}}),miwo.define("App.ui.form.Select",{Extends:App.ui.form.Control,xtype:"select",items:null,setItems:function(a){this.items=a,this.inputEl&&this.renderItems(this.inputEl)},renderInput:function(){var a=new Element("select",{cls:"form-control"});return this.renderItems(a),a},renderItems:function(a){var b,c,d=this.items;if(a.empty(),Type.isObject(d))for(b in d)c=d[b],this.renderItem(a,b,c);else if(Type.isArray(d))for(var e=0;e<d.length;e++)b=d[e],
this.renderItem(a,b,b)},renderItem:function(a,b,c){return new Element("option",{parent:a,value:b,html:c})}}),miwo.define("App.ui.form.Checkbox",{Extends:App.ui.form.Control,xtype:"checkbox",getValue:function(){return this.inputEl.get("checked")},renderLabel:function(){},renderInput:function(){var a=new Element("div",{cls:"checkbox"});return this.inputEl=new Element("input",{type:"checkbox",parent:a}),this.labelEl=new Element("label",{html:this.label,parent:a}),a}}),miwo.define("App.ui.form.Button",{Extends:App.ui.form.Control,xtype:"formbtn",isControl:!1,type:"default",setLabel:function(a){this.label=a,this.inputEl&&this.inputEl.set("value",a)},setValue:function(){},renderLabel:function(){},renderInput:function(){return new Element("input",{type:"submit",value:this.label,cls:"btn btn-block btn-"+this.type})}}),miwo.define("App.ui.form.SubmitButton",{Extends:App.ui.form.Button,xtype:"submitbtn",type:"primary"}),miwo.define("App.ui.form.Rules",{Extends:Miwo.Object,rules:[],initialize:function(a){
if(a.rules&&Type.isArray(a.rules)){for(var b=0;b<a.rules.length;b++){var c=a.rules[b];this.addRule(c.operation,c.message)}delete a.rules}this.parent()},getRule:function(a){for(var b=0;b<this.rules.length;b++){var c=this.rules[b];if(c.op===a)return c}return null},addRule:function(a,b){this.rules.push(new App.ui.form.Rule(a,b))},setRule:function(a,b){var c;null===(c=this.getRule(a))?this.addRule(a,b):b&&(c.message=b)},validate:function(a,b){for(var c=0;c<this.rules.length;c++){var d=this.rules[c],e=d.validate(a,b);if(e)return e}return null}}),miwo.define("App.ui.form.Rule",{op:null,message:null,initialize:function(a,b){this.op=a,this.message=b},validate:function(a,b){if(Type.isString(this.op)){var c=a["validate"+this.op.capitalize()];if(c&&!c(b,a))return this.message}else if(Type.isFunction(this.op)&&!this.op(b,a))return this.message;return null}}),miwo.define("App.controller.Chat",{Extends:Miwo.app.Controller,Services:{model:"!chat.model",connection:"!chat.connection",soundPlayer:"!chat.soundPlayer",
frameManager:"!chat.frameManager",eventManager:"chat.eventManager",pluginManager:"!chat.pluginManager",themeManager:"!chat.themeManager",api:"!chat.api"},name:"chat",options:{opened:void 0,openedBanner:void 0,autoHideBanner:void 0,hideOfflineBanner:void 0,hideBanner:void 0,hideWidget:void 0,hideOfflineChat:void 0,autoOpen:void 0,widgetMode:void 0,requireLogin:void 0},offline:null,online:null,widget:null,button:null,login:null,showLogin:!1,resourcesUrl:"",filesUrl:"",preventUpdate:!1,ignoreThemeSize:!1,smallDeviceMinWidth:641,smartlook:null,setContext:function(a){this.parent(a);var b=a.parameters,c=miwo.cookie,d=this;d.smartlook=b.smartlook,d.smallDeviceMinWidth=b.smallDeviceMinWidth,d.ignoreThemeSize=b.ignoreThemeSize,d.resourcesUrl=b.resourcesUrl,d.filesUrl=b.filesUrl,d.cookieNames=b.cookieNames,d.autoFillName=b.autoFillName,d.privacyNoticeUrl=b.privacyNoticeUrl;var e=d.cookieNames;this.setOptions({opened:null!==b.opened?b.opened:"true"===c.read(e.opened,c.read("ssupp_opened")),openedBanner:null!==b.openedBanner?b.openedBanner:"false"!==c.read(e.banner,"true"===c.read("ssupp_closeBanner")?"false":"true"),
autoHideBanner:b.autoHideBanner,hideOfflineBanner:b.hideOfflineBanner,hideBanner:b.hideBanner,hideWidget:b.hideWidget||b.hideMobileWidget&&b.isMobile,hideOfflineChat:b.hideOfflineChat,autoOpen:"false"!==c.read(e.autoOpen,c.read("ssupp_autoOpen")),widgetMode:b.widget,requireLogin:b.requireLogin}),d.connection.persistGroups=b.requireLogin&&b.requireLoginWithGroup,d.pluginManager.setController(d)},startup:function(){var a=this;a.windowWidth=a.getWindowWidth(),window.parent.addEventListener("resize",a.onWindowResize.bind(a)),a.control(a.connection,{visitorconnect:"onVisitorConnect",visitorupdate:"onVisitorUpdate",visitorban:"onVisitorBan",channelopen:"onChannelOpen",channelinfo:"onChannelInfo",channelmessage:"onChannelMessage",channelclose:"onChannelClose",agentjoin:"onAgentJoin",agentleave:"onAgentLeave",typing:"onTyping",rating:"onRating",offlinemessage:"onOfflineMessage",disconnect:"onDisconnect",status:"onStatusChanged",transfered:"onTransfered"}),a.control(a.model,{status:"onModelStatus",
update:"onModelUpdate"}),a.control("#offlinePanel",{hidechat:"onOfflinePanelHideChat",success:"onOfflinePanelSuccess",move:"onPanelMove",openprivacy:"onPanelOpenPrivacy"}),a.control("#onlinePanel",{show:"onOnlinePanelShow",hidechat:"onOnlinePanelHideChat",closechat:"onOnlinePanelCloseChat",sendchat:"onOnlinePanelSendChat",typing:"onOnlinePanelTyping",send:"onOnlinePanelSend",rate:"onOnlinePanelRate",mutechange:"onOnlinePanelMuteChange",move:"onPanelMove",openprivacy:"onPanelOpenPrivacy"}),a.control("#loginPanel",{success:"onLoginFormSuccess",hidechat:"onLoginPanelHideChat",move:"onPanelMove",openprivacy:"onPanelOpenPrivacy"}),a.control("#widgetPanel",{click:"onWidgetClick",bannercreated:"onBannerCreated"}),a.control("#buttonPanel",{click:"onButtonPanelClick"}),a.control("#banner",{open:"onBannerOpen",close:"onBannerClose",click:"onBannerClick"}),a.api.startup(a),a.pluginManager.notify("startup",a),a.fire("startup",a),a.connection.isConnectable()?a.connection.connect():a.application.render();
},beforeRender:function(){if(this.offline=miwo.get("offlinePanel"),this.online=miwo.get("onlinePanel"),this.button=miwo.get("buttonPanel"),this.login=miwo.get("loginPanel"),this.widget=miwo.get("widgetPanel"),this.themeManager.loadTheme(),this.frameManager.preventUpdate=!0,!this.ignoreThemeSize){var a=this.themeManager.theme;this.online.setSize(a.getSize("online")),this.offline.setSize(a.getSize("offline")),this.login.setSize(a.getSize("login")),this.button.setSize(a.getSize("button")),this.widget.setSize(a.getSize("widget")),this.themeManager.on("options",function(b,c){(c.panelWidth||c.panelHeight)&&this.online.setSize(a.getSize("online")),(c.offlineWidth||c.offlineHeight)&&this.offline.setSize(a.getSize("offline")),(c.loginWidth||c.loginHeight)&&this.login.setSize(a.getSize("login")),c.buttonHeight&&this.button.setSize(a.getSize("button")),(c.widgetWidth||c.widgetHeight)&&this.widget.setSize(a.getSize("widget"))}.bind(this))}this.api.render(this),this.pluginManager.notify("render",this),
this.fire("render",this)},afterRender:function(){this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.api.rendered(this),this.pluginManager.notify("rendered",this),this.fire("rendered",this),this.frameManager.syncPosition()},setOpened:function(a){this.setOption("opened",a),miwo.cookie.write(this.cookieNames.opened,a)},setOpenedBanner:function(a){this.setOption("openedBanner",a),miwo.cookie.write(this.cookieNames.banner,a)},setAutoOpen:function(a){this.setOption("autoOpen",a),miwo.cookie.write(this.cookieNames.autoOpen,a)},setOption:function(a,b){this.options[a]=b,this.updateView()},setOptions:function(a){Object.merge(this.options,a),this.updateView()},isSmallDevice:function(){return this.windowWidth<this.smallDeviceMinWidth},isMobilDevice:function(){return"android"===Browser.platform||"ios"===Browser.platform||"webos"===Browser.platform||this.windowWidth<=415},onWindowResize:function(){this.windowWidth=this.getWindowWidth(),this.updateView()},
onModelStatus:function(a){this.application.rendered&&(this.widget.setStatus(a),this.button.setStatus(a),this.updateView())},onModelUpdate:function(a,b){if(this.connection.update(b),this.smartlook){var c={};if(b.name&&(c.name=b.name),b.email&&(c.email=b.email),b.variables)for(var d in b.variables)c[b.variables[d].label]=b.variables[d].value;Object.getOwnPropertyNames(c).length>0&&this.smartlook("identify",this.model.id,c)}this.online&&(this.online.visitorEmail=this.model.get("email"))},onDisconnect:function(){this.updateView()},onVisitorConnect:function(a){this.application.render(),this.preventUpdate=!0,this.model.setId(a.id),this.model.update({visits:a.visits,authenticated:a.authenticated});var b={};if(a.nickname&&(this.model.data.name=a.nickname,b.name=a.nickname),a.email&&(this.model.data.email=a.email,b.email=a.email),a.variables){this.model.data.variables=a.variables;for(var c in a.variables)b[a.variables[c].label]=a.variables[c].value}if(this.smartlook&&Object.getOwnPropertyNames(b).length>0&&this.smartlook("identify",this.model.id,b),
this.model.isBanned=a.banned,this.smartlook&&a.banned&&this.smartlook("ban",36e5),this.model.setChannelId(a.channelId),this.model.setStatus(a.accountStatus),this.autoFillName&&this.model.get("name")){var d=this.model.get("name").replace("#","");this.login.form.get("name",!1)&&this.login.form.get("name").setValue(d),this.offline.form.get("name",!1)&&this.offline.form.get("name").setValue(d)}if(this.model.get("email")){var e=this.model.get("email").replace("#","");this.login.form.get("email",!1)&&this.login.form.get("email").setValue(e),this.offline.form.get("email",!1)&&this.offline.form.get("email").setValue(e),this.online.visitorEmail=e}this.preventUpdate=!1,this.updateView()},onVisitorUpdate:function(a){a.hasOwnProperty("authenticated")&&(this.model.data.authenticated=a.authenticated),a.hasOwnProperty("group")&&(this.model.data.group=a.group)},onVisitorBan:function(a){this.model.isBanned=a,this.updateView(),this.smartlook&&a&&this.smartlook("ban",36e5)},onChannelOpen:function(a){this.online.hasRating=!1,
this.getEventManager().reset(),this.model.setChannelId(a),this.model.clean(),this.updateMessages(),this.updateAgents(),this.updateStatus()},onChannelInfo:function(a,b,c){this.getEventManager().setMessages(a),this.model.load(a,b),this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.online.hasRating=null!==c&&void 0!==c,this.updateMessages(),this.updateAgents(),this.updateView()},onChannelMessage:function(a){var b=this.model,c=this.online,d=this.options;return b.isOnline()?(b.addMessage(a),c.addMessage(a),"agent"==a.type&&c.setTyping(!1),d.opened||(!this.isSmallDevice()&&(d.hideWidget||d.autoOpen||a.triggeredBy)?this.setOpened(!0):(this.widget.handleUnreadedMessage(),this.button.handleUnreadedMessage())),this.getEventManager().notifyMessage(a),void this.getSoundPlayer().play(a.type)):(b.addMessage(a),void c.addMessage(a))},onChannelClose:function(a){this.getEventManager().notifyClose(a)},onOfflineMessage:function(a){this.offline.handleSended(a)},
onAgentJoin:function(a){this.model.addAgent(a),this.online.addMessage({name:a.nickname,type:"system",content:"agent.join"}),this.updateAgents(),this.updateStatus()},onAgentLeave:function(a){var b=this.model.getAgent(a);b&&(this.online.addMessage({name:b.nickname,type:"system",content:"agent.leave"}),this.model.removeAgent(a),this.updateAgents()),this.model.hasAgent()||this.online.setTyping(!1),this.updateStatus()},onStatusChanged:function(a){this.model.setStatus(a)},onTyping:function(a,b){this.model.hasAgent()||(a=!1),this.online.setTyping(a,b)},onRating:function(a,b){this.online.hasRating=!0,this.online.addMessage({type:"system",content:"chat.rating",name:JSON.stringify({value:a,text:b})})},onTransfered:function(a,b){this.online.addMessage({name:b.nickname,type:"system",content:"transfer"}),this.model.removeAgent(a.id),this.model.addAgent(b),this.updateAgents()},onOfflinePanelSuccess:function(a,b){var c=b.getValues(),d={};for(var e in c)if("message"!==e){var f=c[e];"name"==e||"email"==e?d[e]=f:(d.variables||(d.variables={}),
d.variables[e]={label:b.get(e).label,value:f})}Object.getLength(d)>0&&this.model.set(d);var g=this;g.connection.send(c.message,c.name,c.email),this.options.requireLogin&&this.model.data.group&&setTimeout(function(){g.offline.hideMask(),g.connection.close("offline-message")},2e3)},onOfflinePanelHideChat:function(){this.setOpened(!1)},onPanelMove:function(){if(this.frameManager.isMoved){var a=this.frameManager.getPosition();miwo.cookie.write("ssupp.position",a.left+","+a.top)}else miwo.cookie.dispose("ssupp.position")},onPanelOpenPrivacy:function(a){this.privacyNoticeUrl?window.top.open(this.privacyNoticeUrl,"_blank"):a.showPrivacyDialog()},onOnlinePanelShow:function(){this.widget.cleanUnreadedMessage(),this.button.cleanUnreadedMessage()},onOnlinePanelHideChat:function(){this.setOpened(!1),this.setAutoOpen(!1)},onOnlinePanelCloseChat:function(a,b){this.connection.close(b),this.setAutoOpen(!0),this.context.parameters.closeWindow&&setTimeout(function(){window.top.close()},100)},onOnlinePanelSendChat:function(a,b){
this.connection.sendTranscript(b,Locale.getCurrent().name)},onOnlinePanelTyping:function(a,b){this.connection.setTyping(b)},onOnlinePanelSend:function(a,b){!this.options.requireLogin||this.model.data.authenticated||this.showLogin?(this.connection.send(b),miwo.cookie.write("ssupp.message","")):(this.login.setMessage(b),this.showLogin=!0,this.updateView())},onOnlinePanelRate:function(a,b,c){this.connection.setRating(b,c)},onOnlinePanelMuteChange:function(a,b){a.setMuted(b),this.soundPlayer.setMute(b)},onLoginFormSuccess:function(a,b){this.showLogin=!1;var c=b.getValues(),d={authenticated:!0};for(var e in c)if("message"!==e){var f=c[e];"checkbox"===b.get(e).xtype&&(f=f?"yes":"no"),"name"===e||"email"===e||"group"===e?d[e]=f:(d.variables||(d.variables={}),d.variables[e]={label:b.get(e).label,value:f})}Object.getLength(d)>0&&this.model.set(d),c.message?setTimeout(function(){"online"===this.model.status?(this.connection.send(c.message),miwo.cookie.write("ssupp.message","")):c.email?(this.connection.send(c.message,c.name||"",c.email),
miwo.cookie.write("ssupp.message","")):this.offline.form.setValues(c),this.updateView()}.bind(this),500):this.updateView()},onLoginPanelHideChat:function(){this.setOpened(!1)},onWidgetClick:function(){this.open()},onButtonPanelClick:function(){this.open()},onBannerCreated:function(a,b){this.themeManager.setBanner(b)},onBannerClick:function(){this.onWidgetClick()},onBannerOpen:function(){this.setOpenedBanner(!0)},onBannerClose:function(){this.setOpenedBanner(!1)},open:function(){if(this.isMobilDevice()){var a=this.connection,b=this.context.parameters.popupWidgetUrl||this.context.parameters.baseUrl+"/widget";b+=b.indexOf("?")>0?"&key="+a.chatKey:"?key="+a.chatKey,b+="&vid="+a.id,b+="&group="+(a.data.group?a.data.group:""),b+="&lang="+a.data.lang,b+="&pageTitle="+encodeURIComponent(a.data.pageTitle),b+="&pageUrl="+encodeURIComponent(a.data.pageUrl),b+="&domain="+encodeURIComponent(a.data.domain),b+="&referer="+encodeURIComponent(a.data.referer),b+="&visits="+encodeURIComponent(a.data.visits),
window.open(b,"_blank")}else this.preventUpdate=!0,this.setOpened(!0),this.options.autoHideBanner&&this.setOpenedBanner(!1),this.preventUpdate=!1,this.updateView(),"online"==this.viewName&&this.online.focus(),"true"!==miwo.cookie.read("ssupp.barclicked","false")&&(this.connection.notify("click","widget"),miwo.cookie.write("ssupp.barclicked","true"))},close:function(){this.setOpened(!1)},updateStatus:function(){this.widget.status!=this.model.getStatus()&&(this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.updateView())},updateAgents:function(){var a=this.online,b=this.model;if(b.hasAgent()){var c=b.agents.getLast();c.nickname&&a.setAgentInfoTitle(c.nickname),c.note&&a.setAgentInfoDesc(c.note),c.avatar&&(this.filesUrl?a.setAgentAvatarSrc(this.filesUrl+"/files/agents"+c.avatar):a.setAgentAvatarSrc(this.resourcesUrl+c.avatar))}else a.setAgentInfoTitle(null),a.setAgentInfoDesc(null),a.setAgentAvatarSrc(null)},updateMessages:function(){this.online.setMessages(this.model.messages,!0);
},updateView:function(){var a=this;if(!a.preventUpdate&&a.application.rendered){var b=a.options,c="none",d=a.frameManager,e=a.model,f=a.connection;if(e.isOnline()?b.opened?c=this.showLogin?"login":"online":(!b.hideWidget||b.hideWidget===!0&&(this.model.hasMessage()||this.model.hasAgent()))&&(c="widget"):b.hideOfflineChat||(b.opened?c="offline":b.hideWidget||(c="widget")),"widget"==c&&("button"==b.widgetMode?c="button":"widget"==b.widgetMode?c="widget":a.isSmallDevice()&&(c="button")),(f.isConnectable()&&!f.isConnected()||e.isBanned)&&(c="none"),d.preventUpdate=!0,a.online.setVisible("online"===c),a.offline.setVisible("offline"===c),a.widget.setVisible("widget"===c),a.button.setVisible("button"===c),a.login.setVisible("login"===c),a.widget.setBannerVisible(b.openedBanner&&"widget"==c&&!b.hideBanner&&(!b.hideOfflineBanner||e.isOnline())),d.preventUpdate=!1,d.updateSize(),this.viewName=c,"online"==c&&(a.online.visitorEmail=a.model.get("email")),"widget"!=c&&"none"!=c){var g=miwo.cookie.read("ssupp.position");
g&&(g=g.split(","),this.frameManager.setPosition({top:g[1],left:g[0]}),this[c].el.setStyle("top",5),this[c].el.setStyle("left",5))}}},getWindowWidth:function(){var a=window.parent,b=a.document,c=b.documentElement,d=b.getElementsByTagName("body")[0];return a.innerWidth||c.clientWidth||d.clientWidth}}),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e){this.beginPath(),this.moveTo(a+e[0],b),this.lineTo(a+c-e[1],b),this.quadraticCurveTo(a+c,b,a+c,b+e[1]),this.lineTo(a+c,b+d-e[2]),this.quadraticCurveTo(a+c,b+d,a+c-e[2],b+d),this.lineTo(a+e[3],b+d),this.quadraticCurveTo(a,b+d,a,b+d-e[3]),this.lineTo(a,b+e[0]),this.quadraticCurveTo(a,b,a+e[0],b),this.closePath()},CanvasRenderingContext2D.prototype.clear=CanvasRenderingContext2D.prototype.clear||function(a){a&&(this.save(),this.setTransform(1,0,0,1,0,0)),this.clearRect(0,0,this.canvas.width,this.canvas.height),a&&this.restore()}),App.ChatConfig={getConfig:function(a){if(!a)return{};var b,c=a.getOption("renderTo"),d=a.getOption("autoInlineMode"),e=c&&d,f=a.getOption("width",e?"100%":void 0),g=a.getOption("height",e?"100%":void 0);
f&&"string"==typeof f&&(b=f.match(/([0-9]+)px/))&&(f=parseInt(b[1],10)),g&&"string"==typeof g&&(b=g.match(/([0-9]+)px/))&&(g=parseInt(b[1],10));var h=a.getOption("loginControls"),i=!1;if(h)for(var j=0;j<h.length;j++)"group"===h[j].name&&(i=!0);var k={parameters:{smartlook:a.getOption("smartlook"),debugMode:a.getOption("debug",!1),baseUrl:a.getOption("baseUrl"),staticUrl:a.getOption("staticUrl"),resourcesUrl:a.getOption("resourcesUrl"),filesUrl:a.getOption("filesUrl"),opened:c?!0:void 0,widget:a.getOption("widget"),requireLogin:a.getOption("requireLogin"),requireLoginWithGroup:i,ignoreThemeSize:f||g,policyText:a.getOption("policyText"),policyUrl:a.getOption("policyUrl"),smallDeviceMinWidth:a.getOption("smallDeviceMinWidth",641),hideWidget:a.getOption("hideWidget"),hideBanner:a.getOption("hideBanner"),hideMobileWidget:a.getOption("hideMobileWidget"),hideOfflineChat:a.getOption("hideOfflineChat"),autoFillName:a.getOption("autoFillName"),multiAccounts:a.getOption("multiAccounts"),popupWidgetUrl:a.getOption("popupWidgetUrl"),
privacyNoticeUrl:a.getOption("privacyNoticeUrl"),privacyNoticeEnabled:a.getOption("privacyNoticeEnabled"),transcriptEnabled:a.getOption("transcriptEnabled",a.getOption("sendEmailTanscript")),ratingEnabled:a.getOption("ratingEnabled"),ratingType:a.getOption("ratingType"),ratingComment:a.getOption("ratingComment"),closeWindow:a.getOption("closeWindow"),cookieNames:{opened:a.getOption("cookieNameOpened"),vid:a.getOption("cookieNameVid")}},miwo:{cookie:{domain:a.getOption("cookieDomain"),path:a.getOption("cookiePath")}},chat:{translatable:a.getOption("translatable"),position:{offsetX:a.getOption("offsetX",a.getOption("positionOffsetX",a.getOption("indent"))),offsetY:a.getOption("offsetY",a.getOption("positionOffsetY")),alignX:a.getOption("alignX",a.getOption("positionAlignX")),alignY:a.getOption("alignY",a.getOption("positionAlignY"))},frame:function(){return a.el&&a.el.$family&&delete a.el.$family,a.el},visitor:{id:a.getOption("id")||a.getOption("visitorId"),data:{visits:a.getOption("visits"),
group:a.getOption("group"),name:a.getOption("visitorName"),email:a.getOption("visitorEmail"),variables:this.formatVariables(a.getOption("variables")),pageTitle:a.getOption("pageTitle"),pageUrl:a.getOption("pageUrl"),domain:a.getOption("domain"),referer:a.getOption("referer"),sitePlatform:a.getOption("sitePlatform"),triggerable:a.getOption("triggerable")}},connection:{protocol:a.getOption("protocol","https"),host:a.getOption("host"),key:a.getOption("key","")||a.getOption("chatKey","")},events:{category:a.getOption("eventCategory"),accounts:Array.clone(a.getOption("gaAccounts",[{key:a.getOption("gaKey",a.getOption("eventGaKey")),options:a.getOption("gaOptions",a.getOption("eventGaOptions",{name:a.getOption("gaName"),cookieDomain:a.getOption("eventGaDomain")}))}]))},sound:{mute:a.getOption("soundMuted")},theme:{options:{offlineHeight:a.getOption("offlineHeight")}},api:{onReady:function(b){var c=a.getOption("onApiReady");c&&c(b)}}},components:{offline:{draggable:"fixed"==a.getOption("position"),
width:f,height:g,hideable:e?!1:void 0,cls:e?"panel-fill":void 0,controls:Array.clone(a.getOption("offlineControls")),nameControl:a.getOption("offlineNameControl"),numberControl:a.getOption("offlineNumberControl")},online:{draggable:"fixed"==a.getOption("position"),width:f,height:g,hideable:e?!1:void 0,closeable:e?!1:void 0,maximizable:e?!1:void 0,cls:e?"panel-fill":void 0,writable:a.getOption("writable",!0)},login:{draggable:"fixed"==a.getOption("position"),width:f,height:g,controls:Array.clone(a.getOption("loginControls")),nameControl:a.getOption("loginNameControl"),emailControl:a.getOption("loginEmailControl"),numberControl:a.getOption("loginNumberControl"),hideable:e?!1:void 0,closeable:e?!1:void 0,maximizable:e?!1:void 0,cls:e?"panel-fill":void 0},widget:{animateBanner:a.getOption("animateBanner"),showNotifications:a.getOption("showNotifications",!0)},button:{showNotifications:a.getOption("showNotifications",!0)}}};return Object.merge(k,a.getOption("config"))},formatVariables:function(a){
var b={};for(var c in a){var d=a[c];Type.isString(d)?b[c]={label:c,value:d}:b[c]={label:d.label?d.label:"",value:d.value?d.value:""}}return b}},App.ClientConfig={getConfig:function(a){if("free"==a.packageName){var b="https://www.smartsupp.com/?utm_source="+window.parent.document.location.host+"&utm_medium=chat-widget-free&utm_campaign=smartsupp-logo";a.brandText='Get Free live chat by <a rel="nofollow" href="'+b+'" target="_blank">Smartsupp</a>'}return{parameters:{lang:a.lang,baseLang:a.baseLang,brandText:a.brandText||void 0,logoUrl:a.logoUrl||void 0,logoSrc:a.logoSrc||void 0,logoSmSrc:a.logoSmSrc||a.logoSrc||void 0,hideBanner:a.hideBanner,hideOfflineBanner:a.hideOfflineBanner,hideWidget:a.hideWidget,hideOfflineChat:a.hideOfflineChat,requireLogin:a.requireLogin,smartlook:a.smartlook||void 0,privacyNoticeUrl:a.privacyNoticeUrl||void 0,privacyNoticeEnabled:a.privacyNoticeEnabled===!0||a.privacyNoticeEnabled===!1?a.privacyNoticeEnabled:void 0,transcriptEnabled:a.transcriptEnabled===!0||a.transcriptEnabled===!1?a.transcriptEnabled:void 0,
ratingEnabled:a.ratingEnabled||a.enableRating||void 0,ratingType:a.ratingType||void 0,ratingComment:a.ratingComment||void 0,avatarPath:a.avatarPath||void 0,avatarPathLegacy:a.avatar||void 0},chat:{"package":a["package"],styles:a.styles,browserLang:a.browserLang,position:{alignX:a.alignX||a.orientation,alignY:a.alignY||void 0},events:{enabled:a.isEnabledEvents},sound:{mute:a.muteSounds},theme:{name:a.theme&&a.theme.name?a.theme.name:"def",colors:a.colors,options:a.theme&&a.theme.options?a.theme.options:a.theme},api:{install:a.api},connection:{host:a.host}},components:{widget:{banner:a.banner},online:a.online||{},offline:a.offline||{},login:a.login||{}},translates:a.translates}}},App.DefaultConfig={getConfig:function(){var a=navigator,b=window.parent.document,c="https://www.smartsupp.com/?utm_source="+b.location.host+"&utm_medium=chat-widget&utm_campaign=smartsupp-logo";return{parameters:{debugMode:!1,isMobile:this.isMobile(),lang:"en",baseLang:"en",baseUrl:"https://www.smartsuppchat.com",
staticUrl:"https://chat.smartsupp.co",resourcesUrl:"https://www.smartsupp.co",filesUrl:null,logoSrc:null,logoSmSrc:null,logoUrl:c,brandText:'Powered by <a rel="nofollow" href="'+c+'" target="_blank">Smartsupp</a>',opened:null,openedBanner:null,autoHideBanner:!1,hideOfflineBanner:!1,hideBanner:!1,hideWidget:!1,hideMobileWidget:!1,hideOfflineChat:!1,autoFillName:!1,transcriptEnabled:!1,privacyNoticeUrl:"",privacyNoticeEnabled:!0,ratingEnabled:!1,ratingType:"simple",ratingComment:!1,avatarPath:"",avatarPathLegacy:"",closeWindow:!1,cookieNames:{opened:"ssupp.opened",banner:"ssupp.banner",autoOpen:"ssupp.autoopen",vid:"ssupp.vid"}},chat:{visitor:{data:{userAgent:a.userAgent,platform:a.platform,pageTitle:b.title,pageUrl:b.location.toString(),domain:b.location.host,referer:b.referrer}}},miwo:{application:{controllers:["chat"]},logger:{title:"Smartsupp Chat",styles:"background: #0f93ca; color: #fff"}},components:{online:{maximize:"true"===miwo.cookie.read("ssupp.max","false"),avatarSrc:"<%=staticUrl%>/assets/avatar.png",
transcriptEnabled:"<%=transcriptEnabled%>",ratingEnabled:"<%=ratingEnabled%>",ratingType:"<%=ratingType%>",ratingComment:"<%=ratingComment%>"},offline:{privacyNoticeEnabled:"<%=privacyNoticeEnabled%>"},login:{privacyNoticeEnabled:"<%=privacyNoticeEnabled%>"},widget:{},button:{}},services:{viewport:{type:"App.view.Viewport",args:{filesUrl:"<%=filesUrl%>",resourcesUrl:"<%=resourcesUrl%>",logoUrl:"<%=logoUrl%>",logoSrc:"<%=logoSrc%>",logoSmSrc:"<%=logoSmSrc%>",brandText:"<%=brandText%>",policyText:"<%=policyText%>",policyUrl:"<%=policyUrl%>",avatarPath:"<%=avatarPath%>",avatarPathLegacy:"<%=avatarPathLegacy%>",online:"<%components.online%>",offline:"<%components.offline%>",widget:"<%components.widget%>",button:"<%components.button%>",login:"<%components.login%>"}}}}},isMobile:function(){return function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/BlackBerry/i,h=/Opera Mini/i,i=/IEMobile/i,j=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),l=function(a,b){
return a.test(b)},m=function(a){var m=a||navigator.userAgent;this.apple={phone:l(b,m),ipod:l(c,m),tablet:l(d,m),device:l(b,m)||l(c,m)||l(d,m)},this.android={phone:l(e,m),tablet:!l(e,m)&&l(f,m),device:l(e,m)||l(f,m)},this.other={blackberry:l(g,m),opera:l(h,m),windows:l(i,m),firefox:l(j,m),device:l(g,m)||l(h,m)||l(i,m)||l(j,m)},this.seven_inch=l(k,m),this.any=this.apple.device||this.android.device||this.other.device||this.seven_inch},n=a.isMobile=new m;n.Class=m}(window),isMobile.any}},miwo.define("App.view.Viewport",{Extends:Miwo.component.Container,Services:{translator:"!chat.translator"},name:"viewport",filesUrl:null,resourcesUrl:null,logoUrl:null,logoSrc:null,logoSmSrc:null,brandText:null,policyText:null,policyUrl:null,avatarPath:null,avatarPathLegacy:null,beforeInit:function(){this.parent(),this.componentCls="miwo-viewport"},doInit:function(){this.parent(),this.translator.viewport=this,this.online=this.addComponent("online",new App.view.online.Panel(this.formatConfig(this.online))),this.offline=this.addComponent("offline",new App.view.offline.Panel(this.formatConfig(this.offline))),
this.button=this.addComponent("button",new App.view.widget.Button(this.formatConfig(this.button))),this.login=this.addComponent("login",new App.view.online.LoginPanel(this.formatConfig(this.login))),this.widget=this.addComponent("widget",new App.view.widget.Widget(this.formatConfig(this.widget)))},afterRender:function(){this.parent(),this.translate()},translate:function(){this.rendered&&(this.online.translate(),this.offline.translate(),this.login.translate(),this.widget.translate(),this.button.translate())},formatConfig:function(a){return a.brandText=this.brandText,a.policyText=this.policyText,a.policyUrl=this.policyUrl,a.logoUrl=this.logoUrl,a.logoSrc=this.logoSrc?this.formatLogoUrl(this.logoSrc):null,a.logoSmSrc=this.logoSmSrc?this.formatLogoUrl(this.logoSmSrc):null,this.filesUrl&&this.avatarPath?a.avatarSrc=this.filesUrl+"/files"+this.avatarPath:this.resourcesUrl&&this.avatarPathLegacy&&(a.avatarSrc=this.resourcesUrl+this.avatarPathLegacy),a},formatLogoUrl:function(a){return this.filesUrl&&0===a.indexOf("https://static.smartsupp.co")?this.filesUrl+"/files"+a.replace("https://static.smartsupp.co",""):this.filesUrl&&0===a.indexOf("files://")?this.filesUrl+"/files"+a.replace("files://",""):a;
}}),miwo.define("App.view.banner.Arrow",{Extends:App.view.banner.Banner,type:"arrow",arrow:{fillColor:"#999",strokeColor:null,scale:1.5,rotate:-.06,bounce:!0,bouncePeriod:2e3,bounceDuration:500},title:{rotate:-.05,text:null,color:"#333",translatable:!0},desc:{rotate:-.05,text:null,color:"#999",translatable:!0},setConfig:function(a){a&&(void 0===a.title||Type.isObject(a.title)||(a.title=Object.merge({},this.title,{text:a.title})),void 0===a.desc||Type.isObject(a.desc)||(a.desc=Object.merge({},this.desc,{text:a.desc})),void 0!==a.bounce&&(a.arrow=Object.merge({},this.arrow,{bounce:a.bounce})),a.title&&(a.title.translatable=null===a.title.text,a.title.text=null===a.title.text?$tr("app.banner.arrow.title"):a.title.text),a.desc&&(a.desc.translatable=null===a.desc.text,a.desc.text=null===a.desc.text?$tr("app.banner.arrow.desc"):a.desc.text)),this.parent(a)},beforeInit:function(){this.parent(),this.width=220,this.height=90,this.animate=!1},afterInit:function(){this.parent(),this.updateTranslates();
},isRenderable:function(){return document.createElement("canvas").getContext},renderBanner:function(a,b){var c=this;a.empty(),a.setStyle("left","-12px"),a.setStyle("width","100%"),a.setStyle("height","100%"),c.bounceId&&clearInterval(c.bounceId);var d=c.arrow,e=new Element("div",{parent:a,styles:{position:"absolute",left:0,bottom:0,top:0,width:50}}),f=new Element("canvas",{parent:e,styles:{position:"absolute"},width:50,height:80});c.arrowCanvasEl=f,c.drawArrows(f.getContext("2d"));var g=new Element("div",{parent:a,styles:{position:"absolute",left:46,bottom:0,top:0,right:0}});c.textCanvasEl=new Element("canvas",{parent:g,width:180,height:80}),c.drawTexts(c.textCanvasEl.getContext("2d")),c.arrowInFx=new Fx.Tween(f,{duration:d.bounceDuration,link:"cancel",transition:"cubic:in",property:"top"}),c.arrowOutFx=new Fx.Tween(f,{duration:d.bounceDuration,link:"cancel",transition:"cubic:out",property:"top"}),d.bounce&&c.startBounce(),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>'
}),this.closeEl.on("click",this.bound("onCloseClick")),b()},startBounce:function(){var a=this;a.bounceId=a.arrowBounce.periodical(a.arrow.bouncePeriod,a),a.arrowBounce()},stopBounce:function(){clearInterval(this.bounceId),this.bounceId=null},updateBouncing:function(){var a=this.arrow;a.bounce&&!this.bounceId?this.startBounce():!a.bounce&&this.bounceId&&this.stopBounce()},updateTranslates:function(){var a=this.title,b=this.desc;a.translatable&&(a.text=$tr("app.banner.arrow.title")),b.translatable&&(b.text=$tr("app.banner.arrow.desc"))},updateColors:function(a){var b=this.arrow,c=this.title,d=this.desc;b.fillColor=a.getColor("banner"),b.strokeColor=a.getColor("bannerBorder"),b.strokeColor||(b.strokeColor=a.getInverseColor("banner",-20)),c.color=a.getColor("bannerTitle"),c.color||(c.color=b.fillColor),d.color=a.getColor("bannerDesc"),d.color||(d.color=a.getInverseColor("bannerTitle",20)),d.color||(d.color=a.getColor("banner"))},updateBanner:function(a,b,c){var d=this;d.setConfig(b),d.drawTexts(d.textCanvasEl.getContext("2d")),
d.drawArrows(d.arrowCanvasEl.getContext("2d")),d.el.getElement(".banner-close i").setStyle("color",d.title.color),d.updateBouncing(),c(!0)},drawArrows:function(a){var b=this.arrow,c="rgba(100,100,100,0.2)";a.clear(!0),this.drawArrow(a,22,51,b.scale,c,c),this.drawArrow(a,20,50,b.scale,b.fillColor,b.strokeColor)},drawTexts:function(a){var b=this.title,c=this.desc;a.clear(!0),this.drawTitle(a,b.text,b.color,b.rotate),this.drawDesc(a,c.text,c.color,c.rotate)},arrowBounce:function(){var a=this;a.arrowInFx.start(0,10).chain(function(){a.arrowOutFx.start(10,0)})},drawArrow:function(a,b,c,d,e,f){b*=d,c*=d,a.beginPath(),a.moveTo(b,c),a.bezierCurveTo(b-4.55755*d,c-3.55332*d,b-6.74091*d,c-7.52977*d,b-=7.73810004*d,c-=11.90476*d),a.bezierCurveTo(b+2.19933004*d,c+2.06705*d,b+3.82851004*d,c+3.76237*d,b+=5.55556004*d,c+=5.35714*d),a.bezierCurveTo(b+.23932*d,c-11.77249*d,b-2.09141*d,c-23.94179*d,b-=4.7619*d,c-=35.91269*d),a.bezierCurveTo(b+4.7203*d,c+4.84001*d,b+7.13632*d,c+23.20766*d,b+=7.9365*d,c+=35.11904*d),
a.bezierCurveTo(b+1.23983*d,c+.29915*d,b+3.2435*d,c-3.98481*d,b+=4.96032*d,c-=6.54762*d),a.bezierCurveTo(b-.40997*d,c+5.01002*d,b-2.66133*d,c+10.89292*d,b-=5.95238*d,c+=13.88889*d),a.closePath(),e&&(a.fillStyle=e,a.fill()),f&&(a.lineWidth=1,a.strokeStyle=f,a.stroke())},drawTitle:function(a,b,c,d){a.save(),a.translate(0,35),d&&a.rotate(d),a.font="normal 18px Comic Sans MS",a.fillStyle=c,a.textBaseline="middle",a.fillText(b,0,0),a.restore()},drawDesc:function(a,b,c,d){a.save(),a.translate(2,60),d&&a.rotate(d),a.font="bold 15px Comic Sans MS",a.fillStyle=c,a.textBaseline="middle",a.fillText(b,0,0),a.restore()},doDestroy:function(){this.bounceId&&clearInterval(this.bounceId),this.parent()}}),miwo.define("App.view.banner.Bubble",{Extends:App.view.banner.Banner,type:"bubble",text:"",textTranslate:!0,textColor:"#ffffff",fillColor:"#484848",setConfig:function(a){a&&(void 0===a.text&&void 0!==a.title&&(a.text=a.title),void 0!==a.text&&(a.textTranslate=null===a.text,a.text=a.translate?$tr("app.banner.bubble.text"):a.text)),
this.parent(a)},afterInit:function(){this.parent(),this.updateTranslates()},beforeRender:function(){this.parent(),this.html='<div class="banner-layout miwo-ct"><div class="banner-paint" miwo-reference="paintEl"></div></div>'},renderBanner:function(a,b){a.empty(),this.textEl=new Element("div",{parent:a,styles:{display:"inline-block",background:this.fillColor,color:this.textColor,font:"normal 14px Trebuchet MS",padding:"11px 14px",position:"relative",marginLeft:"10px",marginBottom:"15px",borderRadius:"2px",zIndex:1e3}}),this.textBoxEl=new Element("span",{parent:this.textEl,html:this.text});var c=new Element("div",{parent:this.textEl,styles:{position:"absolute",bottom:-10,left:10,zIndex:999}});this.arrowEl=new Element("div",{parent:c,styles:{width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderLeft:"10px solid "+this.fillColor}}),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>',styles:{top:"0px",right:"3px"
}}),this.closeEl.on("click",this.bound("onCloseClick")),b()},updateColors:function(a){this.fillColor=a.getColor("banner"),this.textColor=a.getColor("bannerText")||a.getInverseColor("banner",80)},updateTranslates:function(){this.textTranslate&&(this.text=$tr("app.banner.bubble.text"))},updateBanner:function(a,b,c){this.setConfig(b),this.textEl.setStyle("color",this.textColor),this.textEl.setStyle("background",this.fillColor),this.arrowEl.setStyle("borderLeft","10px solid "+this.fillColor),this.el.getElement(".banner-close i").setStyle("color",this.textColor),this.textBoxEl.set("html",this.text),c(!0)},beforeAnimate:function(){this.parent(),this.setSize(null,300)},afterAnimate:function(){this.parent(),this.setSize(null,this.textEl.getHeight()+20)}}),miwo.define("App.view.banner.Image",{Extends:App.view.banner.Banner,type:"image",src:"",animate:!1,afterInit:function(){this.parent();var a=this;this.image=new Element("img",{parent:miwo.body,src:this.src||"data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=",
styles:{display:this.src?"block":"none",position:"relative",bottom:0,left:0}}),this.image.on("load",function(){a.image.width&&a.image.height&&a.onImageLoaded()})},renderBanner:function(a,b){this.renderImage(a,b)},updateBanner:function(a,b,c){b&&(b.src&&this.setSrc(b.src),this.el.getElement(".banner-close i").setStyle("color","#555"),this.renderImage(a,c,!0))},setSrc:function(a){this.loaded=!1,delete this.onImageLoadCallback,this.image.setStyle("display",a?"inline":"none"),this.image.set("src",a)},renderImage:function(a,b,c){a.empty(),this.image.inject(a),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>'}),this.closeEl.on("click",this.bound("onCloseClick")),this.el.getElement(".banner-close i").setStyle("color","#555"),this.loaded?b(c):this.onImageLoadCallback=function(){b(c)}},onImageLoaded:function(){this.loaded=!0,this.onImageLoadCallback&&this.onImageLoadCallback()},beforeAnimate:function(){this.parent(),this.setSize(this.image.width,this.image.height+40);
},afterAnimate:function(){this.parent(),this.setSize(this.image.width,this.image.height)},doDestroy:function(){this.image.destroy(),this.parent()}}),miwo.define("App.view.dialogs.PrivacyDialog",{Extends:App.ui.Dialog,beforeInit:function(){this.parent(),this.cls="privacyDialog",this.title=$tr("app.privacyNotice.title"),this.content='<p class="privacyDialog-text">'+$tr("app.privacyNotice.text")+"</p>"},afterRender:function(){this.parent(),this.closeEl=new Element("div",{parent:this.el,cls:"privacyDialog-close",html:'<i class="icon-small icon-cancel"></i>'}),this.closeEl.on("click",function(a){a.stop(),this.close()}.bind(this))}}),miwo.define("App.view.offline.Notice",{Extends:Miwo.Component,notice:"",beforeInit:function(){this.parent(),this.cls="notice"},afterInit:function(){this.parent(),this.html=this.notice},setNotice:function(a){this.rendered&&this.el.set("html",a)}}),miwo.define("App.view.offline.Panel",{Extends:App.view.FormPanel,controls:null,nameControl:!0,numberControl:!1,beforeInit:function(){
this.parent(),this.id="offlinePanel",this.width=300,this.height=400},createComponentForm:function(){var a=this.parent();if(this.nameControl&&a.addText("name",{label:$tr("app.offline.name")}),a.addText("email",{type:"email",required:!0,label:$tr("app.offline.email"),rules:[{operation:"email",message:$tr("app.offline.emailInvalidAlert")},{operation:"required",message:$tr("app.offline.emailRequiredAlert")}]}),this.numberControl&&a.addText("number",{label:$tr("app.offline.number"),name:"number",required:!0,minlength:5,pattern:"[0-9()-+]{5,}",title:$tr("app.forms.phoneInvalid").substitute({length:5}),rules:[{operation:"phone",message:$tr("app.forms.phoneInvalid").substitute({length:5})}]}),this.controls)for(var b=0;b<this.controls.length;b++){var c=this.controls[b];c.hasOwnProperty("required")||(c.required=!0),a.add(miwo.create(c))}return a.addTextArea("message",{required:!0,label:$tr("app.offline.message"),rules:[{operation:"required",message:$tr("app.offline.messageRequiredAlert")}]}),a.addSubmit("submit",{
label:$tr("app.offline.submit")}),a},createSpinner:function(){return new Spinner(this.contentEl,{inject:{where:"after",target:this.contentEl},message:$tr("app.offline.sendInfo")})},showSpinner:function(){this.spinner||(this.spinner=this.createSpinner()),this.spinner.show()},hideSpinner:function(){this.spinner&&this.spinner.hide()},onFormSuccess:function(a){this.parent(a),this.showSpinner()},translate:function(){this.parent(),this.setTitle($tr("app.offline.title")),this.setNotice($tr("app.offline.notice")),this.form.get("submit").setLabel($tr("app.offline.submit"))},handleSended:function(a){this.form.reset(),this.hideSpinner(),a?this.showMask($tr("app.offline.successTitle"),$tr("app.offline.successDesc"),3e4,{closeable:!0,onClose:function(){this.hideChat()}.bind(this)}):this.showMask($tr("app.offline.failureTitle"),$tr("app.offline.failureDesc"),3e4,{closeable:!0,onClose:function(){this.hideChat()}.bind(this)})}}),miwo.define("App.view.online.CloseDialog",{Extends:App.ui.Dialog,transcriptEnabled:!0,
doInit:function(){this.parent();var a=this;this.cls="closeChatDialog",this.title=$tr("app.dialogClose.title"),this.buttons=[{cls:"btn-default",title:$tr("app.dialogClose.yes"),handler:function(){a.close(),a.fire("close",!1)}},{cls:"btn-default",title:$tr("app.dialogClose.no"),handler:function(){a.close()}}],this.transcriptEnabled&&this.buttons.push({cls:"btn-default",title:$tr("app.dialogClose.send"),forceNewLine:!0,handler:function(){a.close(),a.fire("close",!0)}})}}),miwo.define("App.view.online.LoginPanel",{Extends:App.view.FormPanel,controls:null,nameControl:!0,emailControl:!0,numberControl:!1,beforeInit:function(){this.parent(),this.id="loginPanel",this.width=260,this.height=400,this.title=$tr("app.login.title")},createComponentForm:function(){var a=this.parent();if(a.el.setStyle("marginTop",20),this.nameControl&&a.addText("name",{required:!0,label:$tr("app.offline.name")}),this.emailControl&&a.addText("email",{type:"email",required:!0,label:$tr("app.offline.email"),rules:[{operation:"email",
message:$tr("app.offline.emailInvalidAlert")},{operation:"required",message:$tr("app.offline.emailRequiredAlert")}]}),this.numberControl&&a.addText("number",{label:$tr("app.offline.number"),name:"number",required:!0,minlength:5,pattern:"[0-9()-+]{5,}",title:$tr("app.forms.phoneInvalid").substitute({length:5}),rules:[{operation:"phone",message:$tr("app.forms.phoneInvalid").substitute({length:5})}]}),this.controls)for(var b=0;b<this.controls.length;b++){var c=this.controls[b];c.hasOwnProperty("required")||(c.required=!0),c.hasOwnProperty("translatable")||(c.translatable=!1),a.add(miwo.create(c))}return a.addTextArea("message",{label:$tr("app.login.messageLabel"),required:!0}),a.addSubmit("submit",{label:$tr("app.login.submit")}),a},setMessage:function(a){this.form.get("message").setValue(a)},translate:function(){this.parent(),this.setTitle($tr("app.login.title")),this.setNotice($tr("app.login.notice")),this.form.get("submit").setLabel($tr("app.login.submit")),this.form.get("message").setLabel($tr("app.login.messageLabel"));
}}),miwo.define("App.view.online.MessagePanel",{Extends:Miwo.component.Component,messages:[],messageEl:void 0,escapeEl:void 0,ratingEnabled:!1,beforeInit:function(){this.parent(),this.cls="messages",this.escapeEl=new Element("div")},setMessages:function(a,b){this.clearMessages(!0),Array.each(a,function(a){this.pushMessage(a)},this),b||this.fire("changed",[this])},addMessage:function(a){a.sentAt||(a.sentAt=new Date),this.pushMessage(a),this.fire("changed",[this,a])},getMessages:function(){return this.messages},hasMessages:function(){return this.messages.length>0},clearMessages:function(a){this.messages.empty(),this.el.empty(),a||this.fire("changed",[this])},pushMessage:function(a){("system"!=a.type||"system.message.visitor.join"!=a.content)&&("system"==a.type?this.messageEl=this.renderSystemMessage(a):this.messageEl=this.renderChatMessage(a),"system"==a.type&&"agent.leave"==a.content&&this.ratingEnabled&&(this.ratingBtn&&this.ratingBtn.remove(),this.ratingBtn=this.renderRatingButton()),this.messages.push(a));
},renderSystemMessage:function(a){var b=this.formatSystemMessage(a);return new Element("div",{parent:this.el,cls:"message message-system",html:'<p class="message-text">'+b+"</p>"})},renderChatMessage:function(a){var b="visitor"==a.type?$tr("app.online.visitor"):a.name?a.name:"",c=this.formatTime(a.sentAt),d=this.formatMessage(a);return new Element("div",{parent:this.el,cls:"message message-"+a.type,html:'<div class="message-info"><span class="username operator">'+b+'</span><span class="time">'+c+'</span></div><p class="message-text">'+d+"</p>"})},renderRatingButton:function(){var a=new Element("div",{cls:"chat-rating-ct"});a.inject(this.el);var b=new Element("button",{cls:"btn btn-primary chat-rating-btn",text:$tr("app.online.rate")});return b.inject(a),b.on("click",function(a){a.preventDefault(),this.fire("rating",this)}.bind(this)),a},formatTime:function(a){return"date"===typeOf(a)?a.toTimeString().replace(/.*(\d{2}):(\d{2}):(\d{2}).*/,"$1:$2"):a.replace?a.replace(/(\S+)\s(\d+):(\d+):(\d+)/,"$2:$3"):void 0;
},formatMessage:function(a){var b=a.content;return this.escapeEl.set("text",b),b=this.escapeEl.get("html"),b=b.replace(/(((http:|https:)?\/\/|www.)\S+)/gi,'<a href="$1" rel="noopener noreferrer" target="_blank" >$1</a>'),b=b.replace('href="www','href="http://www'),b=b.replace(/\n/gi,"<br/>")},formatSystemMessage:function(a){switch(a.content){case"agent.join":return $tr("app.messages.agentjoin").substitute(a);case"agent.leave":return $tr("app.messages.agentleave").substitute(a);case"transfer":return $tr("app.messages.transfer").substitute(a);case"chat.rating":return $tr("app.messages.rating");default:return a.content}},translate:function(){this.setMessages(Array.clone(this.messages),!0)}}),miwo.define("App.view.online.Panel",{Extends:App.view.Panel,Implements:[Miwo.utils.Maskable,Miwo.utils.Translatable],muted:!1,avatarSrc:"/assets/avatar.png",defaultAvatarSrc:void 0,title:"",infoTitle:"",infoDesc:"",agentTitle:"",emptyText:"",closeable:!0,hideable:!0,showMenu:!0,closeDialog:!0,closeSendChatDialog:!0,
ratingEnabled:!1,ratingType:"simple",ratingComment:!1,ratingCommentRequired:!1,transcriptEnabled:!0,writable:!0,isMaximized:void 0,enabledScrolling:!0,messagesLoaded:!1,isChatActive:!1,visitorEmail:"@",beforeInit:function(){this.parent(),this.id="onlinePanel",this.width=260,this.height=400,this.componentCls="panel panel-online",this.frameManage=!0,this.visible=!1,this.avatarSrc=miwo.staticUrl+this.avatarSrc},doInit:function(){this.parent(),this.logoSrc=this.policyUrl?this.logoSmSrc:this.logoSrc,this.scrollPane=this.addComponent("scrollpane",new Miwo.panel.Scrollpane),this.messagesPanel=this.scrollPane.addComponent("messages",new App.view.online.MessagePanel({ratingEnabled:this.ratingEnabled})),this.typingControl=this.scrollPane.addComponent("typing",new App.view.online.TypingControl),this.sendForm=this.addComponent("send",new App.view.online.SendForm({visible:this.writable}))},afterInit:function(){this.parent();var a=this;this.messagesPanel.on("changed",function(b,c){a.emptyTextEl.setVisible(!b.hasMessages()),
(a.enabledScrolling||c&&"visitor"==c.type)&&a.scrollPane.scrollBottom()}),this.messagesPanel.on("rating",function(){a.showRatingDialog()}),this.typingControl.on("starttyping",function(){a.enabledScrolling&&a.scrollPane.scrollBottom()}),this.sendForm.on("starttyping",function(){a.fire("typing",[a,!0])}),this.sendForm.on("stoptyping",function(){a.fire("typing",[a,!1])}),this.sendForm.on("send",function(b,c){a.fire("send",[a,c])})},setTitle:function(a){this.title=a,this.rendered&&this.headerEl.getElement(".panel-title span.titleCt").set("html",a)},setEmptyText:function(a){this.emptyText=a,this.rendered&&this.emptyTextEl.set("html",a)},setInfoTitle:function(a){this.infoTitle=a,this.syncAgentValues()},setAgentInfoTitle:function(a){this.agentInfoTitle=a,this.syncAgentValues()},setInfoDesc:function(a){this.infoDesc=a,this.syncAgentValues()},setAgentInfoDesc:function(a){this.agentInfoDesc=a,this.syncAgentValues()},setAvatarSrc:function(a){this.avatarSrc=a,this.syncAgentValues()},setAgentAvatarSrc:function(a){
this.agentAvatarSrc=a,this.syncAgentValues()},syncAgentValues:function(){this.rendered&&(this.infoEl.getElement("h4").set("html",this.agentInfoTitle||this.infoTitle),this.infoEl.getElement("p").set("html",this.agentInfoDesc||this.infoDesc),this.avatarEl.set("src",this.agentAvatarSrc||this.avatarSrc))},close:function(){this.isChatActive&&this.closeDialog?this.showCloseDialog():this.hideChat()},doHide:function(){this.parent(),this.isMaximized=void 0},doShow:function(){this.parent()},focus:function(){this.sendForm.focus()},hideChat:function(){this.hideable&&(this.hide(),this.fire("hidechat",[this]))},closeChat:function(a,b,c){this.fire("closechat",[this,a||"visitorClose",b||null,c||null]),this.hideable&&this.hideChat()},showCloseDialog:function(){var a=this,b=new App.view.online.CloseDialog({transcriptEnabled:this.transcriptEnabled,renderTo:a.findElement(".panel-inner")});b.on("close",function(b){b?a.showSendDialog():a.ratingEnabled&&!a.hasRating?a.showRatingDialog(function(){a.closeChat();
}):a.closeChat()}),b.show()},showSendDialog:function(){var a=this,b=new App.view.online.SendDialog({renderTo:this.findElement(".panel-inner")});b.el.getElement("input").set("value",a.visitorEmail),b.on("submit",function(b){a.fire("sendchat",[a,b]),a.showMask($tr("app.online.transcriptSendedTitle"),$tr("app.online.transcriptSendedDesc")),function(){a.hideMask(),a.ratingEnabled&&!a.hasRating?a.showRatingDialog(function(){a.closeChat()}):a.closeChat()}.delay(2e3)}),b.show()},showRatingDialog:function(a){var b=this,c=new App.view.online.RatingDialog({type:this.ratingType,comment:this.ratingComment,commentRequired:this.ratingCommentRequired,renderTo:this.findElement(".panel-inner")});c.on("rate",function(c,d){b.hasRating=!0,b.fire("rate",[this,c,d]),a&&a(c,d)}),c.show()},setMessages:function(a,b){this.messagesLoaded=!0,this.messagesPanel.setMessages(a),this.checkActivity(),b&&this.get("scrollpane").scrollBottom()},addMessage:function(a){this.messagesPanel.addMessage(a),this.isChatActive||this.checkActivity();
},checkActivity:function(){var a=this.isChatActive,b=!1,c=!1;this.messagesPanel.getMessages().each(function(a){b||"visitor"!==a.type||(b=!0),c||"agent"!==a.type||a.triggeredBy||(c=!0)}),this.isChatActive=b&&c,this.isChatActive!==a&&this.onActivityChanged()},setTyping:function(a,b){this.typingControl.setTyping(a,b)},setText:function(a){return this.sendForm.setText(a),this},send:function(){return this.sendForm.send(),this},setMuted:function(a){this.muted=a,this.rendered&&(this.enableSoundsEl.setVisible(a),this.disableSoundsEl.setVisible(!a))},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct panel-inner"><div class="panel-header"><div miwo-reference="headerEl" miwo-events="click:onHeaderClick" class="miwo-ct"><div class="panel-title" miwo-reference="titleEl"><span class="titleCt">'+this.title+'</span></div><div class="panel-tools tools"><span miwo-events="click:onSettingsBtnClick" miwo-reference="settingsEl" class="tool" name="settings" title="'+$tr("app.online.settingsTitle")+'"><i class="icon-small icon-menu"></i></span><span miwo-events="click:onHideBtnClick" class="tool" name="hide" title="'+$tr("app.online.hideTitle")+'"><i class="icon-small icon-down-open"></i></span><span miwo-events="click:onCloseBtnClick" class="tool" name="close" title="'+$tr("app.online.closeTitle")+'"><i class="icon-small icon-cancel"></i></span></div></div></div><div class="panel-body"><div class="miwo-ct"><div class="panel-info"><div miwo-reference="infoEl" class="miwo-ct"><div class="info-image"><img miwo-reference="avatarEl" src="'+this.avatarSrc+'" width="55" height="55"></div><div class="info-box"><h4>'+this.infoTitle+"</h4><p>"+this.infoDesc+'</p></div></div></div><div class="panel-content"><div miwo-reference="contentEl" miwo-events="mouseenter:onContentMouseenter,mouseleave:onContentMouseleave" class="miwo-ct"><div miwo-reference="emptyTextEl" class="emptytext">'+this.emptyText+'</div><div miwo-component="scrollpane"></div></div></div><div class="panel-footer"><div miwo-reference="footerEl" class="miwo-ct"><div class="buttons"><button miwo-events="click:onCloseBtnClick" class="btn btn-mini btn-default closeBtn">'+$tr("app.online.closeTitle")+'</button><button miwo-events="click:onSendBtnClick" class="btn btn-mini btn-primary sendBtn">'+$tr("app.online.send")+'</button></div><div miwo-component="send"></div>'+this.renderBrand()+'<div miwo-reference="footerMaskEl" class="panel-footer-mask"></div></div></div></div></div><div miwo-reference="menuEl" class="panel-menu"><div class="miwo-ct"><div class="menu"><div class="menu-header"><span>'+$tr("app.settings.title")+'</span> <i class="icon-cancel"></i></div><div class="menu-item" name="endchat" miwo-events="click:onEndChatItemClick">'+$tr("app.online.closeTitle")+'</div><div class="menu-item" name="mute" miwo-reference="disableSoundsEl" miwo-events="click:onDisableSoundsItemClick">'+$tr("app.online.disableSounds")+'</div><div class="menu-item" name="unmute" miwo-reference="enableSoundsEl" miwo-events="click:onEnableSoundsItemClick">'+$tr("app.online.enableSounds")+'</div><div class="menu-item" name="privacy" miwo-reference="privacyEl" miwo-events="click:onPrivacyItemClick"">'+$tr("app.privacyNotice.title")+"</div></div></div></div></div>";
},afterRender:function(){this.parent(),this.disableSoundsEl.hide(),this.enableSoundsEl.hide(),this.footerEl.getElement(".closeBtn").hide(),this.setMuted(this.muted),this.showMenu||this.headerEl.getElement('[name="settings"]').hide(),this.closeable||this.headerEl.getElement('[name="close"]').hide(),this.hideable||this.headerEl.getElement('[name="hide"]').hide(),this.writable||this.footerEl.getElement(".sendBtn").hide(),this.writable||this.el.addClass("panel-readonly"),this.menuEl.getElement(".menu-header").on("click",function(){this.menuEl.hide()}.bind(this))},showPrivacyDialog:function(){var a=new App.view.dialogs.PrivacyDialog({renderTo:this.findElement(".panel-inner")});a.show()},translate:function(){this.setTitle($tr("app.online.title")),this.setInfoTitle($tr("app.online.infoTitle")),this.setInfoDesc($tr("app.online.infoDesc")),this.translateText('[name="settings"]',"title","app.online.settingsTitle"),this.translateText('[name="hide"]',"title","app.online.hideTitle"),this.translateText('[name="close"]',"title","app.online.closeTitle"),
this.translateText(".sendBtn","html","app.online.send"),this.translateText(this.disableSoundsEl,"html","app.online.disableSounds"),this.translateText(this.enableSoundsEl,"html","app.online.enableSounds"),this.translateText(this.privacyEl,"html","app.privacyNotice.title"),this.translateText('.menu [name="endchat"]',"html","app.online.closeTitle"),this.translateText(".menu .menu-header span","html","app.settings.title"),this.messagesPanel.translate(),this.sendForm.translate()},onActivityChanged:function(){this.rendered&&(this.closeable||(this.isChatActive?this.findElement(".buttons .closeBtn").show("inline-block"):this.findElement(".buttons .closeBtn").hide()),this.findElement('.menu [name="endchat"]').setVisible(this.isChatActive))},onContentMouseenter:function(){this.enabledScrolling=!1},onContentMouseleave:function(){this.enabledScrolling=!0},onSettingsBtnClick:function(a){a.stop(),this.menuEl.toggle()},onHideBtnClick:function(a){a.stop(),this.hideChat()},onCloseBtnClick:function(a){a.stop(),
this.isChatActive?this.showCloseDialog():this.hideChat()},onEndChatItemClick:function(){this.showCloseDialog(),this.menuEl.hide()},onEnableSoundsItemClick:function(){this.fire("mutechange",[this,!1]),this.menuEl.hide()},onDisableSoundsItemClick:function(){this.fire("mutechange",[this,!0]),this.menuEl.hide()},onSendBtnClick:function(){this.send()},onPrivacyItemClick:function(a){a.stop(),this.fire("openprivacy",[this])},onHeaderClick:function(){this.hideChat()}}),miwo.define("App.view.online.RatingDialog",{Extends:App.ui.Dialog,value:0,type:"simple",comment:!1,commentRequired:!1,beforeInit:function(){this.parent(),this.cls="ratingDialog",this.title=$tr("app.dialogRating.title"),this.content='<div class="rating"><div class="rating-votes"><a href="#" miwo-events="click:onRatingClick" data-value="5" class="icon-smile-5"></a><a href="#" miwo-events="click:onRatingClick" data-value="4" class="icon-smile-4"></a><a href="#" miwo-events="click:onRatingClick" data-value="3" class="icon-smile-3"></a><a href="#" miwo-events="click:onRatingClick" data-value="2" class="icon-smile-2"></a><a href="#" miwo-events="click:onRatingClick" data-value="1" class="icon-smile-1"></a></div><div class="rating-form" style="display: none"><div class="form-group group-comment" style="display: none"><textarea class="form-control" placeholder="'+$tr("app.dialogRating.commentTitle")+'"></textarea></div><div class="form-group group-submit"><button miwo-events="click:onSubmitClick" class="btn btn-default">'+$tr("app.dialogRating.submit")+"</button></div></div></div>";
},beforeRender:function(){this.parent(),this.html+='<span miwo-events="click:onSubmitClick" class="tool closeBtn" name="close"><i class="icon-small icon-cancel"></i></span>'},afterRender:function(){this.parent(),this.comment&&this.findElement(".group-comment").show(),"simple"==this.type&&(this.findElement(".rating-votes").addClass("rating-simple"),this.findElement(".rating-votes [data-value=2]").hide(),this.findElement(".rating-votes [data-value=4]").hide())},onRatingClick:function(a){a.preventDefault(),this.value=parseInt(a.target.get("data-value"),10),this.findElements(".rating-votes").addClass("voted"),this.findElements(".rating-votes a").removeClass("active"),a.target.addClass("active"),this.comment?(this.findElement(".rating-form").show(),this.findElement("textarea").focus()):this.onRatingDone()},onSubmitClick:function(a){a.preventDefault(),this.onRatingDone()},onRatingDone:function(){this.fire("rate",[this.value,this.findElement("textarea").get("value")]),this.close()}}),miwo.define("App.view.online.SendDialog",{
Extends:App.ui.Dialog,beforeInit:function(){this.parent();var a=this;this.cls="sendDialog",this.title=$tr("app.dialogSend.title"),this.content='<form><input type="email" name="email" class="form-control" value="@" placeholder="'+$tr("app.dialogSend.email")+'" required="required" /><input class="submit" type="submit" value="send" style="display: none" /></form>',this.buttons=[{cls:"btn-default",title:$tr("app.dialogSend.yes"),handler:function(){a.findElement(".submit").click()}},{cls:"btn-default",title:$tr("app.dialogSend.no"),handler:function(){a.close()}}]},afterRender:function(){this.parent();var a=this;this.findElement("form").on("submit",function(b){b.stop();var c=a.findElement('[name="email"]').get("value");c&&(a.close(),a.fire("submit",c))})}}),miwo.define("App.view.online.SendForm",{Extends:Miwo.component.Component,Implements:Miwo.utils.Translatable,interval:3e3,maxLength:1e3,typing:!1,writable:!0,beforeInit:function(){this.parent(),this.id="sendForm",this.cls="sendForm",this.el="form";
},doInit:function(){this.parent(),this.textarea=new Element("textarea",{id:"sendFormTextarea",parent:this.el,maxlength:this.maxLength,cls:"form-control"}),this.textarea.on("keypress",this.bound("onKeypress")),this.textarea.on("keyup",this.bound("onKeyup")),this.textarea.set("value",miwo.cookie.read("ssupp.message")||""),this.textarea.set("disabled",!this.writable)},getMessage:function(){var a=String.trim(this.textarea.value.toString());return a.length>this.maxLength?!1:a},send:function(){var a=this.getMessage();a&&(this.clearTyping(),this.fire("send",[this,a]),this.textarea.value="")},focus:function(){this.textarea.focus(),Chat.utils.Element.setCaretPosition(this.textarea)},refreshTyping:function(){this.typing||(this.typing=!0,this.fire("starttyping",this)),this.intervalId&&clearTimeout(this.intervalId),this.intervalId=this.stopTyping.delay(this.interval,this)},stopTyping:function(){this.clearTyping(),this.fire("stoptyping",this)},clearTyping:function(){this.intervalId&&clearTimeout(this.intervalId),
this.typing=!1},setText:function(a){this.textarea.value=a},afterRender:function(){this.parent(),this.textarea.set("placeholder",$tr("app.online.textareaPlaceholder"))},translate:function(){this.translateText(this.textarea,"placeholder","app.online.textareaPlaceholder")},onKeypress:function(a){13!=a.code||a.shift?this.refreshTyping():(a.preventDefault(),this.send())},onKeyup:function(a){13!=a.code||a.shift?miwo.cookie.write("ssupp.message",this.getMessage()):miwo.cookie.write("ssupp.message","")}}),miwo.define("App.view.online.TypingControl",{Extends:Miwo.component.Component,beforeInit:function(){this.parent(),this.componentCls="typing",this.html="<p></p>"},setTyping:function(a,b){a?this.startTyping(b):this.stopTyping()},startTyping:function(a){this.el.set("html","<p>"+$tr("app.online.typingMsg").substitute({name:a})+"</p>")},stopTyping:function(){this.el.set("html","<p></p>")}}),miwo.define("App.view.widget.Button",{Extends:Miwo.component.Container,status:"unknown",showNotifications:!0,
beforeInit:function(){this.parent(),this.id="buttonPanel",this.componentCls="button",this.height=35,this.visible=!1,this.frameManage=!0,this.frameOffsetX=5,this.frameOffsetY=5,this.frameAlignY="bottom"},setFrameMgr:function(a){this.frameMgr=a},afterInit:function(){this.parent(),this.counter=this.addComponent("counter",new App.view.widget.Counter({enabled:this.showNotifications}))},getSize:function(){var a=this.parent();return this.counter.count>0&&(a.height=Math.max(a.height,75)),a},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct"><div class="button-icon"><div class="icon icon-comment"></div></div><div class="button-text">'+$tr("app.button.title")+"</div></div>"},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),this.updateUnreadedMessages()},renderContainer:function(){this.get("counter").setParentEl(this.el)},translate:function(){this.findElement(".button-text").set("html",$tr("app.button.title")),this.fire("resize",this)},onClick:function(a){
a.stop(),this.fire("click",this)},setStatus:function(a){this.status=a,this.rendered&&this.updateUnreadedMessages()},updateUnreadedMessages:function(){if("unknown"!==this.status)if("offline"===this.status||"invisible"===this.status)this.counter.reset();else{var a=miwo.cookie.read("ssupp.unreaded");a&&this.counter.setCount(parseInt(a,10))}},handleUnreadedMessage:function(){this.counter.increment(),miwo.cookie.write("ssupp.unreaded",this.counter.count),this.fire("resize",this)},cleanUnreadedMessage:function(){this.counter.reset(),miwo.cookie.dispose("ssupp.unreaded"),this.fire("resize",this)}}),miwo.define("App.view.widget.Counter",{Extends:Miwo.component.Component,name:"counter",bounceInterval:5e3,fillColor:"#f00",count:0,textEl:void 0,enabled:!0,beforeInit:function(){this.parent(),this.cls="counter",this.height=70,this.visible=!1,this.frameManage=!0,this.left=10,this.bottom=0,this.html='<div class="counter-bouncingbox"><div class="counter-bounce"><div class="counter-content miwo-ct"><canvas width="16" height="28"></canvas><p miwo-reference="textEl"></p></div></div></div>';
},increment:function(){this.setCount(this.count+1)},reset:function(){this.count>0&&this.setCount(0)},setCount:function(a){this.count=a,this.enabled&&(0===a?(this.hide(),this.stopBouncing()):(this.show(),this.setText(a),this.stopBouncing(),this.startBouncing()))},setText:function(a){this.textEl.set("html",a)},doRender:function(){this.parent();var a=this.el.getElement(".counter-bounce"),b=this.el.getElement(".counter-content"),c=b.getElement("canvas");c.getContext&&c.getContext("2d")?this.drawArrow(c.getContext("2d"),16,20,this.fillColor):(c.setStyle("display","none"),b.setStyle("background",this.fillColor)),this.linearFx=new Fx.Tween(a,{duration:100,link:"cancel",transition:"linear",property:"bottom"}),this.bounceFx=new Fx.Tween(a,{duration:"long",transition:"bounce:out",link:"cancel",property:"bottom"})},drawArrow:function(a,b,c,d){a.fillStyle=d,a.lineWidth=1,a.roundRect(0,0,b,c,[4,4,0,0]),a.fill(),a.beginPath(),a.moveTo(0,c),a.lineTo(b/2,c+b/2),a.lineTo(b,c),a.closePath(),a.fill()},bounce:function(){
var a=this;a.linearFx.start(0,20).chain(function(){a.bounceFx.start(20,0)})},startBouncing:function(){this.bounce(),this.bounceInterval&&(this.intervalId=this.bounce.periodical(this.bounceInterval,this))},stopBouncing:function(){this.bounceInterval&&clearInterval(this.intervalId)},doDestroy:function(){this.stopBouncing(),this.parent()}}),miwo.define("App.view.widget.Widget",{Extends:Miwo.component.Container,Implements:Miwo.utils.Translatable,name:"widget",text:{offline:"offline",online:"online",away:"away"},banner:{type:"bubble",options:void 0},status:"unknown",animateBanner:void 0,showNotifications:!0,frameMgr:null,beforeInit:function(){this.parent(),this.id="widgetPanel",this.componentCls="widget",this.visible=!1,this.frameManage=!0},afterInit:function(){this.parent(),this.setBanner(this.banner.type,this.banner.options),this.counter=this.addComponent("counter",new App.view.widget.Counter({enabled:this.showNotifications}))},setFrameMgr:function(a){this.frameMgr=a,this.frameMgr.on("alignchange",this.bound("onFrameMgrAlignChange"));
},onFrameMgrAlignChange:function(){var a=this.frameMgr;this._size&&("bottom"===a.alignY?(this.width=this._size.width,this.height=this._size.height,this.el.setStyle("width",this.width),this.el.setStyle("height",this.height),this.textEl.setStyle("maxWidth",null)):(this.width=35,this.height=250,this.el.setStyle("width",this.height),this.el.setStyle("height",this.width),this.textEl.setStyle("maxWidth",this.height)),this.fire("resize",this),this.updateBannerVisibility())},setStatus:function(a){this.status=a,this.rendered&&("online"===a||"away"===a?(this.el.addClass("widget-online"),this.el.removeClass("widget-offline"),this.el.getElement(".widget-icon i").addClass("icon-chat").removeClass("icon-mail-alt")):(this.el.addClass("widget-offline"),this.el.removeClass("widget-online"),this.el.getElement(".widget-icon i").addClass("icon-mail-alt").removeClass("icon-chat")),this.textEl.set("text",$tr("app.widget."+a)),this.fire("resize",this),this.updateUnreadedMessages())},setBanner:function(a,b){var c,d=this,e=!1;
return(c=this.getComponent("banner",!1))&&(e=c.isVisible(),this.removeComponent("banner"),$destroy(this.banner),this.banner=null),a&&"side"!==this.frameMgr.alignY?(b=b||{},b.id="banner",b.visible=e,b.bottom=this.height,void 0===b.animate&&void 0!==this.animateBanner&&(b.animate=this.animateBanner),c=miwo.create("App.view.banner."+a.capitalize(),b),c.on("bannerready",function(){d.el.setStyle("minWidth",Math.max(c.width||0,170)),d.fire("resize",this)}),this.fire("bannercreated",[this,c]),this.banner=this.addComponent("banner",c),void this.updateBannerVisibility()):void(this.banner=null)},setBannerVisible:function(a){this.bannerVisible=a,this.updateBannerVisibility()},setSize:function(a){this.banner&&a&&a.height&&(this.banner.bottom=a.height),this._size=a,this.parent(a)},getSize:function(){var a=this.parent();if("bottom"===this.frameMgr.alignY)if(this.banner&&this.banner.isVisible()){var b=this.banner.getSize();a.height=a.height+b.height,a.width=Math.max(a.width,b.width)}else a.width=Math.max(a.width,160);
return a},updateBanner:function(a){this.banner&&this.banner.update(a)},updateBannerVisibility:function(){this.banner&&("bottom"===this.frameMgr.alignY?this.banner.setVisible(this.bannerVisible):this.banner.setVisible(!1))},updateUnreadedMessages:function(){if("unknown"!==this.status)if("offline"===this.status||"invisible"===this.status)this.counter.reset();else{var a=miwo.cookie.read("ssupp.unreaded");a&&this.counter.setCount(parseInt(a,10))}},handleUnreadedMessage:function(){this.counter.increment(),miwo.cookie.write("ssupp.unreaded",this.counter.count)},cleanUnreadedMessage:function(){this.counter.reset(),miwo.cookie.dispose("ssupp.unreaded")},beforeRender:function(){this.parent(),this.html='<div class="widget-icon"><i class="icon icon-chat"></i></div><div miwo-reference="textEl" class="widget-text"></div>'},renderContainer:function(){this.banner&&this.banner.render(this.el),this.get("counter").setParentEl(this.el)},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),
this.setStatus(this.status),this.updateUnreadedMessages(),this.onFrameMgrAlignChange()},translate:function(){this.banner&&this.banner.translate(),this.translateText(this.textEl,"text","app.widget."+this.status),this.fire("resize",this)},onClick:function(){this.fire("click",this)}}),Locale.define("ar","app",{messages:{agentjoin:"{name}  ",agentleave:"{name}   ",transfer:"    {name}",rating:"  "},dialogClose:{title:"     ",yes:"",no:"",send:"      "},dialogSend:{title:"    ",email:" ",yes:"",no:""},dialogRating:{title:"     ",cancel:"   ",submit:"",commentTitle:""},online:{title:" ",infoTitle:" ",infoDesc:"  ",maximize:"",minimize:"",hideTitle:" ",closeTitle:" ",settingsTitle:"",disableSounds:" ",
enableSounds:" ",visitor:"",send:"",textareaPlaceholder:"    <enter> ",typingMsg:"{name}   ...",transcriptSendingTitle:"  ...",transcriptSendedTitle:"   ",rate:" "},login:{title:" ",messageLabel:"",submit:" "},offline:{title:"  ",notice:"          .       .",hideTitle:" ",name:"",email:"",message:"",submit:" ",messageRequiredAlert:"   ",emailRequiredAlert:"   ",emailInvalidAlert:" ",sendInfo:"   ...",successTitle:"   ",successDesc:"   .    .",failureTitle:"",failureDesc:"   ",number:" "},widget:{online:"",away:"",offline:" "},banner:{bubble:{text:"     "},arrow:{title:"  ",desc:"  "
}},button:{title:" "},settings:{title:""},forms:{phoneInvalid:"   {length} "}}),Locale.inherit("ar","en"),Locale.define("az","app",{messages:{agentjoin:"{name} ata qouldu",agentleave:"{name} at trk etdi",transfer:"at {name} -a transfer olunur",rating:"at qiymtlndirildi"},dialogClose:{title:"at sonlandrmaq istyirsiniz?",yes:"Bli",no:"Xeyr",send:"Bli, atn nsxsi email- gndrilsin"},dialogSend:{title:"atn nsxsini email- gndr",email:"Email",yes:"Sndr",no:"Lv et"},dialogRating:{title:"at nec dyrlndirirsiniz?",cancel:"Dyrlndirmk istmirm",submit:"Gndr",commentTitle:"Sizin rhiniz"},online:{title:"Dstk",infoTitle:"Online Chat",infoDesc:"Sualnz biz verin",maximize:"Bytmk",minimize:"Kiiltmk",hideTitle:"at gizlt",closeTitle:"at bala",settingsTitle:"Qurular",disableSounds:"Ssi deaktiv et",enableSounds:"Ssi aktiv et",visitor:"Mn",send:"Gndr",textareaPlaceholder:"Bura yazb, gndrmk n <enter> basn",
typingMsg:"{name} yazr...",transcriptSendingTitle:"Email gndrilir",transcriptSendedTitle:"Email gndrildi",rate:"Qiymtlndirm agenti"},login:{title:"at Login",messageLabel:"Sizin sualnz",submit:"ata bala"},offline:{title:"Biz mesaj gndrin",notice:"Biz hal-hazrda oflayn vziyytdyik, lakin Siz biz mesajnz gndr bilrsiniz, n qsa zamanda cavab verilck.",hideTitle:"at gizlt",name:"Ad",email:"Email",message:"Sizin mesajnz",submit:"Mesaj gndr",messageRequiredAlert:"Mesaj daxil edilmyib",emailRequiredAlert:"Email daxil edilmyib",emailInvalidAlert:"Email dzgn deyil",sendInfo:"Email gndrilir",successTitle:"Mesajnz n tkkrlr",successDesc:"Sizin mesajnz mvffqiyytl gndrildi. Sizinl tezlikl laq saxlayacaq.",failureTitle:"Shv",failureDesc:"Sizin mesajnz gndrilmdi",number:"Telefon n."},widget:{online:"Onlayn",away:"Mqul",offline:"Xtt deyil"},banner:{bubble:{text:"Biz Sizin suallarnz cavablandrmaa hazrq"},arrow:{title:"Sualnz var?",
desc:"Biz cavab vermy hazrq"}},button:{title:"at"},settings:{title:"Qurular"},forms:{phoneInvalid:"n az {length} nmrni daxil edin"}}),Locale.inherit("az","en"),Locale.define("bg","app",{messages:{agentjoin:"{name}    ",agentleave:"{name}  ",transfer:"    {name}",rating:"  "},dialogClose:{title:"    ?",yes:"",no:"",send:",     e-mail"},dialogSend:{title:"   e-mail",email:"E-mail",yes:"",no:""},dialogRating:{title:"  ?",cancel:"    ",submit:"",commentTitle:" "},online:{title:"",infoTitle:"Live chat",infoDesc:"  ",maximize:"",minimize:"",hideTitle:" ",closeTitle:" ",settingsTitle:"",disableSounds:"  ",enableSounds:"  ",visitor:"",send:"",rate:"  ",textareaPlaceholder:"    ",
typingMsg:"{name} ...",transcriptSendingTitle:"  e-mail",transcriptSendedTitle:"E-mail-a  "},login:{title:"  ",notice:"",messageLabel:" ",submit:" "},offline:{title:"  ",notice:"     ,      .      .",hideTitle:" ",name:"",email:"E-mail",number:" ",message:" ",submit:" ",messageRequiredAlert:"   ",emailRequiredAlert:"   E-mail",emailInvalidAlert:" E-mail",sendInfo:"  E-mail...",successTitle:"   ",successDesc:"    .",failureTitle:"",failureDesc:"    "},widget:{online:"Online",away:"  ",offline:"Offline"},banner:{bubble:{text:"  "},arrow:{title:" ?",desc:"   "}},button:{title:""
},settings:{title:""},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("bg","en"),Locale.define("br","app",{messages:{agentjoin:"{name} se juntou ao chat",agentleave:"{name} abandonou o chat",transfer:"O chat foi transferido para {name}",rating:"Chat foi avaliado"},dialogClose:{title:"Deseja terminar o chat?",yes:"Sim",no:"No",send:"Sim, e enviar o chat para o email"},dialogSend:{title:"Enviar o chat para o email",email:"Email",yes:"Enviar",no:"Cancelar"},dialogRating:{title:"Como avalia o chat?",cancel:"No quero avaliar",submit:"Enviar",commentTitle:"Seu comentrio"},online:{title:"Suporte",infoTitle:"Chat ao vivo",infoDesc:"Pergunte-nos qualquer coisa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Esconder chat",closeTitle:"Fechar chat",settingsTitle:"Configuraes",disableSounds:"Desativar sons",enableSounds:"Ativar sons",visitor:"Eu",send:"Enviar",textareaPlaceholder:"Escreva aqui, pressione <enter> para enviar",typingMsg:"{name} est digitando...",
transcriptSendingTitle:"Enviando email...",transcriptSendedTitle:"Email enviado",rate:"Avaliar o agente"},login:{title:"Entrar no chat",messageLabel:"A sua pergunta",submit:"Iniciar chat"},offline:{title:"Envie-nos uma mensagem",notice:"No momento no estamos disponveis, mas pode nos deixar uma mensagem. Responderemos o mais rapidamente possvel.",hideTitle:"Esconder chat",name:"Nome",email:"Email",message:"Sua mensagem",submit:"Enviar mensagem",messageRequiredAlert:"No inseriu uma mensagem",emailRequiredAlert:"No inseriu um email",emailInvalidAlert:"Email invlido",sendInfo:"Enviando email...",successTitle:"Obrigado pela sua mensagem",successDesc:"Sua mensagem foi enviada com sucesso. Entraremos em contato em breve.",failureTitle:"Erro",failureDesc:"Sua mensagem no foi enviada",number:"Telefone"},widget:{online:"Online",away:"Ausente",offline:"Offline"},banner:{bubble:{text:"Estamos preparados para suas questes"},arrow:{title:"Alguma questo?",desc:"Estamos aqui para responder"}},
button:{title:"Chat"},settings:{title:"Configuraes"},forms:{phoneInvalid:"Ente pelo menos {length} dgitos"},privacyNotice:{title:"Processamento de dados pessoais",text:'Os dados pessoais so processados pela Smartsupp.com, s.r.o., com o ID VAT CZ03668681 (deignada como "Smartsupp") como um processador de dados que atua em nome do proprietrio do website, que  o controlador dos dados. O Smartsupp  compatvel com as GDPR. Voc pode encontrar informaes sobre privacidade e processamento de dados pessoais do Smartsupp em www.smartsupp.com/privacy. O processamento de seus dados pessoais  necessrio para fornecer atendimento ao cliente. Entre em contato com o proprietrio do site se tiver dvidas sobre o processamento de dados pessoais ou se pretender solicitar ou apagar seus dados pessoais.'}}),Locale.inherit("br","en"),Locale.define("ca","app",{messages:{agentjoin:"{name} s'ha unit al xat",agentleave:"{name} ha abandonat el xat",transfer:"El xat s'ha tranferit a {name}",rating:"El xat s'ha valorat correctament"
},dialogClose:{title:"Vol finalitzar el xat?",yes:"Si",no:"No",send:"Si, i enviar la conversa del xat al meu correu electrnic"},dialogSend:{title:"Enviar la conversa del xat al meu correu electrnic",email:"Correu electrnic",yes:"Enviar",no:"Cancellar"},dialogRating:{title:"Com valoraria aquest xat?",cancel:"No vull valorar el xat",submit:"Enviar",commentTitle:"El seu comentari"},online:{title:"Ajuda",infoTitle:"Xat en directe",infoDesc:"Pregunti'ns els seus dubtes",maximize:"Ampliar",minimize:"Minimitzar",hideTitle:"Ocultar el xat",closeTitle:"Finalitzar el xat",settingsTitle:"Configuraci",disableSounds:"Desactivar notificacions sonores",enableSounds:"Activar notificacions sonores",visitor:"Jo",send:"Enviar",textareaPlaceholder:'Escriure aqu i prmer "Enter" per enviar',typingMsg:"{name} est escrivint...",transcriptSendingTitle:"Enviant correu electrnic...",transcriptSendedTitle:"Correu enviat",rate:"Valori l'agent"},offline:{title:"Enviar missatge",notice:"De moment el xat no est actiu, pot deixar-nos un missatge. Li respondrem el ms aviat possible.",
hideTitle:"Ocultar el xat",required:"",name:"Nom",email:"Correu electrnic",message:"Missatge",submit:"Enviar missatge",messageRequiredAlert:"No s'ha escrit cap missatge",emailRequiredAlert:"No s'ha facilitat cap correu electrnic",emailInvalidAlert:"Correu electrnic no vlid",sendInfo:"Enviant correu electrnic...",successTitle:"Grcies pel seu missatge",successDesc:"El seu missatge s'ha enviat correctament. En breu contactarem amb vost.",failureTitle:"Ha succet un error durant l'enviament",failureDesc:"El seu missatge no s'ha pogut enviar",number:"Telfon"},widget:{online:"En lnia",away:"Absent",offline:"No connectat"},banner:{bubble:{text:"Estem disponibles per resoldre les seves preguntes"},arrow:{title:"Alguna pregunta?",desc:"Estem disponibles per resoldre les seves preguntes"}},button:{title:"Xat"},login:{title:"Autentificaci del xat",messageLabel:"La seva pregunta",submit:"Iniciar el xat"},settings:{title:"Configuraci"},forms:{phoneInvalid:"Faciliti almenys {length} nmeros"
},privacyNotice:{title:"Processant les seves dades personals",text:"Les dades personals seran processades per Smartsupp.com, S.R.O., amb nmero d'IVA CZ03668681 (dara en endavant \"Smartsupp\") com a processador de dades que actua en nom del propietari del lloc web que s el controlador de dades. Smartsupp compleix el nou Reglament General de Protecci de Dades (GDPR). Podeu trobar ms informaci sobre la privacitat i el processament de dades personals de Smartsupp a www.smartsupp.com/privacy. El processament de les vostres dades personals s necessari per proporcionar-vos el servei d'atenci al client. Poseu-vos en contacte amb el propietari del lloc web si teniu preguntes sobre el processament de dades personals o si voleu sollicitar o esborrar les vostres dades personals."}}),Locale.inherit("ca","en"),Locale.define("cn","app",{messages:{agentjoin:"<strong>{name}</strong> .",agentleave:"<strong>{name}</strong> .",transfer:" <b>{name}</b>",rating:""},dialogClose:{title:"?",
yes:"",no:"",send:""},dialogSend:{title:"",email:"",yes:"",no:""},dialogRating:{title:"",cancel:"Don't rate",submit:"",commentTitle:""},online:{title:"",infoTitle:"Live chat",infoDesc:"",maximize:"",minimize:"",hideTitle:"",closeTitle:"",settingsTitle:"",disableSounds:"",enableSounds:"",visitor:"",send:"",textareaPlaceholder:", ",typingMsg:"<span>{name}</span>...",transcriptSendingTitle:"...",transcriptSendedTitle:"",rate:""},login:{title:"Chat login",messageLabel:"Your question",submit:"Start chat"},offline:{title:"",notice:", . .",hideTitle:"",name:"",email:"",message:"",submit:"",messageRequiredAlert:".",emailRequiredAlert:".",emailInvalidAlert:"",sendInfo:"...",successTitle:"!",successDesc:". .",failureTitle:".",failureDesc:".",number:""},widget:{online:"",away:"",
offline:""},banner:{bubble:{text:"!"},arrow:{title:"?",desc:"."}},button:{title:""},settings:{title:""},forms:{phoneInvalid:"{length}"}}),Locale.inherit("cn","en"),Locale.define("cs","app",{messages:{agentjoin:"{name} se pipojil(a) do chatu",agentleave:"{name} se odpojil(a) z chatu",transfer:"Chat byl pesmrovn na {name}",rating:"Chat byl ohodnocen"},dialogClose:{title:"Pejete si ukonit chat?",yes:"Ano",no:"Ne",send:"Ano a chci zaslat chat na e-mail"},dialogSend:{title:"Odeslat chat na e-mail",email:"E-mail",yes:"Odeslat",no:"Zruit"},dialogRating:{title:"Ohodnote prci opertora",cancel:"Nechci hodnotit",submit:"Odeslat",commentTitle:"V koment"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Zeptejte se ns na cokoliv",maximize:"Zvtit okno",minimize:"Zmenit okno",hideTitle:"Skrt chat",closeTitle:"Ukonit chat",settingsTitle:"Nastaven",disableSounds:"Vypnout zvuky",enableSounds:"Zapnout zvuky",visitor:"J",send:"Odeslat",textareaPlaceholder:"Pite zde, pro odesln stisknte <enter>",
typingMsg:"<span>{name}</span> pe...",transcriptSendingTitle:"E-mail se odesl...",transcriptSendedTitle:"E-mail byl spn odesln",rate:"Ohodnote opertora"},login:{title:"Pihlen do chatu",messageLabel:"V dotaz",submit:"Zat chat"},offline:{title:"Napite nm zprvu",notice:"Nejsme zrovna k dispozici. Zanechte nm zprvu a my se vm ozveme.",hideTitle:"Skrt chat",name:"Jmno",email:"E-mail",number:"Telefon",message:"Napite nm zprvu",submit:"Odeslat",messageRequiredAlert:"Nezadali jste dnou zprvu",emailRequiredAlert:"Nezadali jste e-mail",emailInvalidAlert:"Neplatn e-mail",sendInfo:"E-mail se odesl...",successTitle:"Dkujeme za v dotaz",successDesc:"V dotaz byl spn odesln. V blzk dob vs budeme kontaktovat.",failureTitle:"Chyba pi odesln",failureDesc:"Je nm lto, ale v dotaz se nepodailo odeslat."},widget:{online:"Jsme online",away:"Zrovna tu nejsme",offline:"Napite nm zprvu"},banner:{bubble:{text:"Mte dotazy? Rdi vm poradme."},arrow:{title:"Mte dotazy?",
desc:"Rdi vm poradme"}},button:{title:"Chat"},settings:{title:"Nastaven"},forms:{phoneInvalid:"Napite alespo {length} slic"},privacyNotice:{title:"Zpracovn osobnch daj",text:'Osobn daje zpracovv Smartsupp.com, s.r.o., DI CZ03668681 (dle jako "Smartsupp") jako zpracovatel osobnch daj pro majitele webovch strnek, kter je sprvcem osobnch daj. Smartsupp zpracovv osobn daje v souladu s GDPR. Informace o tom, jak Smartsupp chrn a zpracovv osobn daje mete najt na www.smartsupp.com/cs/privacy. Zpracovn vaich osobnch daj je potebn k poskytnut zkaznick podpory. Pokud mte dotazy ohledn zpracovn osobnch daj, nebo chcete vydat nebo smazat vae osobn daje, kontaktujte prosm majitele webovch strnek.'}}),Locale.inherit("cs","en"),Locale.define("da","app",{messages:{agentjoin:"{name} loggede p",agentleave:"{name} loggede af",transfer:"Samtalen er overfrt til {name}",rating:"Chat blev bedmt"},dialogClose:{title:"Vil du afslutte chatten?",
yes:"Ja",no:"Nej",send:"Ja, og send samtalen til e-mail"},dialogSend:{title:"Send samtalen til e-mail",email:"E-mail",yes:"Send",no:"Annuller"},dialogRating:{title:"Vurdr samtalen med supporteren",cancel:"Undlad at stemme",submit:"Send",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Sprg os",maximize:"Maksimer",minimize:"Minimer",hideTitle:"Skjul chat",closeTitle:"Luk chat",settingsTitle:"Indstillinger",disableSounds:"Sl lyde fra",enableSounds:"Sl lyde til",visitor:"Mig",send:"Send",textareaPlaceholder:"Skriv her, tryk <enter> for at sende",typingMsg:"<span>{name}</span> skriver...",transcriptSendingTitle:"E-mail sendt...",transcriptSendedTitle:"E-mailen blev succesfuldt sendt",rate:"Rate agent"},login:{title:"Chat login",messageLabel:"Dit sprgsml",submit:"Start chat"},offline:{title:"Send os en besked",notice:"Vi er desvrre ikke online i jeblikket, men lg en besked til os og vi vender tilbage hurtigst muligt.",hideTitle:"Skjul chat",name:"Navn",
email:"E-mail",message:"Din besked",submit:"Send besked",messageRequiredAlert:"Du har ikke skrevet en besked",emailRequiredAlert:"Du har ikke skrevet en e-mail",emailInvalidAlert:"Ugyldig e-mail adresse",sendInfo:"E-mail bliver sendt...",successTitle:"Tak for din besked",successDesc:"Din e-mail blev succesfuldt sendt. Vi kontakter dig hurtigst muligt.",failureTitle:"Fejl under afsendelse.",failureDesc:"Vi beklager! Der skete en fejl under afsendelse af beskeden.",number:"Telefon"},widget:{online:"Online",away:"Away",offline:"Offline"},banner:{bubble:{text:"Vi er klar til at modtage dine sprgsml!"},arrow:{title:"Nogle sprgsml?",desc:"Vi er klar til at svare"}},button:{title:"Chat"},settings:{title:"Indstillinger"},forms:{phoneInvalid:"Indtast mindst {length} numre"}}),Locale.inherit("da","en"),Locale.define("de","app",{messages:{agentjoin:"{name} hat den Chat betreten",agentleave:"{name} hat den Chat verlassen",transfer:"Chat an {name} bertragen",rating:"Chat Bewertung erfolgt"},dialogClose:{
title:"Mchten Sie den Chat beenden?",yes:"Ja",no:"Nein",send:"Ja, und den Chat per E-Mail senden"},dialogSend:{title:"Chat an E-Mail senden",email:"E-Mail",yes:"Senden",no:"Abbrechen"},dialogRating:{title:"Wie wrden Sie den Chatverlauf bewerten?",cancel:"Ich mchte keine Bewertung abgeben",submit:"Senden",commentTitle:"Ihr Kommentar"},online:{title:"Support",infoTitle:"Live-Chat",infoDesc:"Senden Sie uns Ihre Frage",maximize:"Maximieren",minimize:"Minimieren",hideTitle:"Chat ausblenden",closeTitle:"Chat schlieen",settingsTitle:"Einstellungen",disableSounds:"Tne deaktivieren",enableSounds:"Tne aktivieren",visitor:"Ich",send:"Senden",textareaPlaceholder:"Text hier schreiben und zum Absenden <enter> drcken",typingMsg:"{name} schreibt...",transcriptSendingTitle:"E-mail wird gesendet...",transcriptSendedTitle:"E-Mail zugesandt",rate:"Bewerten Sie Ihren Agenten"},offline:{title:"Senden Sie uns eine Nachricht",notice:"Wir sind momentan nicht verfgbar. Hinterlassen Sie eine Nachricht, wir melden uns bei Ihnen frhestmglich.",
hideTitle:"Chat ausblenden",name:"Name",email:"E-Mail",message:"Ihre Nachricht",submit:"Nachricht senden",messageRequiredAlert:"Sie haben keine Nachricht eingegeben",emailRequiredAlert:"Sie haben keine E-Mail-Adresse eingegeben",emailInvalidAlert:"Ungltige E-Mail-Adresse",sendInfo:"E-Mail wird versendet",successTitle:"Vielen Dank fr Ihre Nachricht",successDesc:"Ihre Nachricht wurde an unser Team gesendet. Wir werden uns schnellstmglich bei Ihnen melden.",failureTitle:"Fehler",failureDesc:"Die Versendung der Nachricht ist fehlgeschlagen",number:"Telefonnummer"},widget:{online:"Online",away:"Abwesend",offline:"Offline"},banner:{bubble:{text:"Wir stehen fr Ihre Fragen zur Verfgung"},arrow:{title:"Haben Sie Fragen?",desc:"Sprechen Sie uns an"}},button:{title:"Chat"},login:{title:"Chat-Login",messageLabel:"Ihre Frage",submit:"Chat starten"},settings:{title:"Einstellungen"},forms:{phoneInvalid:"Minimum {length} Nummern"},privacyNotice:{title:"Persnliche Datenverarbeitung",text:'Personenbezogene Daten werden von Smartsupp.com, s.r.o., USt.-ID CZ03668681 (weiter als "Smartsupp") verarbeitet, dieser ist Datenverarbeiter, der im Namen des Eigentmers der Website handelt. Smartsupp ist mit der DSGVO konform. Informationen zum Datenschutz und zur Verarbeitung von Smartsupp finden Sie unter www.smartsupp.com/privacy. Die Verarbeitung Ihrer persnlichen Daten ist notwendig, um Ihnen den Kundendienst anzubieten. Bitte wenden Sie sich an den Eigentmer der Website, wenn Sie Fragen bezglich der Verarbeitung personenbezogener Daten haben oder wenn Sie Ihre personenbezogenen Daten anfordern oder lschen mchten.'
}}),Locale.inherit("de","en"),Locale.define("el","app",{messages:{agentjoin:"{name}   chat",agentleave:"{name}    chat",transfer:" chat   {name}",rating:" chat "},dialogClose:{title:"     ;",yes:"",no:"",send:",        email "},dialogSend:{title:"    email",email:"E-mail",yes:"",no:""},dialogRating:{title:"      chat;",cancel:",  ",submit:"",commentTitle:"  "},online:{title:" ",infoTitle:" Chat",infoDesc:" , ",maximize:"",minimize:"",hideTitle:"  chat",closeTitle:"  chat",settingsTitle:"",disableSounds:" ",enableSounds:" ",visitor:"",send:"",textareaPlaceholder:" ,   <ENTER>  ",typingMsg:"{name} ...",
transcriptSendingTitle:" email ...",transcriptSendedTitle:"Email  ",rate:"  "},login:{title:"  Chat",messageLabel:"  ",submit:"  chat"},offline:{title:"   ",notice:"   online,           ",hideTitle:"  chat",name:"",email:"E-mail",message:"",submit:" ",messageRequiredAlert:"    .",emailRequiredAlert:"  email ",emailInvalidAlert:" email  ",sendInfo:"  email...",successTitle:"    ",successDesc:"     .     ",failureTitle:"",failureDesc:",    ",number:""},widget:{online:"   ;",away:"   ;",offline:" "},banner:{bubble:{text:"    !"
},arrow:{title:"   ;",desc:"  "}},button:{title:"Chat "},settings:{title:""},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("el","en"),Locale.define("en","app",{messages:{agentjoin:"{name} joined the chat",agentleave:"{name} left the chat",transfer:"Chat transferred to {name}",rating:"Chat was rated"},dialogClose:{title:"Would you like to end the chat?",yes:"Yes",no:"No",send:"Yes, and send the chat to my email"},dialogSend:{title:"Send the chat to my email",email:"Email",yes:"Send",no:"Cancel"},dialogRating:{title:"How would you rate this chat?",cancel:"I don't want to rate the chat",submit:"Send",commentTitle:"Your comment"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Ask us anything",maximize:"Maximize",minimize:"Minimize",hideTitle:"Hide chat",closeTitle:"Close chat",settingsTitle:"Settings",disableSounds:"Disable sounds",enableSounds:"Enable sounds",visitor:"Me",send:"Send",rate:"Rate the agent",
textareaPlaceholder:"Write here, and press Enter to send",typingMsg:"{name} is typing...",transcriptSendingTitle:"Sending email...",transcriptSendedTitle:"Email sent"},login:{title:"Chat login",notice:"",messageLabel:"Your question",submit:"Start chat"},offline:{title:"Send us a message",notice:"We're not here at the moment, but you can leave us a message. We'll respond as soon as we're back.",hideTitle:"Hide chat",name:"Name",email:"Email",number:"Phone number",message:"Your message",submit:"Send message",messageRequiredAlert:"You have not written a message",emailRequiredAlert:"You have not entered an email",emailInvalidAlert:"Invalid email",sendInfo:"Sending email...",successTitle:"Thank you for your message",successDesc:"Your message was sent successfully. We will contact you soon.",failureTitle:"There was an error while sending",failureDesc:"Your message wasn't sent"},widget:{online:"Online",away:"Away",offline:"Offline"},forms:{phoneInvalid:"Enter at least {length} numbers"},banner:{
bubble:{text:"We're ready for your questions"},arrow:{title:"Any questions?",desc:"We're ready to answer"}},button:{title:"Chat"},settings:{title:"Settings"},privacyNotice:{title:"Personal data processing",text:'Personal data are processed by Smartsupp.com, s.r.o., VAT ID CZ03668681 (further as "Smartsupp") as a data processor who acts on behalf of the website owner who is the data controller. Smartsupp is GDPR compliant. You can find information about Smartsupp personal data privacy and processing on www.smartsupp.com/privacy. Processing of your personal data is necessary in order to provide you customer service. Please contact the website owner if you have questions about processing of personal data or if you want to request or erase your personal data.'}}),Locale.define("es","app",{messages:{agentjoin:"{name} se ha unido al chat",agentleave:"{name} ha abandonado el chat",transfer:"Chat ha sido transferido a {name}",rating:"Chat ha sido evaluado"},dialogClose:{title:"Desea terminar el chat?",
yes:"S",no:"No",send:"S, y enviar chat al email"},dialogSend:{title:"Enviar chat al email",email:"Email",yes:"Enviar",no:"Cancelar"},dialogRating:{title:"Cmo evaluaras el chat?",cancel:"No quiero evaluar",submit:"Enviar",commentTitle:"Su comentario"},online:{title:"Soporte",infoTitle:"Chat en vivo",infoDesc:"Pregntanos cualquier cosa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Ocultar chat",closeTitle:"Cerrar chat",settingsTitle:"Configuraciones",disableSounds:"Desactivar sonidos",enableSounds:"Activar sonidos",visitor:"Yo",send:"Enviar",textareaPlaceholder:"Escriba aqu, presiona <enter> para enviar",typingMsg:"{name} est escribiendo...",transcriptSendingTitle:"Email est siendo enviado...",transcriptSendedTitle:"Email enviado",rate:"Evaluar agente"},offline:{title:"Envenos un mensaje",notice:"No estamos disponibles en este momento, pero puede dejarnos un mensaje. Le responderemos tan pronto como sea posible.",hideTitle:"Ocultar chat",required:"",name:"Nombre",email:"Email",
message:"Su mensaje",submit:"Enviar mensaje",messageRequiredAlert:"No ha introducido ningn mensaje",emailRequiredAlert:"No ha introducido ningn email",emailInvalidAlert:"Email invlido",sendInfo:"Email est siendo enviado...",successTitle:"Gracias por su mensaje",successDesc:"Email ha sido enviado. Le contactaremos lo antes posible.",failureTitle:"Error",failureDesc:"El mensaje no ha sido enviado.",number:"Telfono"},widget:{online:"En lnea",away:"Ausente",offline:"Fuera de lnea"},banner:{bubble:{text:"Estamos listos para sus preguntas"},arrow:{title:"Alguna pregunta?",desc:"Listos para responder"}},button:{title:"Chat"},login:{title:"Chat inicio de sesin",messageLabel:"Su pregunta",submit:"Iniciar chat"},settings:{title:"Ajustes"},forms:{phoneInvalid:"Tecla al menos {length} dgitos"},privacyNotice:{title:"Procesamiento de datos personales",text:'Los datos personales son procesados por Smartsupp.com, s.r.o., ID. de IVA CZ03668681 (ms adelante como "Smartsupp") como un procesador de datos que acta en nombre del propietario del sitio web que es el controlador de datos. Smartsupp cumple con GDPR. Puede encontrar informacin sobre la privacidad y el procesamiento de los datos personales de Smartsupp en www.smartsupp.com/privacy. El procesamiento de sus datos personales es necesario para proporcionarle servicio al cliente. Pngase en contacto con el propietario del sitio web si tiene preguntas sobre el procesamiento de datos personales o si desea solicitar o borrar sus datos personales.'
}}),Locale.inherit("es","en"),Locale.define("fa","app",{messages:{agentjoin:"{name}   ",agentleave:"{name}    ",transfer:"   {name}  ",rating:"   "},dialogClose:{title:"       ",yes:"",no:"",send:"        "},dialogSend:{title:"    ",email:" ",yes:"",no:""},dialogRating:{title:"      ",cancel:"    !",submit:"",commentTitle:" "},online:{title:"",infoTitle:" ",infoDesc:"    ",maximize:" ",minimize:" ",hideTitle:"  ",closeTitle:" ",settingsTitle:"",disableSounds:"  ",enableSounds:"  ",visitor:"",send:"",textareaPlaceholder:"       enter   ",typingMsg:"{name}     ...",transcriptSendingTitle:"   ...",transcriptSendedTitle:"    ",
rate:" "},login:{title:"  ",messageLabel:"  ",submit:" "},offline:{title:" ",notice:"      !              ",hideTitle:" ",name:"",email:" ",message:" ",submit:" ",messageRequiredAlert:"      !",emailRequiredAlert:"       !",emailInvalidAlert:"   ",sendInfo:"   ...",successTitle:"   ",successDesc:"         ",failureTitle:"   !",failureDesc:"   ",number:" "},widget:{online:"",away:"",offline:""},banner:{bubble:{text:"    "},arrow:{title:"  ",desc:" "}},button:{title:" "},settings:{title:""},forms:{phoneInvalid:"    {length} "}}),Locale.inherit("fa","en"),Locale.define("fi","app",{
messages:{agentjoin:"{name} liittyi chattiin",agentleave:"{name} poistui chatist",transfer:"Chatti siirrettiin {name}",rating:"Chatti arvioitiin"},dialogClose:{title:"Haluatko lopettaa chatin?",yes:"Kyll",no:"En",send:"Kyll, lhet chatti shkpostiin"},dialogSend:{title:"Lhet chatti shkpostiin",email:"Shkposti",yes:"Lhet",no:"Peruuta"},dialogRating:{title:"Arviosi chatist?",cancel:"En halua antaa arviota",submit:"Lhet",commentTitle:"Kommenttisi"},online:{title:"Tuki",infoTitle:"Live chatti",infoDesc:"Kysy mit tahansa",maximize:"Suurenna",minimize:"Pienenn",hideTitle:"Piilota chatti",closeTitle:"Sulje chatti",settingsTitle:"Asetukset",disableSounds:"net pois",enableSounds:"net plle",visitor:"Min",send:"Lhet",textareaPlaceholder:"Kirjoita thn ja paina <enter>",typingMsg:"{name} kirjoittaa...",transcriptSendingTitle:"Lhetetn shkpostia",transcriptSendedTitle:"Shkposti lhetetty",rate:"Arvioi asiakaspalvelija"},login:{title:"Kirjaudu",messageLabel:"Kysymyksesi",
submit:"Aloita chatti"},offline:{title:"Lhet viesti",notice:"Emme ole juuri nyt tavoitettavissa, mutta voit jtt meille viestin. Otamme yhteytt mahdollisimman pian.",hideTitle:"Piilota chatti.",name:"Nimi",email:"Shkposti",message:"Viestisi",submit:"Lhet viesti",messageRequiredAlert:"Et ole kirjoittanut viesti",emailRequiredAlert:"Et antanut shkpostiosoitetta",emailInvalidAlert:"Shkpostiosoite on vrin",sendInfo:"Lhetetn shkpostia...",successTitle:"Kiitos viestistsi",successDesc:"Viestisi lhetettiin onnistuneesti. Olemme pian yhteydess.",failureTitle:"Virhe",failureDesc:"Viestisi ei lhetetty",number:"Puhelinnumero"},widget:{online:"Paikalla",away:"Ei paikalla",offline:"Poissa"},banner:{bubble:{text:"Olemme valmiina kysymyksillesi"},arrow:{title:"Kysyttv?",desc:"Vastaamme kysymyksiisi"}},button:{title:"Chatti"},settings:{title:"Asetukset"},forms:{phoneInvalid:"Anna vhintn {length} numeroa"}}),Locale.inherit("fi","en"),Locale.define("fr","app",{messages:{agentjoin:"{name} a rejoint chat",
agentleave:"{name} a quitt chat",transfer:"Chat transfr  {name}",rating:"La discussion a t value"},dialogClose:{title:"Voulez-vous terminer le chat?",yes:"Oui",no:"Non",send:"Oui et envoyer le chat par courriel"},dialogSend:{title:"Envoyer chat par email",email:"Email",yes:"Envoyer",no:"Annuler"},dialogRating:{title:"valuer chat",cancel:"Ne pas valuer",submit:"Envoyer",commentTitle:"Votre commentaire"},online:{title:"Aide",infoTitle:"Chat en direct",infoDesc:"Posez nous une question",maximize:"Maximiser",minimize:"Minimiser",hideTitle:"Cacher chat",closeTitle:"Fermer chat",settingsTitle:"Configuration",disableSounds:"Dsactiver les sons",enableSounds:"Activer les sons",visitor:"Moi",send:"Envoyer",textareaPlaceholder:"crivez ici, appuyez <enter> pour envoyer",typingMsg:"{name} crit...",transcriptSendingTitle:"Email envoy...",transcriptSendedTitle:"Email envoy avec succs",rate:"Noter l'agent"},offline:{title:"Envoyez nous un message",notice:"Nous sommes actuellement indisponibles, mais vous pouvez nous laisser un message. Nous vous rpondrons ds que possible.",
hideTitle:"Cacher chat",name:"Nom",email:"Email",message:"Votre message",submit:"Envoyer message",messageRequiredAlert:"Vous n'avez pas crit de message",emailRequiredAlert:"Vous n'avez pas entr votre adresse email",emailInvalidAlert:"Email invalide",sendInfo:"Email en cours d'envoi...",successTitle:"Merci pour votre message",successDesc:"Votre message a t envoy. Nous vous contacterons bientt.",failureTitle:"Erreur",failureDesc:"Envoi a chou",number:"Numro de tlphone"},widget:{online:"En ligne",away:"Absent",offline:"Hors ligne"},banner:{bubble:{text:"Nous sommes prts  rpondre"},arrow:{title:"Avez-vous",desc:"des questions?"}},button:{title:"Chat"},login:{title:"Chat login",messageLabel:"Votre question",submit:"Dmarrer un chat"},settings:{title:"Paramtres"},forms:{phoneInvalid:"{length} chiffres au moins"},privacyNotice:{title:"Traitement de donnes personnelles",text:'Les donnes personnelles sont traites par Smartsupp.com, s.r.o., numro de TVA CZ03668681 (ci-aprs "Smartsupp") en tant que processeur de donnes qui agit pour le compte du propritaire du site Web qui est le responsable du traitement des donnes. Smartsupp est conforme  GDPR. Vous trouverez des informations sur la confidentialit et le traitement des donnes personnelles Smartsupp sur www.smartsupp.com/privacy. Le traitement de vos donnes personnelles est ncessaire afin de vous offrir le service client. Contactez le propritaire du site si vous avez des questions sur le traitement des donnes personnelles ou si vous souhaitez demander ou effacer vos donnes personnelles.'
}}),Locale.inherit("fr","en"),Locale.define("he","app",{messages:{agentjoin:"{name}  '",agentleave:"  '",transfer:"'  ",rating:" '"},dialogClose:{title:"   ' ?",yes:"",no:"",send:",   ' \""},dialogSend:{title:"  ' \"",email:'"',yes:"",no:""},dialogRating:{title:"    ' ?",cancel:"   ",submit:"",commentTitle:""},online:{title:"",infoTitle:"'  ",infoDesc:" ",maximize:"",minimize:"",hideTitle:" '",closeTitle:" '",settingsTitle:"",disableSounds:" ",enableSounds:" ",visitor:"",send:"",textareaPlaceholder:" ,  <Enter>  ",typingMsg:"...",transcriptSendingTitle:' " ...',transcriptSendedTitle:'" ',rate:" "},login:{title:" '",messageLabel:"",submit:" '"},offline:{title:"  ",notice:"   ,    .   .",
hideTitle:" '",name:"",email:'"',message:"",submit:" ",messageRequiredAlert:"  ",emailRequiredAlert:'   " ',emailInvalidAlert:" ",sendInfo:' " ...',successTitle:"   ",successDesc:"  .      ",failureTitle:"",failureDesc:"  ",number:""},widget:{online:" ",away:"",offline:" "},banner:{bubble:{text:"  "},arrow:{title:" ?",desc:"   "}},button:{title:"'"},settings:{title:""},forms:{phoneInvalid:" {length}  "}}),Locale.inherit("he","en"),Locale.define("hi","app",{messages:{agentjoin:"{name}     .",agentleave:"<strong>{name}</strong>  .",transfer:"    <b>{name}</b>",rating:"    "},dialogClose:{title:"     ?",yes:"",no:"",send:"   "},dialogSend:{title:"   ",
email:" ",yes:"",no:" "},dialogRating:{title:"     ",submit:"",commentTitle:" ",cancel:"   "},online:{title:"",infoTitle:" ",infoDesc:"   ",maximize:"",minimize:"",hideTitle:"  ",closeTitle:"  ",settingsTitle:"",disableSounds:"  ",enableSounds:"  ",visitor:"",send:"",textareaPlaceholder:" ,    <enter> ",typingMsg:"<span>{name}</span>   ...",transcriptSendingTitle:"  ...",transcriptSendedTitle:"   ",rate:" "},login:{title:" ",messageLabel:" ",submit:"  "},offline:{title:"  ",notice:"     ,               ",hideTitle:" ",name:"",email:"",message:" ",submit:" ",messageRequiredAlert:"     ",
emailRequiredAlert:"     ",emailInvalidAlert:" ",sendInfo:"     ...",successTitle:"    !",successDesc:"           ",failureTitle:"  ",failureDesc:"   ,        ",number:" "},widget:{online:"  ",away:"  ",offline:"    "},banner:{bubble:{text:"        !"},arrow:{title:" ?",desc:"      "}},button:{title:""},settings:{title:""},forms:{phoneInvalid:"   {length}   "}}),Locale.inherit("hi","en"),Locale.define("hr","app",{messages:{agentjoin:"{name} se pridruio razgovoru",agentleave:"{name} je napustio razgovor",transfer:"Razgovor proslijeen na {name}",rating:"Chat je ocijenjen"},dialogClose:{title:"elite li zavriti razgovor?",yes:"Da",no:"Ne",send:"Da, i poalji razgovor na email"
},dialogSend:{title:"Poalji razgovor na email",email:"Email",yes:"Poalji",no:"Otkai"},dialogRating:{title:"Kako biste ocjenili razgovor?",cancel:"Ne elim ocjenjivati razgovor",submit:"Poalji",commentTitle:"Va komentar"},online:{title:"Podrka",infoTitle:"Razgovor uivo",infoDesc:"Pitajte nas bilo to",maximize:"Rairi",minimize:"Sami",hideTitle:"Sakrij razgovor",closeTitle:"Zatvori razgovor",settingsTitle:"Postavke",disableSounds:"Onemogui zvukove",enableSounds:"Omogui zvukove",visitor:"Ja",send:"Poalji",textareaPlaceholder:"Piite ovdje, pritisnite <enter> za slanje",typingMsg:"{name} tipka...",transcriptSendingTitle:"aljem email",transcriptSendedTitle:"Email je uspjeno poslan",rate:"Stopa agenta"},login:{title:"Prijava za razgovor",messageLabel:"Vae pitanje",submit:"Zaponi razgovor"},offline:{title:"Poaljite nam poruku",notice:"Trenutno nismo dostupni, ali nam moete ostaviti poruku. Javit emo vam se u najkraem moguem roku.",hideTitle:"Sakrij razgovor",name:"Ime",email:"Email",
message:"Vaa poruka",submit:"Poalji poruku",messageRequiredAlert:"Niste upisali poruku.",emailRequiredAlert:"Niste unijeli email.",emailInvalidAlert:"Neispravan email",sendInfo:"aljem poruku...",successTitle:"Hvala na vaoj poruci",successDesc:"Vaa poruka je poslana. Kontaktirati emo vas uskoro.",failureTitle:"Greka",failureDesc:"Vaa poruka nije poslana",number:"Telefon"},widget:{online:"Online",away:"Odsutan",offline:"Offline"},banner:{bubble:{text:"Spremni smo za vaa pitanja"},arrow:{title:"Imate pitanja?",desc:"Spremni smo odgovoriti na pitanja"}},button:{title:"Razgovor"},settings:{title:"Postavke"},forms:{phoneInvalid:"Unesite najmanje {length} brojeva"}}),Locale.inherit("hr","en"),Locale.define("hu","app",{messages:{agentjoin:"{name} csatlakozott a chathez",agentleave:"{name} elhagyta a chatet",transfer:"Chat tkldsre kerlt {name}",rating:"Chat rtkelve"},dialogClose:{title:"Szeretnl vget vetni a chat-nek?",yes:"Igen",no:"Nem",send:"Igen, s chat kldse e-mailben"},
dialogSend:{title:"Chat kldse e-mailben",email:"E-mail",yes:"Klds",no:"Mgse"},dialogRating:{title:"Hogyan rtkelnd a chat-et?",cancel:"Nem akarom rtkelni",submit:"Klds",commentTitle:"A hozzszlsod"},online:{title:"Segtsg",infoTitle:"Live chat",infoDesc:"Krdezzen tlnk brmit",maximize:"Nagyts",minimize:"Kicsinyts",hideTitle:"Chat elrejtse",closeTitle:"Chat bezrsa",settingsTitle:"Belltsok",disableSounds:"Hang kikapcsolsa",enableSounds:"Hang bekapcsolsa",visitor:"n",send:"Klds",textareaPlaceholder:"rja ide zenett, majd nyomja meg a kldshez az <enter> gombot",typingMsg:"{name} ppen gpel...",transcriptSendingTitle:"E-mail elkldve...",transcriptSendedTitle:"E-mail sikeresen elkldve.",rate:"rtkeld a kapcsolattartt"},offline:{title:"Kldjn neknk zenetet!",notice:"Most pp nem vagyunk elrhetk, de hagyhat neknk zenetet, melyet amint lehet, megvlaszolunk.",hideTitle:"Chat elrejtse",name:"Nv",email:"E-mail",message:"Az zenete",submit:"zenet elkldse",
messageRequiredAlert:"Nem rt be zenetet",emailRequiredAlert:"Nem adott meg e-mail cmet",emailInvalidAlert:"rvnytelen e-mail cm",sendInfo:"E-mail kldse folyamatban van...",successTitle:"Ksznjk zenett",successDesc:"Az zenet kldse sikeres volt. Hamarosan felvesszk nnel a kapcsolatot.",failureTitle:"Hiba",failureDesc:"Az zenet kldse sajnos sikertelen volt",number:"Telefonszmok"},widget:{online:"Online",away:"Nincs a gpnl",offline:"Offline"},banner:{bubble:{text:"Kszen llunk a krdseire"},arrow:{title:"Van krdse?",desc:"Kapj vlaszokat most"}},button:{title:"Chat"},login:{title:"Chat login",messageLabel:"A krdsed",submit:"Chat indtsa"},settings:{title:"Belltsok"},forms:{phoneInvalid:"Adjon meg legalbb {length} szmot"},privacyNotice:{title:"Szemlyes adatok feldolgozsa",text:'A szemlyes adatokat a SmartSupp.com, s.r.o., a CZ03668681 adszmmal (tovbbiakban "Smartsupp") dolgozza fel adatfeldolgozknt, aki a weboldal tulajdonosa nevben jr el, aki az adatkezel. A Smartsupp GDPR szablyainak megfelel. A SmartSupp szemlyes adatok vdelmrl s feldolgozsrl a www.smartsupp.com/privacy cmen tjkozdhat. A szemlyes adatok feldolgozsa az gyflszolglat biztostsa rdekben szksges. Krjk, lpjen kapcsolatba a weboldal tulajdonosval, ha krdsei vannak a szemlyes adatok feldolgozsval kapcsolatban, vagy ha szemlyes adatait ki szeretn krni, vagy trlni szeretn.'
}}),Locale.inherit("hu","en"),Locale.define("is","app",{messages:{agentjoin:"{name} tengdist spjallinu",agentleave:"{name} aftengdist spjallinu",transfer:"Spjalli var sent fram  {name}",rating:"Einkunn gefin"},dialogClose:{title:"Villtu loka spjallinu?",yes:"J",no:"Nei",send:"J, og senda afrit af spjallinu  netfang"},dialogSend:{title:"Senda spjall  netfang",email:"Netfang",yes:"Senda",no:"Htta vi"},dialogRating:{title:"Hvernig lkai r spjalli?",cancel:"g vill ekki gefa einkunn",submit:"Send",commentTitle:"n athugasemd"},online:{title:"Hjlp",infoTitle:"Spjalli er opi",infoDesc:"Spuru okkur a hverju sem er",maximize:"Hmarka",minimize:"Lgmarga",hideTitle:"Fela spjall",closeTitle:"Loka spjalli",settingsTitle:"Stillingar",disableSounds:"Slkkva  hlji",enableSounds:"Kveikja  hlji",visitor:"g",send:"Senda",rate:"Gefa jnustufulltra einkunn",textareaPlaceholder:"Skrifa hr, ttu  <enter> til a senda",typingMsg:"{name} er a skrifa...",transcriptSendingTitle:"Sendi tlvupst...",
transcriptSendedTitle:"Tlvupstur sendur"},login:{title:"Spjall innskrning",notice:"",messageLabel:"na spurningu",submit:"Hefja spjall"},offline:{title:"Sendu okkur skilabo",notice:"Vi erum ekki vi  augnablikun en  getur skili eftir skilabo sem vi svrum vi fyrsta tkifri.",hideTitle:"Fela spjall",required:"",name:"Nafn",email:"Tlvupstur",number:"Smanmer",message:"n skilabo",submit:"Senda skilabo",messageRequiredAlert:" hefur ekki skrifa skilabo",emailRequiredAlert:" hefur ekki sett inn netfang",emailInvalidAlert:"gilt netfang",sendInfo:"Sendi tlvupst..",successTitle:"Takk fyrir skilaboin",successDesc:"Skilaboin eru mttekin. Vi munum hafa samband eins fljtt og vi getum.",failureTitle:"Villa",failureDesc:"Skilaboin n voru ekki send"},widget:{online:"Opi",away:"Ekki vi",offline:"Loka"},banner:{bubble:{text:"Vi viljum endilega f spurningu fr r"},arrow:{title:"Einhverjar spurningar?",desc:"Vi erum tilbin a spjalla "}},button:{title:"Spjall"
},settings:{title:"Stillingar"},forms:{phoneInvalid:"Slu inn amk {length} tlur"}}),Locale.inherit("is","en"),Locale.define("it","app",{messages:{agentjoin:"{name} si  unito alla chat",agentleave:"{name} ha lasciato la chat",transfer:"Chat  stata trasferita a {name}",rating:"La chat  stata valutata"},dialogClose:{title:"Vorresti terminare chat?",yes:"Si",no:"No",send:"Si, e invia chat per e-mail"},dialogSend:{title:"Invia chat per e-mail",email:"E-mail",yes:"Invia",no:"Cancella"},dialogRating:{title:"Vota chat con un' agente",cancel:"Non votare",submit:"Invia",commentTitle:"Tuo commento"},online:{title:"Supporto",infoTitle:"Live chat",infoDesc:"Chiedici qualsiasi cosa",maximize:"Massimizza",minimize:"Minimizza",hideTitle:"Nascondi chat",closeTitle:"Chiudi chat",settingsTitle:"Opzioni",disableSounds:"Disabilita i souni",enableSounds:"Abilita i suoni",visitor:"Io",send:"Invia",textareaPlaceholder:"Scrivi qua, premi <invio> per inviare",typingMsg:"{name} sta scrivendo...",transcriptSendingTitle:"E-mail  stata inviata...",
transcriptSendedTitle:"E-mail  stata inviata correttamente",rate:"Valuta il tuo agente"},login:{title:"Chat login",messageLabel:"Tue domande",submit:"Inizia chat"},offline:{title:"Inviaci un messaggio",notice:"Lasciaci un messaggio. Ti risponderemo al pi presto possibile.",hideTitle:"Nascondi chat",name:"Nome",email:"E-mail",message:"Tuo messaggio",submit:"Invia messaggio",messageRequiredAlert:"Non hai inserito un messaggio",emailRequiredAlert:"Non hai inseriti un' indirizzo e-mail",emailInvalidAlert:"Indirizzo e-mail non valido",sendInfo:"E-mail sta partendo...",successTitle:"Grazie per il tuo messaggio",successDesc:"Il tuo messaggio  stato inviato correttamente. Ti risponderemo il prima possibile.",failureTitle:"Errore",failureDesc:"Tuo messaggio non  stato inviato",number:"Numero di telefono"},widget:{online:"Online",away:"Fuori",offline:"Offline"},banner:{bubble:{text:"Siamo pronti per tue domande"},arrow:{title:"Qualche domanda?",desc:"Pronti a rispondere"}},button:{title:"Chat"
},settings:{title:"Opzioni"},forms:{phoneInvalid:"Inserisci almeno {length} numeri "},privacyNotice:{title:"Trattamento dei dati personali"}}),Locale.inherit("it","en"),Locale.define("ja","app",{messages:{agentjoin:"{name} ",agentleave:"",transfer:"{name}",rating:""},dialogClose:{title:"",yes:"",no:"",send:""},dialogSend:{title:"",email:"",yes:"",no:""},dialogRating:{title:"",cancel:"",submit:"",commentTitle:""},online:{title:"",infoTitle:"",infoDesc:"",maximize:"",minimize:"",hideTitle:"",closeTitle:"",settingsTitle:"",disableSounds:"",enableSounds:"",visitor:"",send:"",textareaPlaceholder:"<enter>",typingMsg:"{name}",transcriptSendingTitle:"",transcriptSendedTitle:"",rate:""},login:{title:"",messageLabel:"",submit:""
},offline:{title:"",notice:"",hideTitle:"",name:"",email:"",message:"",submit:"",messageRequiredAlert:"",emailRequiredAlert:"",emailInvalidAlert:"",sendInfo:"",successTitle:"",successDesc:"",failureTitle:"",failureDesc:"",number:""},widget:{online:"",away:"",offline:""},banner:{bubble:{text:""},arrow:{title:"",desc:""}},button:{title:""},settings:{title:""},forms:{phoneInvalid:"{length}"}}),Locale.inherit("ja","en"),Locale.define("ka","app",{messages:{agentjoin:"{name}  ",agentleave:"{name}  ",transfer:"    {name}",rating:" "},dialogClose:{title:"  ?",yes:"",no:"",send:",    -"},dialogSend:{title:"  -",
email:"-",yes:"",no:""},dialogRating:{title:"  ?",cancel:"  ",submit:"",commentTitle:" "},online:{title:"",infoTitle:"",infoDesc:"",maximize:"",minimize:"",hideTitle:"",closeTitle:"",settingsTitle:"",disableSounds:" ",enableSounds:" ",visitor:"",send:"",textareaPlaceholder:" ,  <Enter>- ",typingMsg:"{name} ",transcriptSendingTitle:" -",transcriptSendedTitle:"  ",rate:" "},login:{title:" ",messageLabel:" ",submit:" "},offline:{title:"",notice:"    ,         .",hideTitle:" ",name:"",email:"-",message:" ",submit:" ",messageRequiredAlert:"   ",
emailRequiredAlert:"    -",emailInvalidAlert:" -",sendInfo:" ",successTitle:"  ",successDesc:"   .   .",failureTitle:"",failureDesc:"   ",number:" "},widget:{online:"",away:"",offline:""},banner:{bubble:{text:"    "},arrow:{title:" ?",desc:"  "}},button:{title:" "},settings:{title:""},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("ka","en"),Locale.define("lt","app",{messages:{agentjoin:"{name} prisijung prie pokalbio",agentleave:"{name} atsijung nuo pokalbio",transfer:"Pokalbis perduotas {name}",rating:"Pokalbis buvo vertintas"},dialogClose:{title:"Ar norite baigti pokalb?",yes:"Taip",no:"Ne",send:"Taip, ir tskite pokalb el. patu"},dialogSend:{title:"Isisti pokalb  el. pat",
email:"El. patas",yes:"Sisti",no:"Baigti"},dialogRating:{title:"Kaip vertintumte pokalb?",cancel:"Nenoriu vertinti",submit:"Sisti",commentTitle:"Js komentaras"},online:{title:"Pagalba",infoTitle:"Pokalbis internetu",infoDesc:"Klauskite ms",maximize:"Iskleisti",minimize:"Suskleisti",hideTitle:"Paslpti pokalb",closeTitle:"Baigti pokalb",settingsTitle:"Nustatymai",disableSounds:"Ijungti gars",enableSounds:"jungti gars",visitor:"A",send:"Sisti",textareaPlaceholder:"Raykite ia, spauskite <enter> isisti",typingMsg:"{name} rao ...",transcriptSendingTitle:"Siuniamas el. laikas",transcriptSendedTitle:"E. laikas isistas",rate:"vertinti agent"},login:{title:"Prisijungti prie pokalbio",messageLabel:"Klauskite",submit:"Pradti pokalb"},offline:{title:"Atsiskite mums inut",notice:"iuo metu negalime atsakyti, palikite mums inut, atsakysime kaip galima greiiau.",hideTitle:"Paslpti pokalb",name:"Vardas",email:"El. patas",message:"Js inut",submit:"Sisti",messageRequiredAlert:"Nerate inuts",
emailRequiredAlert:"Nerate el. pato adreso",emailInvalidAlert:"Neteisingas el. pato adresas",sendInfo:"Siuniamas el. laikas",successTitle:"Ai u Js inut",successDesc:"Js inut skmingai isista. Susisieksime su Jumis artimiausiu metu.",failureTitle:"Klaida",failureDesc:"Js inut neisista",number:"Telefono numeris"},widget:{online:"Prisijungs\n",away:"Atsitrauks",offline:"Neprisijungs"},banner:{bubble:{text:"Laukiame Js klausim"},arrow:{title:"Ar turite klausim?",desc:"Gal galime padti"}},button:{title:"Pokalbis"},settings:{title:"Nustatymai"},forms:{phoneInvalid:"veskite bent {length} numerius"}}),Locale.inherit("lt","en"),Locale.define("lv","app",{messages:{agentjoin:"{name} pievienojs atam",agentleave:"{name} pameta atu",transfer:"ats prstts {name}",rating:"ats tika novrtts"},dialogClose:{title:"Vai vlaties beigt atu?",yes:"J",no:"N",send:"J, nostt kopiju epast"},dialogSend:{title:"Stt atu uz epastu",email:"E-pasts",yes:"Stt",no:"Atcelt"
},dialogRating:{title:"K tu novrttu atu?",cancel:"Nevlos vrtt",submit:"Stt",commentTitle:"Tavs komentrs"},online:{title:"Atbalsts",infoTitle:"Online ats",infoDesc:"Jaut mums",maximize:"Palielint",minimize:"Samazint",hideTitle:"Paslpt atu",closeTitle:"Aizvrt atu",settingsTitle:"Iestatjumi",disableSounds:"Izslgt skau",enableSounds:"Ieslgt skau",visitor:"Es",send:"Stt",textareaPlaceholder:"Raksti eit, spied <enter> lai nosttu",typingMsg:"{name} raksta ...",transcriptSendingTitle:"Sta e-pastu",transcriptSendedTitle:"E-pasts nostts",rate:"Novrtt aentu"},login:{title:"Chat login",messageLabel:"Tavs jautjums",submit:"Skt atu"},offline:{title:"Nostt mums ziu",notice:"Ldzu atstjiet ziu, ms atbildsim tikldz tas bs iespjams.",hideTitle:"Paslpt atu",name:"Vrds",email:"E-pasts",message:"Tava zia",submit:"Stt ziu",messageRequiredAlert:"Ziojuma teksts nav ievadts",emailRequiredAlert:"Ldzu nordiet savu e-pastu",emailInvalidAlert:"Nepareizs e-pasts",
sendInfo:"Sta e-pastu...",successTitle:"Paldies par ziu",successDesc:"Zia nostta veiksmgi. Sazinsimies tuvkaj laik.",failureTitle:"Kda",failureDesc:"Ziojums nostts",number:"Tlrua nummurs"},widget:{online:"Online",away:"Away",offline:"Offline"},banner:{bubble:{text:"Esam gatavi atbildt"},arrow:{title:"Jautjumi?",desc:"Esam gatavi atbildt"}},button:{title:"ats"},settings:{title:"Iestatjumi"},forms:{phoneInvalid:"Levadiet vismaz {length} numurus"}}),Locale.inherit("lv","en"),Locale.define("mk","app",{messages:{agentjoin:"{name}    chat-",agentleave:"{name}   chat- ",transfer:"Chat-    {name}",rating:"Chat-  "},dialogClose:{title:"      ?",yes:"",no:"",send:",        -"},dialogSend:{title:"    -",email:"-",yes:"",no:""},dialogRating:{title:"      chat-?",cancel:"    ",
submit:"",commentTitle:" "},online:{title:" ",infoTitle:"Chat  ",infoDesc:"   ",maximize:"",minimize:"",hideTitle:"  chat-",closeTitle:"  chat-",settingsTitle:"",disableSounds:" ",enableSounds:" ",visitor:"",send:"",textareaPlaceholder:" ,  <ENTER>   ",typingMsg:"{name}  ...",transcriptSendingTitle:"-  ...",transcriptSendedTitle:"E-   ",rate:"  "},login:{title:"  Chat",messageLabel:" ",submit:" "},offline:{title:"  ",notice:"    online,           ",hideTitle:"  chat-o",name:"",email:"-",message:"",submit:" ",messageRequiredAlert:"    ",emailRequiredAlert:"    -",emailInvalidAlert:" - ",
sendInfo:"-  ...",successTitle:"   ",successDesc:"   .    .",failureTitle:"",failureDesc:",     ",number:""},widget:{online:"     ?",away:"     ?",offline:"  "},banner:{bubble:{text:"    !"},arrow:{title:"   ?",desc:"    "}},button:{title:"Chat  "},settings:{title:""},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("mk","en"),Locale.define("nl","app",{messages:{agentjoin:"{name} neemt deel aan chat",agentleave:"{name} heeft chat verlaten",transfer:"Chat overgezet naar {name}",rating:"Chat werd beoordeeld"},dialogClose:{title:"Wilt u het gesprek graag beindigen?",yes:"Ja",no:"Nee",send:"Ja, stuur de chat naar e-mail"},dialogSend:{title:"Stuur het gesprek naar e-mail",email:"E-mail",yes:"Stuur",
no:"Annuleer"},dialogRating:{title:"Beoordeel deze service",submit:"Verstuur",commentTitle:"Opmerking",cancel:"Ik wil niet beoordelen"},online:{title:"Hulp",infoTitle:"Live chat",infoDesc:"Stel ons uw vragen",maximize:"Maximaliseer",minimize:"Minimaliseer",hideTitle:"Verberg chat",closeTitle:"Sluit chat",settingsTitle:"Instellingen",disableSounds:"Zet geluid uit",enableSounds:"Zet geluid aan",visitor:"Ik",send:"Stuur",textareaPlaceholder:"Typ hier, druk op <enter> om te versturen",typingMsg:"<span>{name}</span> is aan het typen...",transcriptSendingTitle:"E-mail is verzonden...",transcriptSendedTitle:"E-mail is succesvol verzonden",rate:"Beoordeel je agent"},login:{title:"Chat login",messageLabel:"Uw vraag",submit:"Begin chat"},offline:{title:"Stuur ons een bericht",notice:"We zijn momenteel niet bereikbaar, maar u kunt een bericht bij ons achterlaten. Wij zullen zo spoedig mogelijk reageren.",hideTitle:"Verberg chat",name:"Naam",email:"E-mail",message:"Uw bericht",submit:"Stuur bericht",
messageRequiredAlert:"U heeft geen bericht ingevuld",emailRequiredAlert:"U heeft geen e-mail adres ingevuld",emailInvalidAlert:"Onjuist e-mail adres",sendInfo:"E-mail is aan het versturen...",successTitle:"Bedankt voor uw bericht",successDesc:"Uw bericht is succesvol verstuurd. We nemen contact met u op.",failureTitle:"Fout bij verzenden",failureDesc:"Het versturen van uw bericht is  mislukt",number:"Telefoonnummer"},widget:{online:"Online",away:"Afwezig",offline:"Offline"},banner:{bubble:{text:"We zitten klaar voor uw vragen"},arrow:{title:"Heeft u vragen?",desc:"Wij antwoorden direct"}},button:{title:"Chat"},settings:{title:"Instellingen"},forms:{phoneInvalid:"Voer minimaal {length} nummers in"},privacyNotice:{title:"Verwerking van persoonsgegevens",text:'Persoonsgegevens worden verwerkt door Smartsupp.com, s.r.o., BTW-nummer CZ03668681 (verder als "Smartsupp") die als een gegevensverwerker optreedt namens de eigenaar van de website die de gegevenscontrolleur is. Smartsupp voldoet aan de AVG. U kan meer informatie over de verwerking van privacy- en persoonsgegevens van Smartsupp vinden op www.smartsupp.com/privacy. De verwerking van persoonsgegevens is noodzakelijk om u klantenservice te kunnen leveren. Neem contact op met de eigenaar van de website al u vragen hebt over de verwerking van persoonsgegevens, of als u deze wilt opvragen of verwijderen.'
}}),Locale.inherit("nl","en"),Locale.define("no","app",{messages:{agentjoin:"{name} logget p.",agentleave:"<strong>{name}</strong> logget av.",transfer:"Samtalen er overfrt til <strong>{name}</strong>",rating:"Chat ble vurdert"},dialogClose:{title:"Vil du avslutte chatten?",yes:"Ja",no:"Nei",send:"Ja, og send korrespondansen til min e-post"},dialogSend:{title:"Send korrespondansen til min e-post",email:"E-post",yes:"Send",no:"Avbryt"},dialogRating:{title:"Vurdr samtalen ",cancel:"Avbryt",submit:"Sende",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Spr oss om alt",maximize:"Maksimer",minimize:"Minimer",hideTitle:"Skjul chat",closeTitle:"Lukk chat",settingsTitle:"Instillinger",disableSounds:"Sl av lyd",enableSounds:"Sl p lyd ",visitor:"Meg",send:"Send",textareaPlaceholder:"Skriv her, trykk <enter> for  sende",typingMsg:"<span>{name}</span> skriver...",transcriptSendingTitle:"E-post sendt...",transcriptSendedTitle:"E-mailen ble sendt",rate:"Vurder agent"
},login:{title:"Chat login",messageLabel:"Ditt sprsml",submit:"Start chat"},offline:{title:"Send oss en melding",notice:"Vi er desverre ikke online for yeblikket, men legg igjen en melding til oss og vi kommer tilbake s raskt vi kan.",hideTitle:"Skjul chat",name:"Navn",email:"E-post",message:"Din melding",submit:"Send melding",messageRequiredAlert:"Du har ikke skrevet en melding.",emailRequiredAlert:"Du har ikke skrevet en e-post.",emailInvalidAlert:"Ugyldig e-post",sendInfo:"E-post blir sendt...",successTitle:"Takk for din melding!",successDesc:"Din e-post ble sendt. Vi kontakter deg s raskt vi kan",failureTitle:"Feil ved sending.",failureDesc:"Vi beklager! Der oppstod en feil ved sending av meldingen.",number:"Telefonnummer"},widget:{online:"Spr oss om alt",away:"Spr oss om alt",offline:"Legg inn en melding",counterMsg:"Du har {count} uleste meldinger"},banner:{bubble:{text:"Vi er klar til  mot dine sprsml!"},arrow:{title:"Noen sprsml?",desc:"Vi er klar til  svare."}},button:{
title:"Chat"},settings:{title:"Instillinger"},forms:{phoneInvalid:"Skriv inn minst {length} tall"}}),Locale.inherit("no","en"),Locale.define("pl","app",{messages:{agentjoin:"{name} doczy(a) do chatu",agentleave:"{name} opuci(a) chat",transfer:"Chat przetransferowany do {name}",rating:"Rozmowa zostaa oceniona"},dialogClose:{title:"Czy chcesz zakoczy chat?",yes:"Tak",no:"Nie",send:"Tak, wylij chat na e-mail"},dialogSend:{title:"Wylij chat na e-mail",email:"E-mail",yes:"Wylij",no:"Anuluj"},dialogRating:{title:"Jak oceniby ten chat?",cancel:"Nie chc wystawia oceny",submit:"Wylij",commentTitle:"Twj komentarz"},online:{title:"Wsparcie",infoTitle:"Live chat",infoDesc:"Zapytaj o cokolwiek",maximize:"Powiksz",minimize:"Zmniejsz",hideTitle:"Ukryj chat",closeTitle:"Zakocz chat",settingsTitle:"Ustawienia",disableSounds:"Wycz dwiki",enableSounds:"Wcz dwiki",visitor:"Ja",send:"Wylij",textareaPlaceholder:"Napisz tutaj, wcinij Enter, aby wysa",typingMsg:"{name} pisze...",
transcriptSendingTitle:"Wysyanie e-maila...",transcriptSendedTitle:"E-mail zosta wysany",rate:"Oce agenta"},offline:{title:"Wylij nam wiadomo",notice:"W tym momencie nie jestemy dostpni, ale moesz zostawi wiadomo. Postaramy si odpowiedzie tak szybko jak to moliwe.",hideTitle:"Ukryj chat",name:"Imi",email:"E-mail",message:"Twoja wiadomo",submit:"Wylij wiadomo",messageRequiredAlert:"Brak wiadomoci",emailRequiredAlert:"Brak adresu e-mail",emailInvalidAlert:"Nieprawidowy adres e-mail",sendInfo:"Wysyanie e-maila...",successTitle:"Dzikuj za wiadomo",successDesc:"Twoja wiadomo zostaa wysana z powodzeniem. Skontaktujemy si wkrtce.",failureTitle:"Bd podczas wysyania",failureDesc:"Twoja wiadomo nie zostaa wysana",number:"Numer telefonu"},widget:{online:"Online",away:"Niedostpny",offline:"Offline"},banner:{bubble:{text:"Z chci odpowiemy na pytania"},arrow:{title:"Masz jakie pytania?",desc:"Gotowi do odpowiedzi"}},button:{title:"Chat"},login:{title:"Logowanie do chatu",
messageLabel:"Twoje pytanie",submit:"Rozpocznij chat"},settings:{title:"Ustawienia"},forms:{phoneInvalid:"Wpisz co najmniej {length} cyfr"},privacyNotice:{title:"Przetwarzanie danych osobowych",text:'Dane osobowe s przetwarzane przez Smartsupp.com, s.r.o., VAT ID CZ03668681 (dalej "Smartsupp") jako przetwarzajcy danych, ktry dziaa w imieniu waciciela witryny, ktry jest administratorem danych. Smartsupp jest zgodny z rozporzdzeniem RODO. Informacje na temat prywatnoci danych osobowych i przetwarzania danych Smartsupp znajduj si na stronie www.smartsupp.com/privacy. Przetwarzanie Twoich danych osobowych jest konieczne, aby zapewni Ci obsug klienta. Jeli masz pytania dotyczce przetwarzania danych osobowych lub chcesz wgld do danych osobowych lub usun swoje dane osobowe, skontaktuj si z wacicielem witryny.'}}),Locale.inherit("pl","en"),Locale.define("pt","app",{messages:{agentjoin:"{name} juntou-se ao chat",agentleave:"{name} abandonou o chat",transfer:"O chat foi transferido para {name}",
rating:"Chat foi avaliado"},dialogClose:{title:"Deseja terminar o chat?",yes:"Sim",no:"No",send:"Sim, e enviar o chat para o email"},dialogSend:{title:"Enviar o chat para o email",email:"Email",yes:"Enviar",no:"Cancelar"},online:{title:"Suporte",infoTitle:"Chat ao vivo",infoDesc:"Pergunte-nos qualquer coisa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Esconder chat",closeTitle:"Fechar chat",settingsTitle:"Configuraes",disableSounds:"Desativar sons",enableSounds:"Ativar sons",visitor:"Eu",send:"Enviar",textareaPlaceholder:"Escreva aqui, pressione <enter> para enviar",typingMsg:"{name} est a digitar...",transcriptSendingTitle:"A enviar email...",transcriptSendedTitle:"Email enviado",rate:"Avaliar o agente"},offline:{title:"Envie-nos uma mensagem",notice:"Neste momento no estamos disponveis, mas pode deixar-nos uma mensagem. Responderemos o mais rapidamente possvel.",hideTitle:"Esconder chat",name:"Nome",email:"Email",message:"A sua mensagem",submit:"Enviar mensagem",messageRequiredAlert:"No inseriu uma mensagem",
emailRequiredAlert:"No inseriu um email",emailInvalidAlert:"Email invlido",sendInfo:"A enviar email...",successTitle:"Obrigado pela sua mensagem",successDesc:"A sua mensagem foi enviada com sucesso. Entraremos em contato em breve.",failureTitle:"Erro",failureDesc:"A sua mensagem no foi enviada",number:"Telefone"},widget:{online:"Online",away:"Ausente",offline:"Offline"},banner:{bubble:{text:"Estamos prontos para responder s suas questes"},arrow:{title:"Questes?",desc:"Estamos aqui para responder"}},button:{title:"Chat"},dialogRating:{title:"Como avalia o chat?",cancel:"No quero avaliar",submit:"Enviar",commentTitle:"O seu comentrio"},login:{title:"Entrar no chat",messageLabel:"A sua pergunta",submit:"Iniciar chat"},settings:{title:"Configuraes"},forms:{phoneInvalid:"Insira pelo menos {length} dgitos"},privacyNotice:{title:"Processamento de dados pessoais",text:'Os dados pessoais so processados pela Smartsupp.com, s.r.o., com o ID VAT CZ03668681 (deignada como "Smartsupp") como um processador de dados que atua em nome do proprietrio do website, que  o controlador dos dados. O Smartsupp  compatvel com as GDPR. Voc pode encontrar informaes sobre privacidade e processamento de dados pessoais do Smartsupp em www.smartsupp.com/privacy. O processamento de seus dados pessoais  necessrio para fornecer atendimento ao cliente. Entre em contato com o proprietrio do site se tiver dvidas sobre o processamento de dados pessoais ou se pretender solicitar ou apagar os seus dados pessoais.'
}}),Locale.inherit("pt","en"),Locale.define("ro","app",{messages:{agentjoin:"{name} conectat la chat.",agentleave:"<strong>{name}</strong> deconectat.",transfer:"Chatul a fost transferat la <b>{name}</b>",rating:"Chatul a fost evaluat"},dialogClose:{title:"Dorii s terminai conversaia?",yes:"Da",no:"Nu",send:"Da, trimite conversaia prin e-mail"},dialogSend:{title:"Trimite conversaia prin e-mail",email:"Adresa de e-mail",yes:"Trimite",no:"Anulare"},dialogRating:{title:"V-a fost de folos conversaia?",submit:"Trimite",commentTitle:"Adaug commentariu",cancel:"Nu vreau s ratm"},online:{title:"Suport",infoTitle:"Chat live",infoDesc:"Adresai-ne orice ntrebri",maximize:"Maximalizai",minimize:"Minimalizai",hideTitle:"Ascunde chatul",closeTitle:"nchide Chatul",settingsTitle:"Setri",disableSounds:"Dezactivare sunete",enableSounds:"Activare sunete",visitor:"Eu",send:"Trimite",textareaPlaceholder:"Scriei aici i apsai <enter> pentru a trimite",typingMsg:"<span>{name}</span> tasteaz..",
transcriptSendingTitle:"E-mail trimis...",transcriptSendedTitle:"E-mailul a fost trimis cu succes",rate:"Evaluai agentul"},login:{title:"Autentificare n chat",messageLabel:"ntrebarea dvs.",submit:"Pornii chatul"},offline:{title:"Trimitei-ne un mesaj",notice:"Momentan nu este disponibil nici un operator. V rugm s ne lsai un mesaj i vom rspunde n cel mai scurt timp posibil.",hideTitle:"Ascunde chatul",name:"Nume",email:"Email",message:"Mesajul tu",submit:"Trimite mesajul",messageRequiredAlert:"Nu ai scris nici un mesaj.",emailRequiredAlert:"Nu ai introdus nici o adres de e-mail.",emailInvalidAlert:"Adres de e-mail invalid",sendInfo:"Se trimite e-mailul...",successTitle:"Mulumim pentru mesajul tu!",successDesc:"Mesajul tu a fost trimis cu succes. Vei fi contactat n curnd.",failureTitle:"Eroare.",failureDesc:"Ne cerem scuze, dar mesajul tu nu a fost trimis.",number:"Numar de telefon"},widget:{away:"Absent",online:"Online",offline:"Offline"},banner:{bubble:{text:"Ateptm ntrebrile dvs.!"
},arrow:{title:"Avei ntrebri?",desc:"V stm la dispoziie!"}},button:{title:"Chat"},settings:{title:"Setri"},forms:{phoneInvalid:"Introducei cel puin {length} numere"}}),Locale.inherit("ro","en"),Locale.define("ru","app",{messages:{agentjoin:"{name}   .",agentleave:"<strong>{name}</strong>   .",transfer:"    <b>{name}</b>",rating:"  "},dialogClose:{title:"   ?",yes:"",no:"",send:",     e-mail"},dialogSend:{title:"    e-mail",email:"E-mail",yes:"",no:""},dialogRating:{title:",   ",cancel:"   ",submit:"",commentTitle:" "},online:{title:"",infoTitle:" ",infoDesc:"  ",maximize:" ",minimize:" oo",hideTitle:" ",closeTitle:" ",settingsTitle:"",disableSounds:" ",
enableSounds:" ",visitor:"",send:"",textareaPlaceholder:"  ,    <Enter>",typingMsg:"<span>{name}</span> ...",transcriptSendingTitle:"E-mail ...",transcriptSendingDesc:"",transcriptSendedTitle:"E-mail  ",transcriptSendedDesc:"",rate:""},offline:{title:"  ",notice:" ,       . , , ,      .",hideTitle:" ",name:"",email:"Email",message:"  ",submit:"",messageRequiredAlert:"   .",emailRequiredAlert:"   e-mail.",emailInvalidAlert:" e-mail.",sendInfo:"Email ...",successTitle:"   !",successDesc:"   .        .",failureTitle:"  ",failureDesc:" ,     .",number:""
},widget:{online:"o",away:"",offline:"o"},banner:{bubble:{text:" ,      !"},arrow:{title:"   ?",desc:"  "}},button:{title:""},settings:{title:""},login:{title:"  ",messageLabel:" ",submit:" "},forms:{phoneInvalid:"   {length} "}}),Locale.inherit("ru","en"),Locale.define("sk","app",{messages:{agentjoin:"{name} sa pripojil(a) do chatu",agentleave:"{name} sa odpojil(a) z chatu",transfer:"Chat bol presmerovan na {name}",rating:"Chat bol ohodnoten"},dialogClose:{title:"Prajete si ukoni chat?",yes:"no",no:"Nie",send:"Ano, a chat zasla na e-mail"},dialogSend:{title:"Odosla chat na e-mail",email:"E-mail",yes:"Odosla",no:"Zrui"},dialogRating:{title:"Ohodnote prcu opertora",cancel:"Nechcem hodnoti",submit:"Odosla",commentTitle:"V komentr"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Optajte sa ns okovek",maximize:"Zvi okno",
minimize:"Zmeni okno",hideTitle:"Schova chat",closeTitle:"Ukoni chat",settingsTitle:"Nastavenia",disableSounds:"Vypn zvuky",enableSounds:"Zapn zvuky",visitor:"Ja",send:"Odosla",textareaPlaceholder:"Pte sem, pre odoslanie stlate <enter>",typingMsg:"{name} pe...",transcriptSendingTitle:"E-mail sa odosiela...",transcriptSendingDesc:"",transcriptSendedTitle:"E-mail bol spene odoslan",transcriptSendedDesc:"",rate:"Ohodnote opertora"},login:{title:"Zahjenie chatu",messageLabel:"Vaa otzka",submit:"Zaa chat"},offline:{title:"Napte nm sprvu",notice:"Momentlne nie sme k dispozcii, ale mete nm zanecha sprvu.",hideTitle:"Schova chat",name:"Meno",email:"E-mail",message:"Napte nm sprvu",submit:"Odosla sprvu",messageRequiredAlert:"Nezadali ste iadnu sprvu",emailRequiredAlert:"Nezadali ste e-mail",emailInvalidAlert:"Neplatn e-mail",sendInfo:"E-mail sa odosiela...",successTitle:"akujeme za vau otzku",successDesc:"Vaa sprva bola spene odoslan. V blzkej dobe vs budeme kontaktova.",
failureTitle:"Chyba pri odosielan",failureDesc:"Vau sprvu sa nepodarilo odosla.",number:"Telefn"},widget:{online:"Online",away:"Pre",offline:"Offline"},banner:{bubble:{text:"Mte otzky?"},arrow:{title:"Mte otzky?",desc:"Radi vm poradme"}},button:{title:"Chat"},settings:{title:"Nastavenie"},forms:{phoneInvalid:"Zadajte aspo {length} slic"},privacyNotice:{title:"Spracovan osobnch dajov",text:'Osobn daje spracovva spolonos Smartsupp.com, s.r.o., DI CZ03668681 (alej ako "Smartsupp") ako spracovate dajov, ktor kon v mene vlastnka webovej strnky, ktor je sprvcom dajov. Smartsupp je kompatibiln s GDPR. Informcie o ochrane skromia a spracovan osobnch dajov spolonosti Smartsupp njdete na strnke www.smartsupp.com/privacy. Spracovanie vaich osobnch dajov je nevyhnutn pre poskytnutie sluieb zkaznkom. Ak mte otzky tkajce sa spracovania osobnch dajov alebo ak chcete poiada alebo vymaza osobn daje, obrte sa na vlastnka webovch strnok.'}}),
Locale.inherit("sk","en"),Locale.define("sl","app",{messages:{agentjoin:"{name} se je pridruil/a pogovoru",agentleave:"{name} je zapustil/a pogovor",transfer:"Pogovor prenesen na {name}",rating:"Pogovor ste ocenili"},dialogClose:{title:"Bi eleli zakljuiti pogovor?",yes:"Da",no:"Ne",send:"Da, poljite mi pogovor na e-pota"},dialogSend:{title:"Poljite mi pogovor na e-pota",email:"E-pota",yes:"Polji",no:"Preklii"},dialogRating:{title:"Kako bi ocenili pogovor?",cancel:"Ne elim oceniti",submit:"Polji",commentTitle:"Va komentar"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Vpraajte nas karkoli",maximize:"Poveaj",minimize:"Zmanjaj",hideTitle:"Skrij pogovor",closeTitle:"Zapri pogovor",settingsTitle:"Nastavitve",disableSounds:"Onemogoi zvok",enableSounds:"Omogoi zvok",visitor:"Jaz",send:"Polji",textareaPlaceholder:"Piite tukaj in pritisnite <enter> za poiljanje",typingMsg:"{name} tipka...",transcriptSendingTitle:"Poiljanje emaila...",transcriptSendedTitle:"Poiljanje e-pote je uspelo",
rate:"Ocenite pogovor"},login:{title:"Pogovor prijava",messageLabel:"Vae vpraanje",submit:"Zani pogovor"},offline:{title:"Poljite nam sporoilo",notice:"Trenutno nismo dosegljivi, vendar nam lahko pustite sporoilo. Kontaktirali vas bomo takoj ko bo mogoe.",hideTitle:"Skrij pogovor",name:"Ime",email:"E-pota",message:"Vae sporoilo",submit:"Polji sporoilo",messageRequiredAlert:"Niste vnesli sporoila",emailRequiredAlert:"Niste vnesli e-pota",emailInvalidAlert:"Napaen e-pota",sendInfo:"Poiljanje emaila...",successTitle:"Hvala za vae sporoilo",successDesc:"Vae sporoilo je bilo uspeno poslano. Kmalu vas bomo kontaktirali.",failureTitle:"Napaka",failureDesc:"Vae sporoilo ni bilo poslano",number:"Telefon"},widget:{online:"Online",away:"Trenutno nedosegljivi",offline:"Offline"},banner:{bubble:{text:"Pripravljeni smo na vaa vpraanja"},arrow:{title:"Imate vpraanje?",desc:"Na voljo za odgovor"}},button:{title:"Chat"},settings:{title:"Nastavitve"},forms:{phoneInvalid:"Vnesite najmanj {length} tevilk"
}}),Locale.inherit("sl","en"),Locale.define("sr","app",{messages:{agentjoin:"{name} prikljuio/la se u razgovor",agentleave:"{name} napustio/la je razgovor",transfer:"Razgovor je prebaen agentu {name}",rating:"Razgovor je ocenjen"},dialogClose:{title:"Da li elite da prekinite razgovor?",yes:"Da",no:"Ne",send:"Da, i poaljite mi razgovor na e-mail"},dialogSend:{title:"Poaljite razgovor na e-mail",email:"E-mail",yes:"Poaljite",no:"Poniti"},dialogRating:{title:"Kako biste ocenili razgovor?",cancel:"Ne elim da ocenim",submit:"Poalji",commentTitle:"Va komentar"},online:{title:"Podrka",infoTitle:"Uivo podrka",infoDesc:"Slobodno nas pitajte, stojimo vam na raspolaganju",maximize:"Uveajte",minimize:"Smanjite",hideTitle:"Sakrijte chat",closeTitle:"Zatvorite chat",settingsTitle:"Podeavanja",disableSounds:"Iskljui zvuk",enableSounds:"Uskljui zvuk",visitor:"Vi",send:"Poalji",rate:"Ocene agenata",textareaPlaceholder:"Ovde piite, i poaljite",typingMsg:"{name} kuca...",transcriptSendingTitle:"Poaljite e-mail...",
transcriptSendingDesc:"",transcriptSendedTitle:"E-mail je poslat",transcriptSendedDesc:""},login:{title:"Chat logovanje",notice:"",messageLabel:"Vae pitanje",submit:"Zaponite razgovor"},offline:{title:"Poaljite nam poruku",notice:"Trentutno smo zauzeti, ali vas molimo da nam ostavite poruku. Kontaktiraemo vas im budemo u mogunosti.",hideTitle:"Sakrijte chat",required:"",name:"Ime",email:"E-mail",number:"Broj telefona",message:"Vaa poruka",submit:"Poaljite poruku",messageRequiredAlert:"Niste uneli poruku",emailRequiredAlert:"Niste uneli e-mail adresu",emailInvalidAlert:"Nepostojea e-mail adresa",sendInfo:"alje e-mail...",successTitle:"Hvala vam",successDesc:"Vaa poruka je uspeno poslata. Kontaktiraemo vas uskoro",failureTitle:"Greka",failureDesc:"Izvinjavamo se, ali vaa poruka nije poslata."},widget:{online:"Uivo",away:"Odsutan",offline:"Van mree"},banner:{bubble:{text:"Rado emo odgovoriti na sva vaa pitanja"},arrow:{title:"Imate pitanja?",desc:"Rado emo odgovoriti na vaa pitanja"
}},button:{title:"Chat"},settings:{title:"Podeavanja"},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("sr","en"),Locale.define("sv","app",{messages:{agentjoin:"{name} anslt sig till chatten",agentleave:"{name} lmnat chatten",transfer:"Chatten var verfrd till {name}",rating:"Betyg mottaget"},dialogClose:{title:"Vill du avsluta chatten?",yes:"Ja",no:"Nej",send:"Ja, och skicka chatten till mailen"},dialogSend:{title:"Skicka chatten till mailen",email:"E-post",yes:"Skicka",no:"ngra"},dialogRating:{title:"Vilket betyg skulle du ge chatten?",cancel:"Jag vill inte betygstta",submit:"Skicka",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Frga oss om vad som helst",maximize:"Maximera",minimize:"Minimera",hideTitle:"Gm chat",closeTitle:"Stng chat",settingsTitle:"Instllningar",disableSounds:"Avaktivera ljud",enableSounds:"Aktivera ljud",visitor:"Jag",send:"Skicka",textareaPlaceholder:"Skriv hr, tryck <enter> fr att skicka",
typingMsg:"{name} skriver...",transcriptSendingTitle:"Skickar mail...",transcriptSendedTitle:"Mailet skickades korrekt",rate:"Betygstt supporten"},login:{title:"Chat inloggning",messageLabel:"Din frga",submit:"Starta chat"},offline:{title:"Skicka oss ett meddelande",notice:"Vi finns inte tillgngliga just nu men du kan lmna ett meddelande till oss. S kommer vi att kontakta dig s fort vi kan.",hideTitle:"Gm chat",name:"Namn",email:"E-post",message:"Ditt meddelande",submit:"Skicka meddelande",messageRequiredAlert:"Du har inte skrivit ngot meddelande",emailRequiredAlert:"Du har inte angett ngon e-postadress",emailInvalidAlert:"Felaktig e-postadress",sendInfo:"Skickar e-post...",successTitle:"Tack fr ditt meddelande",successDesc:"Ditt meddelande skickades korrekt. Vi kommer kontakta dig s fort vi kan.",failureTitle:"Fel",failureDesc:"Ditt meddelande skickades inte",number:"Telefonnummer"},widget:{online:"Inloggad",away:"Borta",offline:"Ej inloggad"},banner:{bubble:{text:"Vi r redo fr dina frgor"
},arrow:{title:"Ngra frgor?",desc:"Vi r redo att svara"}},button:{title:"Chat"},settings:{title:"Instllningar"},forms:{phoneInvalid:"Ange minst {length} nummer"}}),Locale.inherit("sv","en"),Locale.define("th","app",{messages:{agentjoin:"{name} ",agentleave:"{name} ",transfer:" {name}",rating:""},dialogClose:{title:"",yes:"",no:"",send:", "},dialogSend:{title:"",email:"",yes:"",no:""},dialogRating:{title:"",cancel:"",submit:"",commentTitle:""},online:{title:"",infoTitle:"Live chat",infoDesc:"",maximize:"",minimize:"",hideTitle:"",closeTitle:"",settingsTitle:"",disableSounds:"",enableSounds:"",visitor:"",send:"",rate:"",
textareaPlaceholder:"  <enter> ",typingMsg:"{} ...",transcriptSendingTitle:"",transcriptSendingDesc:"app.online.transcriptSendingDesc",transcriptSendedTitle:"",transcriptSendedDesc:"app.online.transcriptSendedDesc"},login:{title:"",notice:"",messageLabel:"",submit:""},offline:{title:"",notice:"  ",hideTitle:"",required:"",name:"",email:"",number:"",message:"",submit:"",messageRequiredAlert:"",emailRequiredAlert:"",emailInvalidAlert:"",sendInfo:"",successTitle:"",successDesc:" ",failureTitle:"",failureDesc:""},widget:{online:"",
away:"",offline:""},banner:{bubble:{text:" "},arrow:{title:"",desc:""}},button:{title:"Chat"},settings:{title:""},forms:{phoneInvalid:" {length} "}}),Locale.inherit("th","en"),Locale.define("tr","app",{messages:{agentjoin:"{name} katld",agentleave:"{name} ayrld",transfer:"Diyalog {name} adl operatre aktarld",rating:"Sohbet Beenilen"},dialogClose:{title:"Diyalou sonlandrmak m istiyorsunuz?",yes:"Evet",no:"Hayr",send:"Evet ve diyalou emailime gnder"},dialogSend:{title:"Diyalou emailime gnder",email:"Email",yes:"Gnder",no:"ptal"},dialogRating:{title:"Bu diyalog iin ka verirsiniz?",cancel:"Deerlendirmek istemiyorum",submit:"Gnder",commentTitle:"Yorumunuz"},online:{title:"Destek",infoTitle:"Live chat",infoDesc:"Yardma ihtiyacnz var m?",maximize:"Byt",minimize:"Klt",hideTitle:"Diyalou gizle",closeTitle:"Diyalou kapat",settingsTitle:"Ayarlar",disableSounds:"Sesli bildirimi devre d brak",
enableSounds:"Sesli bildirimi etkinletir",visitor:"Ben",send:"Gnder",textareaPlaceholder:"Mesajnz yazn ve gndermek iin klavyeden <enter> tuuna basn",typingMsg:"<span>{name}</span> yazyor...",transcriptSendingTitle:"Mail gnderiliyor...",transcriptSendedTitle:"Email gnderimi baarl",rate:"Oran ajan"},login:{title:"Diyalog girii",messageLabel:"Sorunuz",submit:"Diyalou balat"},offline:{title:"Mesaj brakmak ister misiniz?",notice:"u anda mesai dndayz ancak mesajnz iletebilirsiniz. Mmkn olan en ksa sre iinde yantlanacandan emin olunuz.",hideTitle:"Diyalou gizle",name:"Adnz",email:"Email adresiniz",message:"Mesajnz",submit:"Gnder",messageRequiredAlert:"Mesajnz yazmadnz.",emailRequiredAlert:"Email adresinizi girmediniz.",emailInvalidAlert:"Email adresinizde hata var",sendInfo:"Email gnderiliyor...",successTitle:"Mesajnz iin teekkrler",successDesc:"Mesajnz gnderildi. Yaknda grmek dileiyle.",failureTitle:"Hata",failureDesc:"Mesajnz gnderilemedi.",
number:"letiim numaranz"},widget:{online:"evrimii",away:"Moladayz",offline:"evrimd"},banner:{bubble:{text:"Sorularnz bekliyoruz"},arrow:{title:"Nasl yardmc olabilir?",desc:"Yantlamaya hazrz"}},button:{title:"Chat"},settings:{title:"Ayarlar"},forms:{phoneInvalid:"En az {length} say girin"}}),Locale.inherit("tr","en"),Locale.define("tw","app",{messages:{agentjoin:"{name} ",agentleave:"{name} ",transfer:" {name}",rating:""},dialogClose:{title:"",yes:"",no:"",send:"Email"},dialogSend:{title:"Email",email:"Email",yes:"",no:""},dialogRating:{title:"",cancel:"",submit:"",commentTitle:""},online:{title:"",infoTitle:"",infoDesc:"",maximize:"",minimize:"",hideTitle:"",closeTitle:"",settingsTitle:"",disableSounds:"",enableSounds:"",visitor:"",send:"",textareaPlaceholder:"<>",typingMsg:"<span>{name}</span> ...",transcriptSendingTitle:"Email...",
transcriptSendedTitle:"Email",rate:""},login:{title:"",messageLabel:"",submit:""},offline:{title:"",notice:"",hideTitle:"",name:"",email:"Email",message:"",submit:"",messageRequiredAlert:"",emailRequiredAlert:"Email",emailInvalidAlert:"Email",sendInfo:"Email...",successTitle:"",successDesc:"",failureTitle:"",failureDesc:"",number:""},widget:{online:"",away:"",offline:""},banner:{bubble:{text:""},arrow:{title:"",desc:""}},button:{title:""},settings:{title:""},forms:{phoneInvalid:"{length}"}}),Locale.inherit("tw","en"),Locale.define("uk","app",{messages:{agentjoin:"{name}   ",agentleave:"{name}  ",transfer:"   {name}",rating:"  "},dialogClose:{title:"  ?",yes:"",no:"",send:",      e-mail"},dialogSend:{title:"   e-mail",
email:"E-mail",yes:"",no:""},dialogRating:{title:"    ?",cancel:"    ",submit:"",commentTitle:" "},online:{title:"",infoTitle:" ",infoDesc:"    ",maximize:"",minimize:"",hideTitle:" ",closeTitle:" ",settingsTitle:"",disableSounds:" ",enableSounds:" ",visitor:"",send:"",textareaPlaceholder:"   <enter>  ",typingMsg:"{name} ...",transcriptSendingTitle:" e-mail...",transcriptSendedTitle:"E-mail  ",rate:" "},login:{title:"  ",messageLabel:" ",submit:" "},offline:{title:"  ",notice:"      ,      .  ,     .",hideTitle:" ",name:"'",email:"E-mail",
message:" ",submit:" ",messageRequiredAlert:"   ",emailRequiredAlert:"   e-mail ",emailInvalidAlert:" e-mail",sendInfo:" e-mail...",successTitle:"   ",successDesc:"    .     '.",failureTitle:"",failureDesc:"    .",number:""},widget:{online:"",away:"  ",offline:""},banner:{bubble:{text:"    "},arrow:{title:" ?",desc:"  "}},button:{title:""},settings:{title:""},forms:{phoneInvalid:"  {length} "}}),Locale.inherit("uk","en"),Locale.define("cs","events",{visitorSendMessageAction:"Nvtvnk napsal zprvu",visitorSendMessageLabel:"nvtvnk napsal zprvu",operatorSendMessageAction:"Opertor napsal zprvu",operatorSendMessageLabel:"{name} napsal(a) zprvu",
triggerSendMessageAction:"Trigger napsal zprvu",triggerSendMessageLabel:"trigger {trigger} napsal",visitorReplyTriggerAction:"Nvtvnk odpovdl na trigger",visitorReplyTriggerLabel:"nvtvnk odpovdl na trigger {trigger}",conversationByOperatorAction:"Konverzace",conversationByOperatorLabel:"{name} zahjil(a) chat",conversationByVisitorAction:"Konverzace",conversationByVisitorLabel:"nvtvnk zahjil chat s {name}",conversationByTriggerAction:"Konverzace",conversationByTriggerLabel:"{name} chatoval(a) pomoc triggeru",closeChatAction:"Ukonen chatu",closeChatLabel:"{type}"}),Locale.inherit("cs","en"),Locale.define("en","events",{visitorSendMessageAction:"Visitor sent a message",visitorSendMessageLabel:"visitor sent a message",operatorSendMessageAction:"Agent sent a message",operatorSendMessageLabel:"{name} sent a message",triggerSendMessageAction:"Trigger sent",triggerSendMessageLabel:"trigger {trigger} wrote",visitorReplyTriggerAction:"Visitor replied to a trigger",visitorReplyTriggerLabel:"visitor replied to a trigger {trigger}",
conversationByOperatorAction:"Conversation",conversationByOperatorLabel:"{name} started a chat",conversationByVisitorAction:"Conversation",conversationByVisitorLabel:"visitor started a chat with {name}",conversationByTriggerAction:"Conversation",conversationByTriggerLabel:"{name} was chatting by a trigger",closeChatAction:"Close chat",closeChatLabel:"{type}"}),Locale.define("cs","plugins",{autoclose:{description:"Pokud nenapete dnou zprvu v prbhu tohoto asu, chat bude automaticky ukonen.",emptyText:"Pokud nenapete dnou zprvu v prbhu 5 min, chat bude automaticky ukonen.",closedIdleText:"Posledn komunikace byla ukonena z dvodu neaktivity."}}),Locale.inherit("cs","en");